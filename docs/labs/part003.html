<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lab Part – Econometrics and Analytics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Econometrics and Analytics</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-labs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Labs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-labs">    
        <li>
    <a class="dropdown-item" href="../labs/part001.html">
 <span class="dropdown-text">Part 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../labs/part002.html">
 <span class="dropdown-text">Part 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../labs/part003.html">
 <span class="dropdown-text">Part 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../labs/part004.html">
 <span class="dropdown-text">Part 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../labs/part005.html">
 <span class="dropdown-text">Part 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../labs/test001_with_mcq.qmd">
 <span class="dropdown-text">Part 6</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../labs/part001.html">Labs</a></li><li class="breadcrumb-item"><a href="../labs/part003.html">Lab Part</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Econometrics and Analytics</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Labs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/part001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fundamentals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/part002.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab Part</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/part003.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Lab Part</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/part004.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab Part</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/part005.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab Part</span></a>
  </div>
</li>
          <li class="sidebar-item">
 <span class="menu-text">labs/test001_with_mcq.qmd</span>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#regression-models---trend-and-seasonality---09-12-2023" id="toc-regression-models---trend-and-seasonality---09-12-2023" class="nav-link active" data-scroll-target="#regression-models---trend-and-seasonality---09-12-2023">REGRESSION MODELS - TREND AND SEASONALITY - 09-12-2023</a></li>
  <li><a href="#required-libraries" id="toc-required-libraries" class="nav-link" data-scroll-target="#required-libraries">Required libraries</a>
  <ul class="collapse">
  <li><a href="#registered-s3-method-overwritten-by-quantmod" id="toc-registered-s3-method-overwritten-by-quantmod" class="nav-link" data-scroll-target="#registered-s3-method-overwritten-by-quantmod">Registered S3 method overwritten by ‘quantmod’:</a></li>
  <li><a href="#method-from" id="toc-method-from" class="nav-link" data-scroll-target="#method-from">method from</a></li>
  <li><a href="#as.zoo.data.frame-zoo" id="toc-as.zoo.data.frame-zoo" class="nav-link" data-scroll-target="#as.zoo.data.frame-zoo">as.zoo.data.frame zoo</a></li>
  </ul></li>
  <li><a href="#loading-fdi-data-from-the-office-for-national-statistics-ons" id="toc-loading-fdi-data-from-the-office-for-national-statistics-ons" class="nav-link" data-scroll-target="#loading-fdi-data-from-the-office-for-national-statistics-ons">Loading FDI data from the Office for National Statistics (ONS)</a></li>
  <li><a href="#converting-the-data-into-a-time-series-object" id="toc-converting-the-data-into-a-time-series-object" class="nav-link" data-scroll-target="#converting-the-data-into-a-time-series-object">Converting the data into a time series object</a></li>
  <li><a href="#plotting-the-time-series-data" id="toc-plotting-the-time-series-data" class="nav-link" data-scroll-target="#plotting-the-time-series-data">Plotting the time series data</a></li>
  <li><a href="#partitioning-the-dataset-into-training-and-validation-sets" id="toc-partitioning-the-dataset-into-training-and-validation-sets" class="nav-link" data-scroll-target="#partitioning-the-dataset-into-training-and-validation-sets">Partitioning the dataset into training and validation sets</a></li>
  <li><a href="#fitting-a-linear-model-with-additive-seasonality" id="toc-fitting-a-linear-model-with-additive-seasonality" class="nav-link" data-scroll-target="#fitting-a-linear-model-with-additive-seasonality">Fitting a linear model with additive seasonality</a>
  <ul class="collapse">
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#call" id="toc-call" class="nav-link" data-scroll-target="#call">Call:</a></li>
  <li><a href="#tslmformula-train.ts-trend-itrend2-season" id="toc-tslmformula-train.ts-trend-itrend2-season" class="nav-link" data-scroll-target="#tslmformula-train.ts-trend-itrend2-season">tslm(formula = train.ts ~ trend + I(trend^2) + season)</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"></a></li>
  <li><a href="#residuals" id="toc-residuals" class="nav-link" data-scroll-target="#residuals">Residuals:</a></li>
  <li><a href="#min-1q-median-3q-max" id="toc-min-1q-median-3q-max" class="nav-link" data-scroll-target="#min-1q-median-3q-max">Min 1Q Median 3Q Max</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2">-69865 -16822 6605 18803 42921</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3"></a></li>
  <li><a href="#coefficients" id="toc-coefficients" class="nav-link" data-scroll-target="#coefficients">Coefficients:</a></li>
  <li><a href="#estimate-std.-error-t-value-prt" id="toc-estimate-std.-error-t-value-prt" class="nav-link" data-scroll-target="#estimate-std.-error-t-value-prt">Estimate Std. Error t value Pr(&gt;|t|)</a></li>
  <li><a href="#intercept-86271.361-9776.832-8.824-3.72e-14" id="toc-intercept-86271.361-9776.832-8.824-3.72e-14" class="nav-link" data-scroll-target="#intercept-86271.361-9776.832-8.824-3.72e-14">(Intercept) 86271.361 9776.832 8.824 3.72e-14 ***</a></li>
  <li><a href="#trend--2840.422-371.997--7.636-1.37e-11" id="toc-trend--2840.422-371.997--7.636-1.37e-11" class="nav-link" data-scroll-target="#trend--2840.422-371.997--7.636-1.37e-11">trend -2840.422 371.997 -7.636 1.37e-11 ***</a></li>
  <li><a href="#itrend2-84.977-3.368-25.228-2e-16" id="toc-itrend2-84.977-3.368-25.228-2e-16" class="nav-link" data-scroll-target="#itrend2-84.977-3.368-25.228-2e-16">I(trend^2) 84.977 3.368 25.228 &lt; 2e-16 ***</a></li>
  <li><a href="#season2-197.592-7896.358-0.025-0.980" id="toc-season2-197.592-7896.358-0.025-0.980" class="nav-link" data-scroll-target="#season2-197.592-7896.358-0.025-0.980">season2 197.592 7896.358 0.025 0.980</a></li>
  <li><a href="#season3-3015.444-7974.934-0.378-0.706" id="toc-season3-3015.444-7974.934-0.378-0.706" class="nav-link" data-scroll-target="#season3-3015.444-7974.934-0.378-0.706">season3 3015.444 7974.934 0.378 0.706</a></li>
  <li><a href="#season4-2322.794-7975.466-0.291-0.771" id="toc-season4-2322.794-7975.466-0.291-0.771" class="nav-link" data-scroll-target="#season4-2322.794-7975.466-0.291-0.771">season4 2322.794 7975.466 0.291 0.771</a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4">—</a></li>
  <li><a href="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1" id="toc-signif.-codes-0-0.001-0.01-0.05-.-0.1-1" class="nav-link" data-scroll-target="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5"></a></li>
  <li><a href="#residual-standard-error-29010-on-100-degrees-of-freedom" id="toc-residual-standard-error-29010-on-100-degrees-of-freedom" class="nav-link" data-scroll-target="#residual-standard-error-29010-on-100-degrees-of-freedom">Residual standard error: 29010 on 100 degrees of freedom</a></li>
  <li><a href="#multiple-r-squared-0.9813-adjusted-r-squared-0.9804" id="toc-multiple-r-squared-0.9813-adjusted-r-squared-0.9804" class="nav-link" data-scroll-target="#multiple-r-squared-0.9813-adjusted-r-squared-0.9804">Multiple R-squared: 0.9813, Adjusted R-squared: 0.9804</a></li>
  <li><a href="#f-statistic-1049-on-5-and-100-df-p-value-2.2e-16" id="toc-f-statistic-1049-on-5-and-100-df-p-value-2.2e-16" class="nav-link" data-scroll-target="#f-statistic-1049-on-5-and-100-df-p-value-2.2e-16">F-statistic: 1049 on 5 and 100 DF, p-value: &lt; 2.2e-16</a></li>
  </ul></li>
  <li><a href="#forecasting-using-the-linear-model" id="toc-forecasting-using-the-linear-model" class="nav-link" data-scroll-target="#forecasting-using-the-linear-model">Forecasting using the linear model</a></li>
  <li><a href="#plotting-the-forecast-results" id="toc-plotting-the-forecast-results" class="nav-link" data-scroll-target="#plotting-the-forecast-results">Plotting the forecast results</a></li>
  <li><a href="#assessing-forecast-accuracy" id="toc-assessing-forecast-accuracy" class="nav-link" data-scroll-target="#assessing-forecast-accuracy">Assessing forecast accuracy</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-acf1-theils-u" id="toc-me-rmse-mae-mpe-mape-acf1-theils-u" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-acf1-theils-u">ME RMSE MAE MPE MAPE ACF1 Theil’s U</a></li>
  <li><a href="#test-set-258355.9-356540.8-267170.7-14.88078-15.92279-0.9231679-4.896507" id="toc-test-set-258355.9-356540.8-267170.7-14.88078-15.92279-0.9231679-4.896507" class="nav-link" data-scroll-target="#test-set-258355.9-356540.8-267170.7-14.88078-15.92279-0.9231679-4.896507">Test set 258355.9 356540.8 267170.7 14.88078 15.92279 0.9231679 4.896507</a></li>
  </ul></li>
  <li><a href="#naive-forecast-for-the-training-period" id="toc-naive-forecast-for-the-training-period" class="nav-link" data-scroll-target="#naive-forecast-for-the-training-period">Naive forecast for the training period</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-mase-acf1" id="toc-me-rmse-mae-mpe-mape-mase-acf1" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-mase-acf1">ME RMSE MAE MPE MAPE MASE ACF1</a></li>
  <li><a href="#training-set-28033.81-44826.92-30468.36-10.31471-11.32815-1.00000-0.8273804" id="toc-training-set-28033.81-44826.92-30468.36-10.31471-11.32815-1.00000-0.8273804" class="nav-link" data-scroll-target="#training-set-28033.81-44826.92-30468.36-10.31471-11.32815-1.00000-0.8273804">Training set 28033.81 44826.92 30468.36 10.31471 11.32815 1.00000 0.8273804</a></li>
  <li><a href="#test-set-601469.28-755172.46-601525.57-37.40444-37.41183-19.74263-0.9297684" id="toc-test-set-601469.28-755172.46-601525.57-37.40444-37.41183-19.74263-0.9297684" class="nav-link" data-scroll-target="#test-set-601469.28-755172.46-601525.57-37.40444-37.41183-19.74263-0.9297684">Test set 601469.28 755172.46 601525.57 37.40444 37.41183 19.74263 0.9297684</a></li>
  <li><a href="#theils-u" id="toc-theils-u" class="nav-link" data-scroll-target="#theils-u">Theil’s U</a></li>
  <li><a href="#training-set-na" id="toc-training-set-na" class="nav-link" data-scroll-target="#training-set-na">Training set NA</a></li>
  <li><a href="#test-set-10.77091" id="toc-test-set-10.77091" class="nav-link" data-scroll-target="#test-set-10.77091">Test set 10.77091</a></li>
  </ul></li>
  <li><a href="#plotting-the-naive-forecast" id="toc-plotting-the-naive-forecast" class="nav-link" data-scroll-target="#plotting-the-naive-forecast">Plotting the naive forecast</a></li>
  <li><a href="#using-ets-models-for-forecasting" id="toc-using-ets-models-for-forecasting" class="nav-link" data-scroll-target="#using-ets-models-for-forecasting">Using ETS models for forecasting</a></li>
  <li><a href="#plotting-ets-model-forecasts" id="toc-plotting-ets-model-forecasts" class="nav-link" data-scroll-target="#plotting-ets-model-forecasts">Plotting ETS model forecasts</a></li>
  <li><a href="#evaluating-ets-model-accuracy" id="toc-evaluating-ets-model-accuracy" class="nav-link" data-scroll-target="#evaluating-ets-model-accuracy">Evaluating ETS model accuracy</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-acf1-theils-u-1" id="toc-me-rmse-mae-mpe-mape-acf1-theils-u-1" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-acf1-theils-u-1">ME RMSE MAE MPE MAPE ACF1 Theil’s U</a></li>
  <li><a href="#test-set-289297.9-413346.4-308538.1-16.11673-18.44179-0.9251353-5.634319" id="toc-test-set-289297.9-413346.4-308538.1-16.11673-18.44179-0.9251353-5.634319" class="nav-link" data-scroll-target="#test-set-289297.9-413346.4-308538.1-16.11673-18.44179-0.9251353-5.634319">Test set 289297.9 413346.4 308538.1 16.11673 18.44179 0.9251353 5.634319</a></li>
  <li><a href="#me-rmse-mae-mpe-mape-acf1-theils-u-2" id="toc-me-rmse-mae-mpe-mape-acf1-theils-u-2" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-acf1-theils-u-2">ME RMSE MAE MPE MAPE ACF1 Theil’s U</a></li>
  <li><a href="#test-set-584104.6-742120.7-585794.8-35.93561-36.15939-0.927391-10.52316" id="toc-test-set-584104.6-742120.7-585794.8-35.93561-36.15939-0.927391-10.52316" class="nav-link" data-scroll-target="#test-set-584104.6-742120.7-585794.8-35.93561-36.15939-0.927391-10.52316">Test set 584104.6 742120.7 585794.8 35.93561 36.15939 0.927391 10.52316</a></li>
  <li><a href="#me-rmse-mae-mpe-mape-acf1-theils-u-3" id="toc-me-rmse-mae-mpe-mape-acf1-theils-u-3" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-acf1-theils-u-3">ME RMSE MAE MPE MAPE ACF1 Theil’s U</a></li>
  <li><a href="#test-set-340110.2-483237.1-357825-19.0682-21.23053-0.9260083-6.566403" id="toc-test-set-340110.2-483237.1-357825-19.0682-21.23053-0.9260083-6.566403" class="nav-link" data-scroll-target="#test-set-340110.2-483237.1-357825-19.0682-21.23053-0.9260083-6.566403">Test set 340110.2 483237.1 357825 19.0682 21.23053 0.9260083 6.566403</a></li>
  </ul></li>
  <li><a href="#adding-a-legend" id="toc-adding-a-legend" class="nav-link" data-scroll-target="#adding-a-legend">Adding a legend</a></li>
  <li><a href="#regression-models---trend-and-seasonality---09-12-2023-1" id="toc-regression-models---trend-and-seasonality---09-12-2023-1" class="nav-link" data-scroll-target="#regression-models---trend-and-seasonality---09-12-2023-1">REGRESSION MODELS - TREND AND SEASONALITY - 09-12-2023</a></li>
  <li><a href="#load-necessary-libraries" id="toc-load-necessary-libraries" class="nav-link" data-scroll-target="#load-necessary-libraries">Load necessary libraries</a>
  <ul class="collapse">
  <li><a href="#registered-s3-method-overwritten-by-quantmod-1" id="toc-registered-s3-method-overwritten-by-quantmod-1" class="nav-link" data-scroll-target="#registered-s3-method-overwritten-by-quantmod-1">Registered S3 method overwritten by ‘quantmod’:</a></li>
  <li><a href="#method-from-1" id="toc-method-from-1" class="nav-link" data-scroll-target="#method-from-1">method from</a></li>
  <li><a href="#as.zoo.data.frame-zoo-1" id="toc-as.zoo.data.frame-zoo-1" class="nav-link" data-scroll-target="#as.zoo.data.frame-zoo-1">as.zoo.data.frame zoo</a></li>
  </ul></li>
  <li><a href="#load-retail-sales-index-data-from-ons" id="toc-load-retail-sales-index-data-from-ons" class="nav-link" data-scroll-target="#load-retail-sales-index-data-from-ons">Load retail sales index data from ONS</a></li>
  <li><a href="#convert-retail-sales-data-into-a-time-series-object" id="toc-convert-retail-sales-data-into-a-time-series-object" class="nav-link" data-scroll-target="#convert-retail-sales-data-into-a-time-series-object">Convert retail sales data into a time series object</a></li>
  <li><a href="#initial-time-series-plot-for-retail-sales-index" id="toc-initial-time-series-plot-for-retail-sales-index" class="nav-link" data-scroll-target="#initial-time-series-plot-for-retail-sales-index">Initial time series plot for retail sales index</a></li>
  <li><a href="#split-the-dataset-into-training-and-validation-sets" id="toc-split-the-dataset-into-training-and-validation-sets" class="nav-link" data-scroll-target="#split-the-dataset-into-training-and-validation-sets">Split the dataset into training and validation sets</a></li>
  <li><a href="#fit-a-time-series-linear-model-with-trend-and-seasonality" id="toc-fit-a-time-series-linear-model-with-trend-and-seasonality" class="nav-link" data-scroll-target="#fit-a-time-series-linear-model-with-trend-and-seasonality">Fit a time series linear model with trend and seasonality</a>
  <ul class="collapse">
  <li><a href="#section-6" id="toc-section-6" class="nav-link" data-scroll-target="#section-6"></a></li>
  <li><a href="#call-1" id="toc-call-1" class="nav-link" data-scroll-target="#call-1">Call:</a></li>
  <li><a href="#tslmformula-train.ts-trend-itrend2-season-1" id="toc-tslmformula-train.ts-trend-itrend2-season-1" class="nav-link" data-scroll-target="#tslmformula-train.ts-trend-itrend2-season-1">tslm(formula = train.ts ~ trend + I(trend^2) + season)</a></li>
  <li><a href="#section-7" id="toc-section-7" class="nav-link" data-scroll-target="#section-7"></a></li>
  <li><a href="#residuals-1" id="toc-residuals-1" class="nav-link" data-scroll-target="#residuals-1">Residuals:</a></li>
  <li><a href="#min-1q-median-3q-max-1" id="toc-min-1q-median-3q-max-1" class="nav-link" data-scroll-target="#min-1q-median-3q-max-1">Min 1Q Median 3Q Max</a></li>
  <li><a href="#section-8" id="toc-section-8" class="nav-link" data-scroll-target="#section-8">-23.9822 -1.0645 0.0657 1.3221 10.6067</a></li>
  <li><a href="#section-9" id="toc-section-9" class="nav-link" data-scroll-target="#section-9"></a></li>
  <li><a href="#coefficients-1" id="toc-coefficients-1" class="nav-link" data-scroll-target="#coefficients-1">Coefficients:</a></li>
  <li><a href="#estimate-std.-error-t-value-prt-1" id="toc-estimate-std.-error-t-value-prt-1" class="nav-link" data-scroll-target="#estimate-std.-error-t-value-prt-1">Estimate Std. Error t value Pr(&gt;|t|)</a></li>
  <li><a href="#intercept-3.962e01-7.251e-01-54.649-2e-16" id="toc-intercept-3.962e01-7.251e-01-54.649-2e-16" class="nav-link" data-scroll-target="#intercept-3.962e01-7.251e-01-54.649-2e-16">(Intercept) 3.962e+01 7.251e-01 54.649 &lt; 2e-16 ***</a></li>
  <li><a href="#trend-1.250e-01-7.034e-03-17.768-2e-16" id="toc-trend-1.250e-01-7.034e-03-17.768-2e-16" class="nav-link" data-scroll-target="#trend-1.250e-01-7.034e-03-17.768-2e-16">trend 1.250e-01 7.034e-03 17.768 &lt; 2e-16 ***</a></li>
  <li><a href="#itrend2-2.078e-04-2.109e-05-9.853-2e-16" id="toc-itrend2-2.078e-04-2.109e-05-9.853-2e-16" class="nav-link" data-scroll-target="#itrend2-2.078e-04-2.109e-05-9.853-2e-16">I(trend^2) 2.078e-04 2.109e-05 9.853 &lt; 2e-16 ***</a></li>
  <li><a href="#season2-1.139e00-7.956e-01-1.432-0.153" id="toc-season2-1.139e00-7.956e-01-1.432-0.153" class="nav-link" data-scroll-target="#season2-1.139e00-7.956e-01-1.432-0.153">season2 1.139e+00 7.956e-01 1.432 0.153</a></li>
  <li><a href="#season3-3.248e00-7.956e-01-4.083-5.67e-05" id="toc-season3-3.248e00-7.956e-01-4.083-5.67e-05" class="nav-link" data-scroll-target="#season3-3.248e00-7.956e-01-4.083-5.67e-05">season3 3.248e+00 7.956e-01 4.083 5.67e-05 ***</a></li>
  <li><a href="#season4-4.450e00-7.956e-01-5.593-4.93e-08" id="toc-season4-4.450e00-7.956e-01-5.593-4.93e-08" class="nav-link" data-scroll-target="#season4-4.450e00-7.956e-01-5.593-4.93e-08">season4 4.450e+00 7.956e-01 5.593 4.93e-08 ***</a></li>
  <li><a href="#season5-5.321e00-7.956e-01-6.688-1.06e-10" id="toc-season5-5.321e00-7.956e-01-6.688-1.06e-10" class="nav-link" data-scroll-target="#season5-5.321e00-7.956e-01-6.688-1.06e-10">season5 5.321e+00 7.956e-01 6.688 1.06e-10 ***</a></li>
  <li><a href="#season6-5.866e00-7.956e-01-7.373-1.55e-12" id="toc-season6-5.866e00-7.956e-01-7.373-1.55e-12" class="nav-link" data-scroll-target="#season6-5.866e00-7.956e-01-7.373-1.55e-12">season6 5.866e+00 7.956e-01 7.373 1.55e-12 ***</a></li>
  <li><a href="#season7-6.718e00-7.956e-01-8.444-1.23e-15" id="toc-season7-6.718e00-7.956e-01-8.444-1.23e-15" class="nav-link" data-scroll-target="#season7-6.718e00-7.956e-01-8.444-1.23e-15">season7 6.718e+00 7.956e-01 8.444 1.23e-15 ***</a></li>
  <li><a href="#season8-4.521e00-7.957e-01-5.682-3.08e-08" id="toc-season8-4.521e00-7.957e-01-5.682-3.08e-08" class="nav-link" data-scroll-target="#season8-4.521e00-7.957e-01-5.682-3.08e-08">season8 4.521e+00 7.957e-01 5.682 3.08e-08 ***</a></li>
  <li><a href="#season9-4.476e00-7.957e-01-5.625-4.16e-08" id="toc-season9-4.476e00-7.957e-01-5.625-4.16e-08" class="nav-link" data-scroll-target="#season9-4.476e00-7.957e-01-5.625-4.16e-08">season9 4.476e+00 7.957e-01 5.625 4.16e-08 ***</a></li>
  <li><a href="#season10-7.593e00-7.957e-01-9.543-2e-16" id="toc-season10-7.593e00-7.957e-01-9.543-2e-16" class="nav-link" data-scroll-target="#season10-7.593e00-7.957e-01-9.543-2e-16">season10 7.593e+00 7.957e-01 9.543 &lt; 2e-16 ***</a></li>
  <li><a href="#season11-1.431e01-8.033e-01-17.808-2e-16" id="toc-season11-1.431e01-8.033e-01-17.808-2e-16" class="nav-link" data-scroll-target="#season11-1.431e01-8.033e-01-17.808-2e-16">season11 1.431e+01 8.033e-01 17.808 &lt; 2e-16 ***</a></li>
  <li><a href="#season12-2.508e01-8.033e-01-31.223-2e-16" id="toc-season12-2.508e01-8.033e-01-31.223-2e-16" class="nav-link" data-scroll-target="#season12-2.508e01-8.033e-01-31.223-2e-16">season12 2.508e+01 8.033e-01 31.223 &lt; 2e-16 ***</a></li>
  <li><a href="#section-10" id="toc-section-10" class="nav-link" data-scroll-target="#section-10">—</a></li>
  <li><a href="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-1" id="toc-signif.-codes-0-0.001-0.01-0.05-.-0.1-1-1" class="nav-link" data-scroll-target="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-1">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</a></li>
  <li><a href="#section-11" id="toc-section-11" class="nav-link" data-scroll-target="#section-11"></a></li>
  <li><a href="#residual-standard-error-2.923-on-308-degrees-of-freedom" id="toc-residual-standard-error-2.923-on-308-degrees-of-freedom" class="nav-link" data-scroll-target="#residual-standard-error-2.923-on-308-degrees-of-freedom">Residual standard error: 2.923 on 308 degrees of freedom</a></li>
  <li><a href="#multiple-r-squared-0.978-adjusted-r-squared-0.9771" id="toc-multiple-r-squared-0.978-adjusted-r-squared-0.9771" class="nav-link" data-scroll-target="#multiple-r-squared-0.978-adjusted-r-squared-0.9771">Multiple R-squared: 0.978, Adjusted R-squared: 0.9771</a></li>
  <li><a href="#f-statistic-1054-on-13-and-308-df-p-value-2.2e-16" id="toc-f-statistic-1054-on-13-and-308-df-p-value-2.2e-16" class="nav-link" data-scroll-target="#f-statistic-1054-on-13-and-308-df-p-value-2.2e-16">F-statistic: 1054 on 13 and 308 DF, p-value: &lt; 2.2e-16</a></li>
  </ul></li>
  <li><a href="#forecast-future-values-using-the-fitted-model" id="toc-forecast-future-values-using-the-fitted-model" class="nav-link" data-scroll-target="#forecast-future-values-using-the-fitted-model">Forecast future values using the fitted model</a></li>
  <li><a href="#plot-the-forecast-and-compare-with-actual-values" id="toc-plot-the-forecast-and-compare-with-actual-values" class="nav-link" data-scroll-target="#plot-the-forecast-and-compare-with-actual-values">Plot the forecast and compare with actual values</a></li>
  <li><a href="#customizing-the-x-axis-with-labels-at-two-year-intervals" id="toc-customizing-the-x-axis-with-labels-at-two-year-intervals" class="nav-link" data-scroll-target="#customizing-the-x-axis-with-labels-at-two-year-intervals">Customizing the x-axis with labels at two-year intervals</a></li>
  <li><a href="#adding-the-fitted-values-from-the-model-to-the-plot" id="toc-adding-the-fitted-values-from-the-model-to-the-plot" class="nav-link" data-scroll-target="#adding-the-fitted-values-from-the-model-to-the-plot">Adding the fitted values from the model to the plot</a></li>
  <li><a href="#adding-the-validation-set-to-the-plot-for-comparison" id="toc-adding-the-validation-set-to-the-plot-for-comparison" class="nav-link" data-scroll-target="#adding-the-validation-set-to-the-plot-for-comparison">Adding the validation set to the plot for comparison</a></li>
  <li><a href="#evaluate-the-forecasts-accuracy-against-the-validation-set" id="toc-evaluate-the-forecasts-accuracy-against-the-validation-set" class="nav-link" data-scroll-target="#evaluate-the-forecasts-accuracy-against-the-validation-set">Evaluate the forecast’s accuracy against the validation set</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape" id="toc-me-rmse-mae-mpe-mape" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape">ME RMSE MAE MPE MAPE</a></li>
  <li><a href="#test-set-5.237359-5.945129-5.237359" id="toc-test-set-5.237359-5.945129-5.237359" class="nav-link" data-scroll-target="#test-set-5.237359-5.945129-5.237359">Test set 5.237359 5.945129 5.237359</a></li>
  <li><a href="#loading-required-package-usethis" id="toc-loading-required-package-usethis" class="nav-link" data-scroll-target="#loading-required-package-usethis">Loading required package: usethis</a></li>
  </ul></li>
  <li><a href="#gbhicmeci-is-the-name-of-the-inflation-time-series." id="toc-gbhicmeci-is-the-name-of-the-inflation-time-series." class="nav-link" data-scroll-target="#gbhicmeci-is-the-name-of-the-inflation-time-series.">GBHICM=ECI is the name of the inflation time series.</a></li>
  <li><a href="#str-function-shows-the-characteristics-and-format-of-inflation" id="toc-str-function-shows-the-characteristics-and-format-of-inflation" class="nav-link" data-scroll-target="#str-function-shows-the-characteristics-and-format-of-inflation">str function shows the characteristics and format of ‘inflation’</a>
  <ul class="collapse">
  <li><a href="#data.frame-178-obs.-of-3-variables" id="toc-data.frame-178-obs.-of-3-variables" class="nav-link" data-scroll-target="#data.frame-178-obs.-of-3-variables">‘data.frame’: 178 obs. of 3 variables:</a></li>
  <li><a href="#timestamp-chr-2009-01-31t000000z-2009-02-28t000000z-2009-03-31t000000z-2009-04-30t000000z" id="toc-timestamp-chr-2009-01-31t000000z-2009-02-28t000000z-2009-03-31t000000z-2009-04-30t000000z" class="nav-link" data-scroll-target="#timestamp-chr-2009-01-31t000000z-2009-02-28t000000z-2009-03-31t000000z-2009-04-30t000000z">$ TIMESTAMP: chr “2009-01-31T00:00:00Z” “2009-02-28T00:00:00Z” “2009-03-31T00:00:00Z” “2009-04-30T00:00:00Z” …</a></li>
  <li><a href="#value-chr--0.7-0.9-0.2-0.2" id="toc-value-chr--0.7-0.9-0.2-0.2" class="nav-link" data-scroll-target="#value-chr--0.7-0.9-0.2-0.2">$ VALUE : chr “-0.7” “0.9” “0.2” “0.2” …</a></li>
  <li><a href="#na-chr-gbhicmeci-gbhicmeci-gbhicmeci-gbhicmeci" id="toc-na-chr-gbhicmeci-gbhicmeci-gbhicmeci-gbhicmeci" class="nav-link" data-scroll-target="#na-chr-gbhicmeci-gbhicmeci-gbhicmeci-gbhicmeci">$ NA : chr “GBHICM=ECI” “GBHICM=ECI” “GBHICM=ECI” “GBHICM=ECI” …</a></li>
  <li><a href="#registered-s3-method-overwritten-by-quantmod-2" id="toc-registered-s3-method-overwritten-by-quantmod-2" class="nav-link" data-scroll-target="#registered-s3-method-overwritten-by-quantmod-2">Registered S3 method overwritten by ‘quantmod’:</a></li>
  <li><a href="#method-from-2" id="toc-method-from-2" class="nav-link" data-scroll-target="#method-from-2">method from</a></li>
  <li><a href="#as.zoo.data.frame-zoo-2" id="toc-as.zoo.data.frame-zoo-2" class="nav-link" data-scroll-target="#as.zoo.data.frame-zoo-2">as.zoo.data.frame zoo</a></li>
  <li><a href="#section-12" id="toc-section-12" class="nav-link" data-scroll-target="#section-12"></a></li>
  <li><a href="#attaching-package-zoo" id="toc-attaching-package-zoo" class="nav-link" data-scroll-target="#attaching-package-zoo">Attaching package: ‘zoo’</a></li>
  <li><a href="#the-following-objects-are-masked-from-packagebase" id="toc-the-following-objects-are-masked-from-packagebase" class="nav-link" data-scroll-target="#the-following-objects-are-masked-from-packagebase">The following objects are masked from ‘package:base’:</a></li>
  <li><a href="#section-13" id="toc-section-13" class="nav-link" data-scroll-target="#section-13"></a></li>
  <li><a href="#as.date-as.date.numeric" id="toc-as.date-as.date.numeric" class="nav-link" data-scroll-target="#as.date-as.date.numeric">as.Date, as.Date.numeric</a></li>
  </ul></li>
  <li><a href="#set-as-a-time-series-and-plot-the-data" id="toc-set-as-a-time-series-and-plot-the-data" class="nav-link" data-scroll-target="#set-as-a-time-series-and-plot-the-data">set as a time series and plot the data</a></li>
  <li><a href="#this-section-contains-the-partition-of-the-dataset-into-training-and-validation-period." id="toc-this-section-contains-the-partition-of-the-dataset-into-training-and-validation-period." class="nav-link" data-scroll-target="#this-section-contains-the-partition-of-the-dataset-into-training-and-validation-period.">This section contains the partition of the dataset into training and validation period.</a>
  <ul class="collapse">
  <li><a href="#section-14" id="toc-section-14" class="nav-link" data-scroll-target="#section-14"></a></li>
  <li><a href="#call-2" id="toc-call-2" class="nav-link" data-scroll-target="#call-2">Call:</a></li>
  <li><a href="#tslmformula-train.ts-trend-itrend2-season-2" id="toc-tslmformula-train.ts-trend-itrend2-season-2" class="nav-link" data-scroll-target="#tslmformula-train.ts-trend-itrend2-season-2">tslm(formula = train.ts ~ trend + I(trend^2) + season)</a></li>
  <li><a href="#section-15" id="toc-section-15" class="nav-link" data-scroll-target="#section-15"></a></li>
  <li><a href="#residuals-2" id="toc-residuals-2" class="nav-link" data-scroll-target="#residuals-2">Residuals:</a></li>
  <li><a href="#min-1q-median-3q-max-2" id="toc-min-1q-median-3q-max-2" class="nav-link" data-scroll-target="#min-1q-median-3q-max-2">Min 1Q Median 3Q Max</a></li>
  <li><a href="#section-16" id="toc-section-16" class="nav-link" data-scroll-target="#section-16">-0.9395 -0.1636 0.0185 0.1481 1.6026</a></li>
  <li><a href="#section-17" id="toc-section-17" class="nav-link" data-scroll-target="#section-17"></a></li>
  <li><a href="#coefficients-2" id="toc-coefficients-2" class="nav-link" data-scroll-target="#coefficients-2">Coefficients:</a></li>
  <li><a href="#estimate-std.-error-t-value-prt-2" id="toc-estimate-std.-error-t-value-prt-2" class="nav-link" data-scroll-target="#estimate-std.-error-t-value-prt-2">Estimate Std. Error t value Pr(&gt;|t|)</a></li>
  <li><a href="#intercept--2.215e-01-1.032e-01--2.147-0.0334" id="toc-intercept--2.215e-01-1.032e-01--2.147-0.0334" class="nav-link" data-scroll-target="#intercept--2.215e-01-1.032e-01--2.147-0.0334">(Intercept) -2.215e-01 1.032e-01 -2.147 0.0334 *</a></li>
  <li><a href="#trend--1.098e-02-1.958e-03--5.608-9.41e-08" id="toc-trend--1.098e-02-1.958e-03--5.608-9.41e-08" class="nav-link" data-scroll-target="#trend--1.098e-02-1.958e-03--5.608-9.41e-08">trend -1.098e-02 1.958e-03 -5.608 9.41e-08 ***</a></li>
  <li><a href="#itrend2-7.281e-05-1.136e-05-6.411-1.73e-09" id="toc-itrend2-7.281e-05-1.136e-05-6.411-1.73e-09" class="nav-link" data-scroll-target="#itrend2-7.281e-05-1.136e-05-6.411-1.73e-09">I(trend^2) 7.281e-05 1.136e-05 6.411 1.73e-09 ***</a></li>
  <li><a href="#season2-9.780e-01-1.134e-01-8.625-7.90e-15" id="toc-season2-9.780e-01-1.134e-01-8.625-7.90e-15" class="nav-link" data-scroll-target="#season2-9.780e-01-1.134e-01-8.625-7.90e-15">season2 9.780e-01 1.134e-01 8.625 7.90e-15 ***</a></li>
  <li><a href="#season3-7.915e-01-1.134e-01-6.980-8.55e-11" id="toc-season3-7.915e-01-1.134e-01-6.980-8.55e-11" class="nav-link" data-scroll-target="#season3-7.915e-01-1.134e-01-6.980-8.55e-11">season3 7.915e-01 1.134e-01 6.980 8.55e-11 ***</a></li>
  <li><a href="#season4-1.012e00-1.134e-01-8.925-1.35e-15" id="toc-season4-1.012e00-1.134e-01-8.925-1.35e-15" class="nav-link" data-scroll-target="#season4-1.012e00-1.134e-01-8.925-1.35e-15">season4 1.012e+00 1.134e-01 8.925 1.35e-15 ***</a></li>
  <li><a href="#season5-7.253e-01-1.134e-01-6.396-1.87e-09" id="toc-season5-7.253e-01-1.134e-01-6.396-1.87e-09" class="nav-link" data-scroll-target="#season5-7.253e-01-1.134e-01-6.396-1.87e-09">season5 7.253e-01 1.134e-01 6.396 1.87e-09 ***</a></li>
  <li><a href="#season6-5.670e-01-1.134e-01-4.999-1.57e-06" id="toc-season6-5.670e-01-1.134e-01-4.999-1.57e-06" class="nav-link" data-scroll-target="#season6-5.670e-01-1.134e-01-4.999-1.57e-06">season6 5.670e-01 1.134e-01 4.999 1.57e-06 ***</a></li>
  <li><a href="#season7-4.728e-01-1.134e-01-4.168-5.13e-05" id="toc-season7-4.728e-01-1.134e-01-4.168-5.13e-05" class="nav-link" data-scroll-target="#season7-4.728e-01-1.134e-01-4.168-5.13e-05">season7 4.728e-01 1.134e-01 4.168 5.13e-05 ***</a></li>
  <li><a href="#season8-8.713e-01-1.134e-01-7.681-1.80e-12" id="toc-season8-8.713e-01-1.134e-01-7.681-1.80e-12" class="nav-link" data-scroll-target="#season8-8.713e-01-1.134e-01-7.681-1.80e-12">season8 8.713e-01 1.134e-01 7.681 1.80e-12 ***</a></li>
  <li><a href="#season9-6.840e-01-1.135e-01-6.029-1.20e-08" id="toc-season9-6.840e-01-1.135e-01-6.029-1.20e-08" class="nav-link" data-scroll-target="#season9-6.840e-01-1.135e-01-6.029-1.20e-08">season9 6.840e-01 1.135e-01 6.029 1.20e-08 ***</a></li>
  <li><a href="#season10-7.823e-01-1.135e-01-6.894-1.36e-10" id="toc-season10-7.823e-01-1.135e-01-6.894-1.36e-10" class="nav-link" data-scroll-target="#season10-7.823e-01-1.135e-01-6.894-1.36e-10">season10 7.823e-01 1.135e-01 6.894 1.36e-10 ***</a></li>
  <li><a href="#season11-6.692e-01-1.156e-01-5.788-3.95e-08" id="toc-season11-6.692e-01-1.156e-01-5.788-3.95e-08" class="nav-link" data-scroll-target="#season11-6.692e-01-1.156e-01-5.788-3.95e-08">season11 6.692e-01 1.156e-01 5.788 3.95e-08 ***</a></li>
  <li><a href="#season12-8.604e-01-1.156e-01-7.440-6.91e-12" id="toc-season12-8.604e-01-1.156e-01-7.440-6.91e-12" class="nav-link" data-scroll-target="#season12-8.604e-01-1.156e-01-7.440-6.91e-12">season12 8.604e-01 1.156e-01 7.440 6.91e-12 ***</a></li>
  <li><a href="#section-18" id="toc-section-18" class="nav-link" data-scroll-target="#section-18">—</a></li>
  <li><a href="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-2" id="toc-signif.-codes-0-0.001-0.01-0.05-.-0.1-1-2" class="nav-link" data-scroll-target="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-2">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</a></li>
  <li><a href="#section-19" id="toc-section-19" class="nav-link" data-scroll-target="#section-19"></a></li>
  <li><a href="#residual-standard-error-0.3-on-152-degrees-of-freedom" id="toc-residual-standard-error-0.3-on-152-degrees-of-freedom" class="nav-link" data-scroll-target="#residual-standard-error-0.3-on-152-degrees-of-freedom">Residual standard error: 0.3 on 152 degrees of freedom</a></li>
  <li><a href="#multiple-r-squared-0.5306-adjusted-r-squared-0.4905" id="toc-multiple-r-squared-0.5306-adjusted-r-squared-0.4905" class="nav-link" data-scroll-target="#multiple-r-squared-0.5306-adjusted-r-squared-0.4905">Multiple R-squared: 0.5306, Adjusted R-squared: 0.4905</a></li>
  <li><a href="#f-statistic-13.22-on-13-and-152-df-p-value-2.2e-16" id="toc-f-statistic-13.22-on-13-and-152-df-p-value-2.2e-16" class="nav-link" data-scroll-target="#f-statistic-13.22-on-13-and-152-df-p-value-2.2e-16">F-statistic: 13.22 on 13 and 152 DF, p-value: &lt; 2.2e-16</a></li>
  <li><a href="#me-rmse-mae-mpe-mape-1" id="toc-me-rmse-mae-mpe-mape-1" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-1">ME RMSE MAE MPE MAPE</a></li>
  <li><a href="#test-set--0.377735-0.5203881-0.4194823--inf-inf" id="toc-test-set--0.377735-0.5203881-0.4194823--inf-inf" class="nav-link" data-scroll-target="#test-set--0.377735-0.5203881-0.4194823--inf-inf">Test set -0.377735 0.5203881 0.4194823 -Inf Inf</a></li>
  <li><a href="#section-20" id="toc-section-20" class="nav-link" data-scroll-target="#section-20"></a></li>
  <li><a href="#call-3" id="toc-call-3" class="nav-link" data-scroll-target="#call-3">Call:</a></li>
  <li><a href="#tslmformula-inflation.ts-trend-itrend2-season" id="toc-tslmformula-inflation.ts-trend-itrend2-season" class="nav-link" data-scroll-target="#tslmformula-inflation.ts-trend-itrend2-season">tslm(formula = inflation.ts ~ trend + I(trend^2) + season)</a></li>
  <li><a href="#section-21" id="toc-section-21" class="nav-link" data-scroll-target="#section-21"></a></li>
  <li><a href="#residuals-3" id="toc-residuals-3" class="nav-link" data-scroll-target="#residuals-3">Residuals:</a></li>
  <li><a href="#min-1q-median-3q-max-3" id="toc-min-1q-median-3q-max-3" class="nav-link" data-scroll-target="#min-1q-median-3q-max-3">Min 1Q Median 3Q Max</a></li>
  <li><a href="#section-22" id="toc-section-22" class="nav-link" data-scroll-target="#section-22">-0.8591 -0.1448 0.0089 0.1545 1.6979</a></li>
  <li><a href="#section-23" id="toc-section-23" class="nav-link" data-scroll-target="#section-23"></a></li>
  <li><a href="#coefficients-3" id="toc-coefficients-3" class="nav-link" data-scroll-target="#coefficients-3">Coefficients:</a></li>
  <li><a href="#estimate-std.-error-t-value-prt-3" id="toc-estimate-std.-error-t-value-prt-3" class="nav-link" data-scroll-target="#estimate-std.-error-t-value-prt-3">Estimate Std. Error t value Pr(&gt;|t|)</a></li>
  <li><a href="#intercept--3.029e-01-1.038e-01--2.919-0.004004" id="toc-intercept--3.029e-01-1.038e-01--2.919-0.004004" class="nav-link" data-scroll-target="#intercept--3.029e-01-1.038e-01--2.919-0.004004">(Intercept) -3.029e-01 1.038e-01 -2.919 0.004004 **</a></li>
  <li><a href="#trend--8.086e-03-1.834e-03--4.409-1.88e-05" id="toc-trend--8.086e-03-1.834e-03--4.409-1.88e-05" class="nav-link" data-scroll-target="#trend--8.086e-03-1.834e-03--4.409-1.88e-05">trend -8.086e-03 1.834e-03 -4.409 1.88e-05 ***</a></li>
  <li><a href="#itrend2-5.215e-05-9.925e-06-5.254-4.57e-07" id="toc-itrend2-5.215e-05-9.925e-06-5.254-4.57e-07" class="nav-link" data-scroll-target="#itrend2-5.215e-05-9.925e-06-5.254-4.57e-07">I(trend^2) 5.215e-05 9.925e-06 5.254 4.57e-07 ***</a></li>
  <li><a href="#season2-1.026e00-1.140e-01-8.998-5.49e-16" id="toc-season2-1.026e00-1.140e-01-8.998-5.49e-16" class="nav-link" data-scroll-target="#season2-1.026e00-1.140e-01-8.998-5.49e-16">season2 1.026e+00 1.140e-01 8.998 5.49e-16 ***</a></li>
  <li><a href="#season3-8.316e-01-1.140e-01-7.294-1.22e-11" id="toc-season3-8.316e-01-1.140e-01-7.294-1.22e-11" class="nav-link" data-scroll-target="#season3-8.316e-01-1.140e-01-7.294-1.22e-11">season3 8.316e-01 1.140e-01 7.294 1.22e-11 ***</a></li>
  <li><a href="#season4-1.064e00-1.140e-01-9.331-2e-16" id="toc-season4-1.064e00-1.140e-01-9.331-2e-16" class="nav-link" data-scroll-target="#season4-1.064e00-1.140e-01-9.331-2e-16">season4 1.064e+00 1.140e-01 9.331 &lt; 2e-16 ***</a></li>
  <li><a href="#season5-7.627e-01-1.140e-01-6.689-3.37e-10" id="toc-season5-7.627e-01-1.140e-01-6.689-3.37e-10" class="nav-link" data-scroll-target="#season5-7.627e-01-1.140e-01-6.689-3.37e-10">season5 7.627e-01 1.140e-01 6.689 3.37e-10 ***</a></li>
  <li><a href="#season6-5.748e-01-1.140e-01-5.041-1.22e-06" id="toc-season6-5.748e-01-1.140e-01-5.041-1.22e-06" class="nav-link" data-scroll-target="#season6-5.748e-01-1.140e-01-5.041-1.22e-06">season6 5.748e-01 1.140e-01 5.041 1.22e-06 ***</a></li>
  <li><a href="#season7-4.535e-01-1.140e-01-3.976-0.000105" id="toc-season7-4.535e-01-1.140e-01-3.976-0.000105" class="nav-link" data-scroll-target="#season7-4.535e-01-1.140e-01-3.976-0.000105">season7 4.535e-01 1.140e-01 3.976 0.000105 ***</a></li>
  <li><a href="#season8-8.720e-01-1.141e-01-7.646-1.66e-12" id="toc-season8-8.720e-01-1.141e-01-7.646-1.66e-12" class="nav-link" data-scroll-target="#season8-8.720e-01-1.141e-01-7.646-1.66e-12">season8 8.720e-01 1.141e-01 7.646 1.66e-12 ***</a></li>
  <li><a href="#season9-7.104e-01-1.141e-01-6.228-3.81e-09" id="toc-season9-7.104e-01-1.141e-01-6.228-3.81e-09" class="nav-link" data-scroll-target="#season9-7.104e-01-1.141e-01-6.228-3.81e-09">season9 7.104e-01 1.141e-01 6.228 3.81e-09 ***</a></li>
  <li><a href="#season10-7.688e-01-1.141e-01-6.739-2.58e-10" id="toc-season10-7.688e-01-1.141e-01-6.739-2.58e-10" class="nav-link" data-scroll-target="#season10-7.688e-01-1.141e-01-6.739-2.58e-10">season10 7.688e-01 1.141e-01 6.739 2.58e-10 ***</a></li>
  <li><a href="#season11-6.875e-01-1.161e-01-5.922-1.81e-08" id="toc-season11-6.875e-01-1.161e-01-5.922-1.81e-08" class="nav-link" data-scroll-target="#season11-6.875e-01-1.161e-01-5.922-1.81e-08">season11 6.875e-01 1.161e-01 5.922 1.81e-08 ***</a></li>
  <li><a href="#season12-8.649e-01-1.161e-01-7.449-5.09e-12" id="toc-season12-8.649e-01-1.161e-01-7.449-5.09e-12" class="nav-link" data-scroll-target="#season12-8.649e-01-1.161e-01-7.449-5.09e-12">season12 8.649e-01 1.161e-01 7.449 5.09e-12 ***</a></li>
  <li><a href="#section-24" id="toc-section-24" class="nav-link" data-scroll-target="#section-24">—</a></li>
  <li><a href="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-3" id="toc-signif.-codes-0-0.001-0.01-0.05-.-0.1-1-3" class="nav-link" data-scroll-target="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-3">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</a></li>
  <li><a href="#section-25" id="toc-section-25" class="nav-link" data-scroll-target="#section-25"></a></li>
  <li><a href="#residual-standard-error-0.3122-on-164-degrees-of-freedom" id="toc-residual-standard-error-0.3122-on-164-degrees-of-freedom" class="nav-link" data-scroll-target="#residual-standard-error-0.3122-on-164-degrees-of-freedom">Residual standard error: 0.3122 on 164 degrees of freedom</a></li>
  <li><a href="#multiple-r-squared-0.5102-adjusted-r-squared-0.4714" id="toc-multiple-r-squared-0.5102-adjusted-r-squared-0.4714" class="nav-link" data-scroll-target="#multiple-r-squared-0.5102-adjusted-r-squared-0.4714">Multiple R-squared: 0.5102, Adjusted R-squared: 0.4714</a></li>
  <li><a href="#f-statistic-13.14-on-13-and-164-df-p-value-2.2e-16" id="toc-f-statistic-13.14-on-13-and-164-df-p-value-2.2e-16" class="nav-link" data-scroll-target="#f-statistic-13.14-on-13-and-164-df-p-value-2.2e-16">F-statistic: 13.14 on 13 and 164 DF, p-value: &lt; 2.2e-16</a></li>
  <li><a href="#jan-feb-mar-apr-may-jun" id="toc-jan-feb-mar-apr-may-jun" class="nav-link" data-scroll-target="#jan-feb-mar-apr-may-jun">Jan Feb Mar Apr May Jun</a></li>
  <li><a href="#section-26" id="toc-section-26" class="nav-link" data-scroll-target="#section-26">2023</a></li>
  <li><a href="#section-27" id="toc-section-27" class="nav-link" data-scroll-target="#section-27">2024 -0.05816355 0.97851512 0.79519379 1.03853913 0.74855113 0.57189647</a></li>
  <li><a href="#section-28" id="toc-section-28" class="nav-link" data-scroll-target="#section-28">2025 0.07883470 1.11676487 0.93469504 1.17929188 0.89055539 0.71515222</a></li>
  <li><a href="#jul-aug-sep-oct-nov-dec" id="toc-jul-aug-sep-oct-nov-dec" class="nav-link" data-scroll-target="#jul-aug-sep-oct-nov-dec">Jul Aug Sep Oct Nov Dec</a></li>
  <li><a href="#section-29" id="toc-section-29" class="nav-link" data-scroll-target="#section-29">2023 0.60799418 0.79595186</a></li>
  <li><a href="#section-30" id="toc-section-30" class="nav-link" data-scroll-target="#section-30">2024 0.46190847 0.89192047 0.74193248 0.81194448 0.74248943 0.93169861</a></li>
  <li><a href="#section-31" id="toc-section-31" class="nav-link" data-scroll-target="#section-31">2025 0.60641573 1.03767923 0.88894274 0.96020624</a></li>
  <li><a href="#jan-feb-mar-apr-may-jun-jul" id="toc-jan-feb-mar-apr-may-jun-jul" class="nav-link" data-scroll-target="#jan-feb-mar-apr-may-jun-jul">Jan Feb Mar Apr May Jun Jul</a></li>
  <li><a href="#section-32" id="toc-section-32" class="nav-link" data-scroll-target="#section-32">2024</a></li>
  <li><a href="#section-33" id="toc-section-33" class="nav-link" data-scroll-target="#section-33">2025 8.793424 8.931674 9.071175 9.211928 9.353932 9.497188 9.641695</a></li>
  <li><a href="#aug-sep-oct-nov-dec" id="toc-aug-sep-oct-nov-dec" class="nav-link" data-scroll-target="#aug-sep-oct-nov-dec">Aug Sep Oct Nov Dec</a></li>
  <li><a href="#section-34" id="toc-section-34" class="nav-link" data-scroll-target="#section-34">2024 8.386184 8.520679 8.656426</a></li>
  <li><a href="#section-35" id="toc-section-35" class="nav-link" data-scroll-target="#section-35">2025 9.787454 9.934464 10.082726</a></li>
  </ul></li>
  <li><a href="#year-prediction" id="toc-year-prediction" class="nav-link" data-scroll-target="#year-prediction">10 year prediction</a>
  <ul class="collapse">
  <li><a href="#section-36" id="toc-section-36" class="nav-link" data-scroll-target="#section-36"></a></li>
  <li><a href="#call-4" id="toc-call-4" class="nav-link" data-scroll-target="#call-4">Call:</a></li>
  <li><a href="#tslmformula-ma.trailing-trend-itrend2-season" id="toc-tslmformula-ma.trailing-trend-itrend2-season" class="nav-link" data-scroll-target="#tslmformula-ma.trailing-trend-itrend2-season">tslm(formula = ma.trailing ~ trend + I(trend^2) + season)</a></li>
  <li><a href="#section-37" id="toc-section-37" class="nav-link" data-scroll-target="#section-37"></a></li>
  <li><a href="#residuals-4" id="toc-residuals-4" class="nav-link" data-scroll-target="#residuals-4">Residuals:</a></li>
  <li><a href="#all-13-residuals-are-0-no-residual-degrees-of-freedom" id="toc-all-13-residuals-are-0-no-residual-degrees-of-freedom" class="nav-link" data-scroll-target="#all-13-residuals-are-0-no-residual-degrees-of-freedom">ALL 13 residuals are 0: no residual degrees of freedom!</a></li>
  <li><a href="#section-38" id="toc-section-38" class="nav-link" data-scroll-target="#section-38"></a></li>
  <li><a href="#coefficients-1-not-defined-because-of-singularities" id="toc-coefficients-1-not-defined-because-of-singularities" class="nav-link" data-scroll-target="#coefficients-1-not-defined-because-of-singularities">Coefficients: (1 not defined because of singularities)</a></li>
  <li><a href="#estimate-std.-error-t-value-prt-4" id="toc-estimate-std.-error-t-value-prt-4" class="nav-link" data-scroll-target="#estimate-std.-error-t-value-prt-4">Estimate Std. Error t value Pr(&gt;|t|)</a></li>
  <li><a href="#intercept-8.253e00-nan-nan-nan" id="toc-intercept-8.253e00-nan-nan-nan" class="nav-link" data-scroll-target="#intercept-8.253e00-nan-nan-nan">(Intercept) 8.253e+00 NaN NaN NaN</a></li>
  <li><a href="#trend-1.326e-01-nan-nan-nan" id="toc-trend-1.326e-01-nan-nan-nan" class="nav-link" data-scroll-target="#trend-1.326e-01-nan-nan-nan">trend 1.326e-01 NaN NaN NaN</a></li>
  <li><a href="#itrend2-6.258e-04-nan-nan-nan" id="toc-itrend2-6.258e-04-nan-nan-nan" class="nav-link" data-scroll-target="#itrend2-6.258e-04-nan-nan-nan">I(trend^2) 6.258e-04 NaN NaN NaN</a></li>
  <li><a href="#season2--1.595e-15-nan-nan-nan" id="toc-season2--1.595e-15-nan-nan-nan" class="nav-link" data-scroll-target="#season2--1.595e-15-nan-nan-nan">season2 -1.595e-15 NaN NaN NaN</a></li>
  <li><a href="#season3--1.140e-15-nan-nan-nan" id="toc-season3--1.140e-15-nan-nan-nan" class="nav-link" data-scroll-target="#season3--1.140e-15-nan-nan-nan">season3 -1.140e-15 NaN NaN NaN</a></li>
  <li><a href="#season4--2.230e-15-nan-nan-nan" id="toc-season4--2.230e-15-nan-nan-nan" class="nav-link" data-scroll-target="#season4--2.230e-15-nan-nan-nan">season4 -2.230e-15 NaN NaN NaN</a></li>
  <li><a href="#season5--3.046e-15-nan-nan-nan" id="toc-season5--3.046e-15-nan-nan-nan" class="nav-link" data-scroll-target="#season5--3.046e-15-nan-nan-nan">season5 -3.046e-15 NaN NaN NaN</a></li>
  <li><a href="#season6--3.667e-15-nan-nan-nan" id="toc-season6--3.667e-15-nan-nan-nan" class="nav-link" data-scroll-target="#season6--3.667e-15-nan-nan-nan">season6 -3.667e-15 NaN NaN NaN</a></li>
  <li><a href="#season7--3.988e-15-nan-nan-nan" id="toc-season7--3.988e-15-nan-nan-nan" class="nav-link" data-scroll-target="#season7--3.988e-15-nan-nan-nan">season7 -3.988e-15 NaN NaN NaN</a></li>
  <li><a href="#season8--4.062e-15-nan-nan-nan" id="toc-season8--4.062e-15-nan-nan-nan" class="nav-link" data-scroll-target="#season8--4.062e-15-nan-nan-nan">season8 -4.062e-15 NaN NaN NaN</a></li>
  <li><a href="#season9--2.229e-15-nan-nan-nan" id="toc-season9--2.229e-15-nan-nan-nan" class="nav-link" data-scroll-target="#season9--2.229e-15-nan-nan-nan">season9 -2.229e-15 NaN NaN NaN</a></li>
  <li><a href="#season10--1.815e-15-nan-nan-nan" id="toc-season10--1.815e-15-nan-nan-nan" class="nav-link" data-scroll-target="#season10--1.815e-15-nan-nan-nan">season10 -1.815e-15 NaN NaN NaN</a></li>
  <li><a href="#season11-2.475e-15-nan-nan-nan" id="toc-season11-2.475e-15-nan-nan-nan" class="nav-link" data-scroll-target="#season11-2.475e-15-nan-nan-nan">season11 2.475e-15 NaN NaN NaN</a></li>
  <li><a href="#season12-na-na-na-na" id="toc-season12-na-na-na-na" class="nav-link" data-scroll-target="#season12-na-na-na-na">season12 NA NA NA NA</a></li>
  <li><a href="#section-39" id="toc-section-39" class="nav-link" data-scroll-target="#section-39"></a></li>
  <li><a href="#residual-standard-error-nan-on-0-degrees-of-freedom" id="toc-residual-standard-error-nan-on-0-degrees-of-freedom" class="nav-link" data-scroll-target="#residual-standard-error-nan-on-0-degrees-of-freedom">Residual standard error: NaN on 0 degrees of freedom</a></li>
  <li><a href="#multiple-r-squared-1-adjusted-r-squared-nan" id="toc-multiple-r-squared-1-adjusted-r-squared-nan" class="nav-link" data-scroll-target="#multiple-r-squared-1-adjusted-r-squared-nan">Multiple R-squared: 1, Adjusted R-squared: NaN</a></li>
  <li><a href="#f-statistic-nan-on-12-and-0-df-p-value-na" id="toc-f-statistic-nan-on-12-and-0-df-p-value-na" class="nav-link" data-scroll-target="#f-statistic-nan-on-12-and-0-df-p-value-na">F-statistic: NaN on 12 and 0 DF, p-value: NA</a></li>
  <li><a href="#warning-in-predict.lmpredict_object-newdata-newdata-se.fit-true" id="toc-warning-in-predict.lmpredict_object-newdata-newdata-se.fit-true" class="nav-link" data-scroll-target="#warning-in-predict.lmpredict_object-newdata-newdata-se.fit-true">Warning in predict.lm(predict_object, newdata = newdata, se.fit = TRUE, :</a></li>
  <li><a href="#prediction-from-rank-deficient-fit-attr-non-estim-has-doubtful-cases" id="toc-prediction-from-rank-deficient-fit-attr-non-estim-has-doubtful-cases" class="nav-link" data-scroll-target="#prediction-from-rank-deficient-fit-attr-non-estim-has-doubtful-cases">prediction from rank-deficient fit; attr(*, “non-estim”) has doubtful cases</a></li>
  <li><a href="#warning-in-qt1---level2-df-nans-produced" id="toc-warning-in-qt1---level2-df-nans-produced" class="nav-link" data-scroll-target="#warning-in-qt1---level2-df-nans-produced">Warning in qt((1 - level)/2, df): NaNs produced</a></li>
  </ul></li>
  <li><a href="#loading-the-caret-package-for-modeling-and-evaluation" id="toc-loading-the-caret-package-for-modeling-and-evaluation" class="nav-link" data-scroll-target="#loading-the-caret-package-for-modeling-and-evaluation">Loading the ‘caret’ package for modeling and evaluation</a></li>
  <li><a href="#reading-the-dataset-and-formatting-the-date" id="toc-reading-the-dataset-and-formatting-the-date" class="nav-link" data-scroll-target="#reading-the-dataset-and-formatting-the-date">Reading the dataset and formatting the date</a></li>
  <li><a href="#creating-a-binary-variable-rainy-based-on-the-rainfall-amount" id="toc-creating-a-binary-variable-rainy-based-on-the-rainfall-amount" class="nav-link" data-scroll-target="#creating-a-binary-variable-rainy-based-on-the-rainfall-amount">Creating a binary variable ‘Rainy’ based on the rainfall amount</a></li>
  <li><a href="#preparing-variables-for-logistic-regression" id="toc-preparing-variables-for-logistic-regression" class="nav-link" data-scroll-target="#preparing-variables-for-logistic-regression">Preparing variables for logistic regression</a></li>
  <li><a href="#splitting-the-dataset-into-training-and-validation-sets" id="toc-splitting-the-dataset-into-training-and-validation-sets" class="nav-link" data-scroll-target="#splitting-the-dataset-into-training-and-validation-sets">Splitting the dataset into training and validation sets</a></li>
  <li><a href="#building-the-logistic-regression-model" id="toc-building-the-logistic-regression-model" class="nav-link" data-scroll-target="#building-the-logistic-regression-model">Building the logistic regression model</a></li>
  <li><a href="#prediction-and-evaluation-using-the-confusion-matrix" id="toc-prediction-and-evaluation-using-the-confusion-matrix" class="nav-link" data-scroll-target="#prediction-and-evaluation-using-the-confusion-matrix">Prediction and evaluation using the confusion matrix</a></li>
  <li><a href="#regression-models---trend-and-seasonality-analysis---09-12-2023" id="toc-regression-models---trend-and-seasonality-analysis---09-12-2023" class="nav-link" data-scroll-target="#regression-models---trend-and-seasonality-analysis---09-12-2023">Regression Models - Trend and Seasonality Analysis - 09-12-2023</a></li>
  <li><a href="#load-necessary-libraries-1" id="toc-load-necessary-libraries-1" class="nav-link" data-scroll-target="#load-necessary-libraries-1">Load necessary libraries</a>
  <ul class="collapse">
  <li><a href="#registered-s3-method-overwritten-by-quantmod-3" id="toc-registered-s3-method-overwritten-by-quantmod-3" class="nav-link" data-scroll-target="#registered-s3-method-overwritten-by-quantmod-3">Registered S3 method overwritten by ‘quantmod’:</a></li>
  <li><a href="#method-from-3" id="toc-method-from-3" class="nav-link" data-scroll-target="#method-from-3">method from</a></li>
  <li><a href="#as.zoo.data.frame-zoo-3" id="toc-as.zoo.data.frame-zoo-3" class="nav-link" data-scroll-target="#as.zoo.data.frame-zoo-3">as.zoo.data.frame zoo</a></li>
  </ul></li>
  <li><a href="#load-the-retail-sales-index-data-from-the-office-for-national-statistics-ons" id="toc-load-the-retail-sales-index-data-from-the-office-for-national-statistics-ons" class="nav-link" data-scroll-target="#load-the-retail-sales-index-data-from-the-office-for-national-statistics-ons">Load the retail sales index data from the Office for National Statistics (ONS)</a></li>
  <li><a href="#uncomment-the-next-line-to-view-the-loaded-data" id="toc-uncomment-the-next-line-to-view-the-loaded-data" class="nav-link" data-scroll-target="#uncomment-the-next-line-to-view-the-loaded-data">Uncomment the next line to view the loaded data</a></li>
  <li><a href="#convert-the-retail-sales-data-into-a-time-series-object" id="toc-convert-the-retail-sales-data-into-a-time-series-object" class="nav-link" data-scroll-target="#convert-the-retail-sales-data-into-a-time-series-object">Convert the retail sales data into a time series object</a></li>
  <li><a href="#plot-the-initial-time-series-for-the-retail-sales-index" id="toc-plot-the-initial-time-series-for-the-retail-sales-index" class="nav-link" data-scroll-target="#plot-the-initial-time-series-for-the-retail-sales-index">Plot the initial time series for the retail sales index</a></li>
  <li><a href="#split-the-data-into-training-and-validation-sets" id="toc-split-the-data-into-training-and-validation-sets" class="nav-link" data-scroll-target="#split-the-data-into-training-and-validation-sets">Split the data into training and validation sets</a></li>
  <li><a href="#fit-a-linear-model-to-the-training-set-with-trend-and-seasonal-components" id="toc-fit-a-linear-model-to-the-training-set-with-trend-and-seasonal-components" class="nav-link" data-scroll-target="#fit-a-linear-model-to-the-training-set-with-trend-and-seasonal-components">Fit a linear model to the training set with trend and seasonal components</a>
  <ul class="collapse">
  <li><a href="#section-40" id="toc-section-40" class="nav-link" data-scroll-target="#section-40"></a></li>
  <li><a href="#call-5" id="toc-call-5" class="nav-link" data-scroll-target="#call-5">Call:</a></li>
  <li><a href="#tslmformula-train.ts-trend-itrend2-season-3" id="toc-tslmformula-train.ts-trend-itrend2-season-3" class="nav-link" data-scroll-target="#tslmformula-train.ts-trend-itrend2-season-3">tslm(formula = train.ts ~ trend + I(trend^2) + season)</a></li>
  <li><a href="#section-41" id="toc-section-41" class="nav-link" data-scroll-target="#section-41"></a></li>
  <li><a href="#residuals-5" id="toc-residuals-5" class="nav-link" data-scroll-target="#residuals-5">Residuals:</a></li>
  <li><a href="#min-1q-median-3q-max-4" id="toc-min-1q-median-3q-max-4" class="nav-link" data-scroll-target="#min-1q-median-3q-max-4">Min 1Q Median 3Q Max</a></li>
  <li><a href="#section-42" id="toc-section-42" class="nav-link" data-scroll-target="#section-42">-23.9822 -1.0645 0.0657 1.3221 10.6067</a></li>
  <li><a href="#section-43" id="toc-section-43" class="nav-link" data-scroll-target="#section-43"></a></li>
  <li><a href="#coefficients-4" id="toc-coefficients-4" class="nav-link" data-scroll-target="#coefficients-4">Coefficients:</a></li>
  <li><a href="#estimate-std.-error-t-value-prt-5" id="toc-estimate-std.-error-t-value-prt-5" class="nav-link" data-scroll-target="#estimate-std.-error-t-value-prt-5">Estimate Std. Error t value Pr(&gt;|t|)</a></li>
  <li><a href="#intercept-3.962e01-7.251e-01-54.649-2e-16-1" id="toc-intercept-3.962e01-7.251e-01-54.649-2e-16-1" class="nav-link" data-scroll-target="#intercept-3.962e01-7.251e-01-54.649-2e-16-1">(Intercept) 3.962e+01 7.251e-01 54.649 &lt; 2e-16 ***</a></li>
  <li><a href="#trend-1.250e-01-7.034e-03-17.768-2e-16-1" id="toc-trend-1.250e-01-7.034e-03-17.768-2e-16-1" class="nav-link" data-scroll-target="#trend-1.250e-01-7.034e-03-17.768-2e-16-1">trend 1.250e-01 7.034e-03 17.768 &lt; 2e-16 ***</a></li>
  <li><a href="#itrend2-2.078e-04-2.109e-05-9.853-2e-16-1" id="toc-itrend2-2.078e-04-2.109e-05-9.853-2e-16-1" class="nav-link" data-scroll-target="#itrend2-2.078e-04-2.109e-05-9.853-2e-16-1">I(trend^2) 2.078e-04 2.109e-05 9.853 &lt; 2e-16 ***</a></li>
  <li><a href="#season2-1.139e00-7.956e-01-1.432-0.153-1" id="toc-season2-1.139e00-7.956e-01-1.432-0.153-1" class="nav-link" data-scroll-target="#season2-1.139e00-7.956e-01-1.432-0.153-1">season2 1.139e+00 7.956e-01 1.432 0.153</a></li>
  <li><a href="#season3-3.248e00-7.956e-01-4.083-5.67e-05-1" id="toc-season3-3.248e00-7.956e-01-4.083-5.67e-05-1" class="nav-link" data-scroll-target="#season3-3.248e00-7.956e-01-4.083-5.67e-05-1">season3 3.248e+00 7.956e-01 4.083 5.67e-05 ***</a></li>
  <li><a href="#season4-4.450e00-7.956e-01-5.593-4.93e-08-1" id="toc-season4-4.450e00-7.956e-01-5.593-4.93e-08-1" class="nav-link" data-scroll-target="#season4-4.450e00-7.956e-01-5.593-4.93e-08-1">season4 4.450e+00 7.956e-01 5.593 4.93e-08 ***</a></li>
  <li><a href="#season5-5.321e00-7.956e-01-6.688-1.06e-10-1" id="toc-season5-5.321e00-7.956e-01-6.688-1.06e-10-1" class="nav-link" data-scroll-target="#season5-5.321e00-7.956e-01-6.688-1.06e-10-1">season5 5.321e+00 7.956e-01 6.688 1.06e-10 ***</a></li>
  <li><a href="#season6-5.866e00-7.956e-01-7.373-1.55e-12-1" id="toc-season6-5.866e00-7.956e-01-7.373-1.55e-12-1" class="nav-link" data-scroll-target="#season6-5.866e00-7.956e-01-7.373-1.55e-12-1">season6 5.866e+00 7.956e-01 7.373 1.55e-12 ***</a></li>
  <li><a href="#season7-6.718e00-7.956e-01-8.444-1.23e-15-1" id="toc-season7-6.718e00-7.956e-01-8.444-1.23e-15-1" class="nav-link" data-scroll-target="#season7-6.718e00-7.956e-01-8.444-1.23e-15-1">season7 6.718e+00 7.956e-01 8.444 1.23e-15 ***</a></li>
  <li><a href="#season8-4.521e00-7.957e-01-5.682-3.08e-08-1" id="toc-season8-4.521e00-7.957e-01-5.682-3.08e-08-1" class="nav-link" data-scroll-target="#season8-4.521e00-7.957e-01-5.682-3.08e-08-1">season8 4.521e+00 7.957e-01 5.682 3.08e-08 ***</a></li>
  <li><a href="#season9-4.476e00-7.957e-01-5.625-4.16e-08-1" id="toc-season9-4.476e00-7.957e-01-5.625-4.16e-08-1" class="nav-link" data-scroll-target="#season9-4.476e00-7.957e-01-5.625-4.16e-08-1">season9 4.476e+00 7.957e-01 5.625 4.16e-08 ***</a></li>
  <li><a href="#season10-7.593e00-7.957e-01-9.543-2e-16-1" id="toc-season10-7.593e00-7.957e-01-9.543-2e-16-1" class="nav-link" data-scroll-target="#season10-7.593e00-7.957e-01-9.543-2e-16-1">season10 7.593e+00 7.957e-01 9.543 &lt; 2e-16 ***</a></li>
  <li><a href="#season11-1.431e01-8.033e-01-17.808-2e-16-1" id="toc-season11-1.431e01-8.033e-01-17.808-2e-16-1" class="nav-link" data-scroll-target="#season11-1.431e01-8.033e-01-17.808-2e-16-1">season11 1.431e+01 8.033e-01 17.808 &lt; 2e-16 ***</a></li>
  <li><a href="#season12-2.508e01-8.033e-01-31.223-2e-16-1" id="toc-season12-2.508e01-8.033e-01-31.223-2e-16-1" class="nav-link" data-scroll-target="#season12-2.508e01-8.033e-01-31.223-2e-16-1">season12 2.508e+01 8.033e-01 31.223 &lt; 2e-16 ***</a></li>
  <li><a href="#section-44" id="toc-section-44" class="nav-link" data-scroll-target="#section-44">—</a></li>
  <li><a href="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-4" id="toc-signif.-codes-0-0.001-0.01-0.05-.-0.1-1-4" class="nav-link" data-scroll-target="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-4">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</a></li>
  <li><a href="#section-45" id="toc-section-45" class="nav-link" data-scroll-target="#section-45"></a></li>
  <li><a href="#residual-standard-error-2.923-on-308-degrees-of-freedom-1" id="toc-residual-standard-error-2.923-on-308-degrees-of-freedom-1" class="nav-link" data-scroll-target="#residual-standard-error-2.923-on-308-degrees-of-freedom-1">Residual standard error: 2.923 on 308 degrees of freedom</a></li>
  <li><a href="#multiple-r-squared-0.978-adjusted-r-squared-0.9771-1" id="toc-multiple-r-squared-0.978-adjusted-r-squared-0.9771-1" class="nav-link" data-scroll-target="#multiple-r-squared-0.978-adjusted-r-squared-0.9771-1">Multiple R-squared: 0.978, Adjusted R-squared: 0.9771</a></li>
  <li><a href="#f-statistic-1054-on-13-and-308-df-p-value-2.2e-16-1" id="toc-f-statistic-1054-on-13-and-308-df-p-value-2.2e-16-1" class="nav-link" data-scroll-target="#f-statistic-1054-on-13-and-308-df-p-value-2.2e-16-1">F-statistic: 1054 on 13 and 308 DF, p-value: &lt; 2.2e-16</a></li>
  </ul></li>
  <li><a href="#forecast-future-values-using-the-fitted-linear-model" id="toc-forecast-future-values-using-the-fitted-linear-model" class="nav-link" data-scroll-target="#forecast-future-values-using-the-fitted-linear-model">Forecast future values using the fitted linear model</a></li>
  <li><a href="#plot-the-forecast-and-compare-with-actual-values-1" id="toc-plot-the-forecast-and-compare-with-actual-values-1" class="nav-link" data-scroll-target="#plot-the-forecast-and-compare-with-actual-values-1">Plot the forecast and compare with actual values</a></li>
  <li><a href="#customize-the-x-axis-with-labels-at-two-year-intervals" id="toc-customize-the-x-axis-with-labels-at-two-year-intervals" class="nav-link" data-scroll-target="#customize-the-x-axis-with-labels-at-two-year-intervals">Customize the x-axis with labels at two-year intervals</a></li>
  <li><a href="#add-the-fitted-values-from-the-model-to-the-plot" id="toc-add-the-fitted-values-from-the-model-to-the-plot" class="nav-link" data-scroll-target="#add-the-fitted-values-from-the-model-to-the-plot">Add the fitted values from the model to the plot</a></li>
  <li><a href="#add-the-validation-set-to-the-plot-for-comparison" id="toc-add-the-validation-set-to-the-plot-for-comparison" class="nav-link" data-scroll-target="#add-the-validation-set-to-the-plot-for-comparison">Add the validation set to the plot for comparison</a></li>
  <li><a href="#evaluate-the-accuracy-of-the-forecast-against-the-validation-set" id="toc-evaluate-the-accuracy-of-the-forecast-against-the-validation-set" class="nav-link" data-scroll-target="#evaluate-the-accuracy-of-the-forecast-against-the-validation-set">Evaluate the accuracy of the forecast against the validation set</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-2" id="toc-me-rmse-mae-mpe-mape-2" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-2">ME RMSE MAE MPE MAPE</a></li>
  <li><a href="#test-set-5.237359-5.945129-5.237359-4.419619-4.419619" id="toc-test-set-5.237359-5.945129-5.237359-4.419619-4.419619" class="nav-link" data-scroll-target="#test-set-5.237359-5.945129-5.237359-4.419619-4.419619">Test set 5.237359 5.945129 5.237359 4.419619 4.419619</a></li>
  </ul></li>
  <li><a href="#analyze-autocorrelation-in-the-series" id="toc-analyze-autocorrelation-in-the-series" class="nav-link" data-scroll-target="#analyze-autocorrelation-in-the-series">Analyze autocorrelation in the series</a></li>
  <li><a href="#analyze-autocorrelation-in-the-residuals-of-the-linear-model" id="toc-analyze-autocorrelation-in-the-residuals-of-the-linear-model" class="nav-link" data-scroll-target="#analyze-autocorrelation-in-the-residuals-of-the-linear-model">Analyze autocorrelation in the residuals of the linear model</a></li>
  <li><a href="#fit-an-arima-model-to-the-residuals-of-the-linear-model-as-a-second-layer" id="toc-fit-an-arima-model-to-the-residuals-of-the-linear-model-as-a-second-layer" class="nav-link" data-scroll-target="#fit-an-arima-model-to-the-residuals-of-the-linear-model-as-a-second-layer">Fit an ARIMA model to the residuals of the linear model as a second layer</a></li>
  <li><a href="#plot-the-new-residuals" id="toc-plot-the-new-residuals" class="nav-link" data-scroll-target="#plot-the-new-residuals">Plot the new residuals</a></li>
  <li><a href="#analyze-the-autocorrelation-in-the-residuals-of-the-arima-model" id="toc-analyze-the-autocorrelation-in-the-residuals-of-the-arima-model" class="nav-link" data-scroll-target="#analyze-the-autocorrelation-in-the-residuals-of-the-arima-model">Analyze the autocorrelation in the residuals of the ARIMA model</a></li>
  <li><a href="#final-plot-showing-the-residuals-of-the-arima-model" id="toc-final-plot-showing-the-residuals-of-the-arima-model" class="nav-link" data-scroll-target="#final-plot-showing-the-residuals-of-the-arima-model">Final plot showing the residuals of the ARIMA model</a></li>
  <li><a href="#regression-models---trend-and-seasonality-analysis---09-12-2023-1" id="toc-regression-models---trend-and-seasonality-analysis---09-12-2023-1" class="nav-link" data-scroll-target="#regression-models---trend-and-seasonality-analysis---09-12-2023-1">Regression Models - Trend and Seasonality Analysis - 09-12-2023</a></li>
  <li><a href="#loading-necessary-libraries" id="toc-loading-necessary-libraries" class="nav-link" data-scroll-target="#loading-necessary-libraries">Loading necessary libraries</a>
  <ul class="collapse">
  <li><a href="#registered-s3-method-overwritten-by-quantmod-4" id="toc-registered-s3-method-overwritten-by-quantmod-4" class="nav-link" data-scroll-target="#registered-s3-method-overwritten-by-quantmod-4">Registered S3 method overwritten by ‘quantmod’:</a></li>
  <li><a href="#method-from-4" id="toc-method-from-4" class="nav-link" data-scroll-target="#method-from-4">method from</a></li>
  <li><a href="#as.zoo.data.frame-zoo-4" id="toc-as.zoo.data.frame-zoo-4" class="nav-link" data-scroll-target="#as.zoo.data.frame-zoo-4">as.zoo.data.frame zoo</a></li>
  </ul></li>
  <li><a href="#loading-the-retail-sales-index-data-from-the-office-for-national-statistics-ons" id="toc-loading-the-retail-sales-index-data-from-the-office-for-national-statistics-ons" class="nav-link" data-scroll-target="#loading-the-retail-sales-index-data-from-the-office-for-national-statistics-ons">Loading the retail sales index data from the Office for National Statistics (ONS)</a></li>
  <li><a href="#make-sure-the-file-path-is-correct-and-accessible" id="toc-make-sure-the-file-path-is-correct-and-accessible" class="nav-link" data-scroll-target="#make-sure-the-file-path-is-correct-and-accessible">Make sure the file path is correct and accessible</a></li>
  <li><a href="#uncomment-below-to-view-the-loaded-data" id="toc-uncomment-below-to-view-the-loaded-data" class="nav-link" data-scroll-target="#uncomment-below-to-view-the-loaded-data">Uncomment below to view the loaded data</a></li>
  <li><a href="#viewons_retail" id="toc-viewons_retail" class="nav-link" data-scroll-target="#viewons_retail">View(ONS_retail)</a></li>
  <li><a href="#converting-the-retail-sales-data-into-a-time-series-object" id="toc-converting-the-retail-sales-data-into-a-time-series-object" class="nav-link" data-scroll-target="#converting-the-retail-sales-data-into-a-time-series-object">Converting the retail sales data into a time series object</a></li>
  <li><a href="#ensure-that-the-start-and-end-dates-are-correctly-set" id="toc-ensure-that-the-start-and-end-dates-are-correctly-set" class="nav-link" data-scroll-target="#ensure-that-the-start-and-end-dates-are-correctly-set">Ensure that the start and end dates are correctly set</a></li>
  <li><a href="#plotting-the-initial-time-series-for-the-retail-sales-index" id="toc-plotting-the-initial-time-series-for-the-retail-sales-index" class="nav-link" data-scroll-target="#plotting-the-initial-time-series-for-the-retail-sales-index">Plotting the initial time series for the retail sales index</a></li>
  <li><a href="#provides-a-visual-understanding-of-the-data-trends-and-seasonality" id="toc-provides-a-visual-understanding-of-the-data-trends-and-seasonality" class="nav-link" data-scroll-target="#provides-a-visual-understanding-of-the-data-trends-and-seasonality">Provides a visual understanding of the data trends and seasonality</a></li>
  <li><a href="#splitting-the-data-into-training-and-validation-sets" id="toc-splitting-the-data-into-training-and-validation-sets" class="nav-link" data-scroll-target="#splitting-the-data-into-training-and-validation-sets">Splitting the data into training and validation sets</a></li>
  <li><a href="#this-step-is-crucial-for-model-validation-and-avoiding-overfitting" id="toc-this-step-is-crucial-for-model-validation-and-avoiding-overfitting" class="nav-link" data-scroll-target="#this-step-is-crucial-for-model-validation-and-avoiding-overfitting">This step is crucial for model validation and avoiding overfitting</a></li>
  <li><a href="#fitting-a-linear-model-to-the-training-set-with-trend-and-seasonal-components" id="toc-fitting-a-linear-model-to-the-training-set-with-trend-and-seasonal-components" class="nav-link" data-scroll-target="#fitting-a-linear-model-to-the-training-set-with-trend-and-seasonal-components">Fitting a linear model to the training set with trend and seasonal components</a></li>
  <li><a href="#a-linear-model-is-a-good-starting-point-for-time-series-with-trend-and-seasonality" id="toc-a-linear-model-is-a-good-starting-point-for-time-series-with-trend-and-seasonality" class="nav-link" data-scroll-target="#a-linear-model-is-a-good-starting-point-for-time-series-with-trend-and-seasonality">A linear model is a good starting point for time series with trend and seasonality</a>
  <ul class="collapse">
  <li><a href="#section-46" id="toc-section-46" class="nav-link" data-scroll-target="#section-46"></a></li>
  <li><a href="#call-6" id="toc-call-6" class="nav-link" data-scroll-target="#call-6">Call:</a></li>
  <li><a href="#tslmformula-train.ts-trend-itrend2-season-4" id="toc-tslmformula-train.ts-trend-itrend2-season-4" class="nav-link" data-scroll-target="#tslmformula-train.ts-trend-itrend2-season-4">tslm(formula = train.ts ~ trend + I(trend^2) + season)</a></li>
  <li><a href="#section-47" id="toc-section-47" class="nav-link" data-scroll-target="#section-47"></a></li>
  <li><a href="#residuals-6" id="toc-residuals-6" class="nav-link" data-scroll-target="#residuals-6">Residuals:</a></li>
  <li><a href="#min-1q-median-3q-max-5" id="toc-min-1q-median-3q-max-5" class="nav-link" data-scroll-target="#min-1q-median-3q-max-5">Min 1Q Median 3Q Max</a></li>
  <li><a href="#section-48" id="toc-section-48" class="nav-link" data-scroll-target="#section-48">-23.9822 -1.0645 0.0657 1.3221 10.6067</a></li>
  <li><a href="#section-49" id="toc-section-49" class="nav-link" data-scroll-target="#section-49"></a></li>
  <li><a href="#coefficients-5" id="toc-coefficients-5" class="nav-link" data-scroll-target="#coefficients-5">Coefficients:</a></li>
  <li><a href="#estimate-std.-error-t-value-prt-6" id="toc-estimate-std.-error-t-value-prt-6" class="nav-link" data-scroll-target="#estimate-std.-error-t-value-prt-6">Estimate Std. Error t value Pr(&gt;|t|)</a></li>
  <li><a href="#intercept-3.962e01-7.251e-01-54.649-2e-16-2" id="toc-intercept-3.962e01-7.251e-01-54.649-2e-16-2" class="nav-link" data-scroll-target="#intercept-3.962e01-7.251e-01-54.649-2e-16-2">(Intercept) 3.962e+01 7.251e-01 54.649 &lt; 2e-16 ***</a></li>
  <li><a href="#trend-1.250e-01-7.034e-03-17.768-2e-16-2" id="toc-trend-1.250e-01-7.034e-03-17.768-2e-16-2" class="nav-link" data-scroll-target="#trend-1.250e-01-7.034e-03-17.768-2e-16-2">trend 1.250e-01 7.034e-03 17.768 &lt; 2e-16 ***</a></li>
  <li><a href="#itrend2-2.078e-04-2.109e-05-9.853-2e-16-2" id="toc-itrend2-2.078e-04-2.109e-05-9.853-2e-16-2" class="nav-link" data-scroll-target="#itrend2-2.078e-04-2.109e-05-9.853-2e-16-2">I(trend^2) 2.078e-04 2.109e-05 9.853 &lt; 2e-16 ***</a></li>
  <li><a href="#season2-1.139e00-7.956e-01-1.432-0.153-2" id="toc-season2-1.139e00-7.956e-01-1.432-0.153-2" class="nav-link" data-scroll-target="#season2-1.139e00-7.956e-01-1.432-0.153-2">season2 1.139e+00 7.956e-01 1.432 0.153</a></li>
  <li><a href="#season3-3.248e00-7.956e-01-4.083-5.67e-05-2" id="toc-season3-3.248e00-7.956e-01-4.083-5.67e-05-2" class="nav-link" data-scroll-target="#season3-3.248e00-7.956e-01-4.083-5.67e-05-2">season3 3.248e+00 7.956e-01 4.083 5.67e-05 ***</a></li>
  <li><a href="#season4-4.450e00-7.956e-01-5.593-4.93e-08-2" id="toc-season4-4.450e00-7.956e-01-5.593-4.93e-08-2" class="nav-link" data-scroll-target="#season4-4.450e00-7.956e-01-5.593-4.93e-08-2">season4 4.450e+00 7.956e-01 5.593 4.93e-08 ***</a></li>
  <li><a href="#season5-5.321e00-7.956e-01-6.688-1.06e-10-2" id="toc-season5-5.321e00-7.956e-01-6.688-1.06e-10-2" class="nav-link" data-scroll-target="#season5-5.321e00-7.956e-01-6.688-1.06e-10-2">season5 5.321e+00 7.956e-01 6.688 1.06e-10 ***</a></li>
  <li><a href="#season6-5.866e00-7.956e-01-7.373-1.55e-12-2" id="toc-season6-5.866e00-7.956e-01-7.373-1.55e-12-2" class="nav-link" data-scroll-target="#season6-5.866e00-7.956e-01-7.373-1.55e-12-2">season6 5.866e+00 7.956e-01 7.373 1.55e-12 ***</a></li>
  <li><a href="#season7-6.718e00-7.956e-01-8.444-1.23e-15-2" id="toc-season7-6.718e00-7.956e-01-8.444-1.23e-15-2" class="nav-link" data-scroll-target="#season7-6.718e00-7.956e-01-8.444-1.23e-15-2">season7 6.718e+00 7.956e-01 8.444 1.23e-15 ***</a></li>
  <li><a href="#season8-4.521e00-7.957e-01-5.682-3.08e-08-2" id="toc-season8-4.521e00-7.957e-01-5.682-3.08e-08-2" class="nav-link" data-scroll-target="#season8-4.521e00-7.957e-01-5.682-3.08e-08-2">season8 4.521e+00 7.957e-01 5.682 3.08e-08 ***</a></li>
  <li><a href="#season9-4.476e00-7.957e-01-5.625-4.16e-08-2" id="toc-season9-4.476e00-7.957e-01-5.625-4.16e-08-2" class="nav-link" data-scroll-target="#season9-4.476e00-7.957e-01-5.625-4.16e-08-2">season9 4.476e+00 7.957e-01 5.625 4.16e-08 ***</a></li>
  <li><a href="#season10-7.593e00-7.957e-01-9.543-2e-16-2" id="toc-season10-7.593e00-7.957e-01-9.543-2e-16-2" class="nav-link" data-scroll-target="#season10-7.593e00-7.957e-01-9.543-2e-16-2">season10 7.593e+00 7.957e-01 9.543 &lt; 2e-16 ***</a></li>
  <li><a href="#season11-1.431e01-8.033e-01-17.808-2e-16-2" id="toc-season11-1.431e01-8.033e-01-17.808-2e-16-2" class="nav-link" data-scroll-target="#season11-1.431e01-8.033e-01-17.808-2e-16-2">season11 1.431e+01 8.033e-01 17.808 &lt; 2e-16 ***</a></li>
  <li><a href="#season12-2.508e01-8.033e-01-31.223-2e-16-2" id="toc-season12-2.508e01-8.033e-01-31.223-2e-16-2" class="nav-link" data-scroll-target="#season12-2.508e01-8.033e-01-31.223-2e-16-2">season12 2.508e+01 8.033e-01 31.223 &lt; 2e-16 ***</a></li>
  <li><a href="#section-50" id="toc-section-50" class="nav-link" data-scroll-target="#section-50">—</a></li>
  <li><a href="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-5" id="toc-signif.-codes-0-0.001-0.01-0.05-.-0.1-1-5" class="nav-link" data-scroll-target="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-5">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</a></li>
  <li><a href="#section-51" id="toc-section-51" class="nav-link" data-scroll-target="#section-51"></a></li>
  <li><a href="#residual-standard-error-2.923-on-308-degrees-of-freedom-2" id="toc-residual-standard-error-2.923-on-308-degrees-of-freedom-2" class="nav-link" data-scroll-target="#residual-standard-error-2.923-on-308-degrees-of-freedom-2">Residual standard error: 2.923 on 308 degrees of freedom</a></li>
  <li><a href="#multiple-r-squared-0.978-adjusted-r-squared-0.9771-2" id="toc-multiple-r-squared-0.978-adjusted-r-squared-0.9771-2" class="nav-link" data-scroll-target="#multiple-r-squared-0.978-adjusted-r-squared-0.9771-2">Multiple R-squared: 0.978, Adjusted R-squared: 0.9771</a></li>
  <li><a href="#f-statistic-1054-on-13-and-308-df-p-value-2.2e-16-2" id="toc-f-statistic-1054-on-13-and-308-df-p-value-2.2e-16-2" class="nav-link" data-scroll-target="#f-statistic-1054-on-13-and-308-df-p-value-2.2e-16-2">F-statistic: 1054 on 13 and 308 DF, p-value: &lt; 2.2e-16</a></li>
  </ul></li>
  <li><a href="#forecasting-future-values-using-the-fitted-linear-model" id="toc-forecasting-future-values-using-the-fitted-linear-model" class="nav-link" data-scroll-target="#forecasting-future-values-using-the-fitted-linear-model">Forecasting future values using the fitted linear model</a></li>
  <li><a href="#this-step-helps-in-predicting-future-values-based-on-historical-data" id="toc-this-step-helps-in-predicting-future-values-based-on-historical-data" class="nav-link" data-scroll-target="#this-step-helps-in-predicting-future-values-based-on-historical-data">This step helps in predicting future values based on historical data</a></li>
  <li><a href="#plotting-the-forecast-and-comparing-it-with-actual-values" id="toc-plotting-the-forecast-and-comparing-it-with-actual-values" class="nav-link" data-scroll-target="#plotting-the-forecast-and-comparing-it-with-actual-values">Plotting the forecast and comparing it with actual values</a></li>
  <li><a href="#visual-comparison-helps-in-assessing-the-models-performance" id="toc-visual-comparison-helps-in-assessing-the-models-performance" class="nav-link" data-scroll-target="#visual-comparison-helps-in-assessing-the-models-performance">Visual comparison helps in assessing the model’s performance</a></li>
  <li><a href="#evaluating-the-accuracy-of-the-forecast-against-the-validation-set" id="toc-evaluating-the-accuracy-of-the-forecast-against-the-validation-set" class="nav-link" data-scroll-target="#evaluating-the-accuracy-of-the-forecast-against-the-validation-set">Evaluating the accuracy of the forecast against the validation set</a></li>
  <li><a href="#accuracy-metrics-provide-quantitative-measures-of-the-forecasts-performance" id="toc-accuracy-metrics-provide-quantitative-measures-of-the-forecasts-performance" class="nav-link" data-scroll-target="#accuracy-metrics-provide-quantitative-measures-of-the-forecasts-performance">Accuracy metrics provide quantitative measures of the forecast’s performance</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-3" id="toc-me-rmse-mae-mpe-mape-3" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-3">ME RMSE MAE MPE MAPE</a></li>
  <li><a href="#test-set-5.237359-5.945129-5.237359-4.419619-4.419619-1" id="toc-test-set-5.237359-5.945129-5.237359-4.419619-4.419619-1" class="nav-link" data-scroll-target="#test-set-5.237359-5.945129-5.237359-4.419619-4.419619-1">Test set 5.237359 5.945129 5.237359 4.419619 4.419619</a></li>
  </ul></li>
  <li><a href="#analyzing-autocorrelation-in-the-series-and-in-the-residuals-of-the-linear-model" id="toc-analyzing-autocorrelation-in-the-series-and-in-the-residuals-of-the-linear-model" class="nav-link" data-scroll-target="#analyzing-autocorrelation-in-the-series-and-in-the-residuals-of-the-linear-model">Analyzing autocorrelation in the series and in the residuals of the linear model</a></li>
  <li><a href="#autocorrelation-checks-help-in-identifying-any-lingering-patterns-in-the-data" id="toc-autocorrelation-checks-help-in-identifying-any-lingering-patterns-in-the-data" class="nav-link" data-scroll-target="#autocorrelation-checks-help-in-identifying-any-lingering-patterns-in-the-data">Autocorrelation checks help in identifying any lingering patterns in the data</a></li>
  <li><a href="#fitting-an-ar-model-to-the-residuals-as-a-second-layer-of-analysis" id="toc-fitting-an-ar-model-to-the-residuals-as-a-second-layer-of-analysis" class="nav-link" data-scroll-target="#fitting-an-ar-model-to-the-residuals-as-a-second-layer-of-analysis">Fitting an AR model to the residuals as a second layer of analysis</a></li>
  <li><a href="#this-step-is-to-model-any-autocorrelation-not-captured-by-the-linear-model" id="toc-this-step-is-to-model-any-autocorrelation-not-captured-by-the-linear-model" class="nav-link" data-scroll-target="#this-step-is-to-model-any-autocorrelation-not-captured-by-the-linear-model">This step is to model any autocorrelation not captured by the linear model</a></li>
  <li><a href="#plotting-and-analyzing-the-residuals-and-autocorrelation-of-the-arima-model" id="toc-plotting-and-analyzing-the-residuals-and-autocorrelation-of-the-arima-model" class="nav-link" data-scroll-target="#plotting-and-analyzing-the-residuals-and-autocorrelation-of-the-arima-model">Plotting and analyzing the residuals and autocorrelation of the ARIMA model</a></li>
  <li><a href="#helps-in-understanding-the-models-effectiveness-in-handling-autocorrelation" id="toc-helps-in-understanding-the-models-effectiveness-in-handling-autocorrelation" class="nav-link" data-scroll-target="#helps-in-understanding-the-models-effectiveness-in-handling-autocorrelation">Helps in understanding the model’s effectiveness in handling autocorrelation</a></li>
  <li><a href="#using-auto.arima-to-automatically-find-the-best-arima-model-specification" id="toc-using-auto.arima-to-automatically-find-the-best-arima-model-specification" class="nav-link" data-scroll-target="#using-auto.arima-to-automatically-find-the-best-arima-model-specification">Using auto.arima to automatically find the best ARIMA model specification</a></li>
  <li><a href="#this-function-helps-in-simplifying-the-model-selection-process" id="toc-this-function-helps-in-simplifying-the-model-selection-process" class="nav-link" data-scroll-target="#this-function-helps-in-simplifying-the-model-selection-process">This function helps in simplifying the model selection process</a>
  <ul class="collapse">
  <li><a href="#series-train.ts" id="toc-series-train.ts" class="nav-link" data-scroll-target="#series-train.ts">Series: train.ts</a></li>
  <li><a href="#arima21201212" id="toc-arima21201212" class="nav-link" data-scroll-target="#arima21201212">ARIMA(2,1,2)(0,1,2)[12]</a></li>
  <li><a href="#section-52" id="toc-section-52" class="nav-link" data-scroll-target="#section-52"></a></li>
  <li><a href="#coefficients-6" id="toc-coefficients-6" class="nav-link" data-scroll-target="#coefficients-6">Coefficients:</a></li>
  <li><a href="#ar1-ar2-ma1-ma2-sma1-sma2" id="toc-ar1-ar2-ma1-ma2-sma1-sma2" class="nav-link" data-scroll-target="#ar1-ar2-ma1-ma2-sma1-sma2">ar1 ar2 ma1 ma2 sma1 sma2</a></li>
  <li><a href="#section-53" id="toc-section-53" class="nav-link" data-scroll-target="#section-53">-0.1844 0.4917 -0.0388 -0.8752 -0.8100 0.1608</a></li>
  <li><a href="#s.e.-0.0919-0.0915-0.0657-0.0702-0.0793-0.0696" id="toc-s.e.-0.0919-0.0915-0.0657-0.0702-0.0793-0.0696" class="nav-link" data-scroll-target="#s.e.-0.0919-0.0915-0.0657-0.0702-0.0793-0.0696">s.e. 0.0919 0.0915 0.0657 0.0702 0.0793 0.0696</a></li>
  <li><a href="#section-54" id="toc-section-54" class="nav-link" data-scroll-target="#section-54"></a></li>
  <li><a href="#sigma2-3.865-log-likelihood--650.06" id="toc-sigma2-3.865-log-likelihood--650.06" class="nav-link" data-scroll-target="#sigma2-3.865-log-likelihood--650.06">sigma^2 = 3.865: log likelihood = -650.06</a></li>
  <li><a href="#aic1314.12-aicc1314.5-bic1340.26" id="toc-aic1314.12-aicc1314.5-bic1340.26" class="nav-link" data-scroll-target="#aic1314.12-aicc1314.5-bic1340.26">AIC=1314.12 AICc=1314.5 BIC=1340.26</a></li>
  <li><a href="#section-55" id="toc-section-55" class="nav-link" data-scroll-target="#section-55"></a></li>
  <li><a href="#training-set-error-measures" id="toc-training-set-error-measures" class="nav-link" data-scroll-target="#training-set-error-measures">Training set error measures:</a></li>
  <li><a href="#me-rmse-mae-mpe-mape-mase" id="toc-me-rmse-mae-mpe-mape-mase" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-mase">ME RMSE MAE MPE MAPE MASE</a></li>
  <li><a href="#training-set-0.1157932-1.907105-1.117698-0.03713381-1.414958-0.3776832" id="toc-training-set-0.1157932-1.907105-1.117698-0.03713381-1.414958-0.3776832" class="nav-link" data-scroll-target="#training-set-0.1157932-1.907105-1.117698-0.03713381-1.414958-0.3776832">Training set 0.1157932 1.907105 1.117698 0.03713381 1.414958 0.3776832</a></li>
  <li><a href="#acf1" id="toc-acf1" class="nav-link" data-scroll-target="#acf1">ACF1</a></li>
  <li><a href="#training-set-0.02814524" id="toc-training-set-0.02814524" class="nav-link" data-scroll-target="#training-set-0.02814524">Training set 0.02814524</a></li>
  </ul></li>
  <li><a href="#forecasting-and-plotting-using-the-auto.arima-model" id="toc-forecasting-and-plotting-using-the-auto.arima-model" class="nav-link" data-scroll-target="#forecasting-and-plotting-using-the-auto.arima-model">Forecasting and plotting using the auto.arima model</a></li>
  <li><a href="#provides-a-comparative-view-of-the-forecast-vs-actual-values" id="toc-provides-a-comparative-view-of-the-forecast-vs-actual-values" class="nav-link" data-scroll-target="#provides-a-comparative-view-of-the-forecast-vs-actual-values">Provides a comparative view of the forecast vs actual values</a></li>
  <li><a href="#evaluating-accuracy-and-analyzing-autocorrelation-in-the-residuals-of-the-auto.arima-model" id="toc-evaluating-accuracy-and-analyzing-autocorrelation-in-the-residuals-of-the-auto.arima-model" class="nav-link" data-scroll-target="#evaluating-accuracy-and-analyzing-autocorrelation-in-the-residuals-of-the-auto.arima-model">Evaluating accuracy and analyzing autocorrelation in the residuals of the auto.arima model</a></li>
  <li><a href="#final-step-to-assess-the-overall-performance-of-the-chosen-arima-model" id="toc-final-step-to-assess-the-overall-performance-of-the-chosen-arima-model" class="nav-link" data-scroll-target="#final-step-to-assess-the-overall-performance-of-the-chosen-arima-model">Final step to assess the overall performance of the chosen ARIMA model</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-4" id="toc-me-rmse-mae-mpe-mape-4" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-4">ME RMSE MAE MPE MAPE</a></li>
  <li><a href="#test-set-2.704173-3.481628-2.704173-2.37663-2.37663" id="toc-test-set-2.704173-3.481628-2.704173-2.37663-2.37663" class="nav-link" data-scroll-target="#test-set-2.704173-3.481628-2.704173-2.37663-2.37663">Test set 2.704173 3.481628 2.704173 2.37663 2.37663</a></li>
  </ul></li>
  <li><a href="#install-forecast-package-for-time-series-analysis-and-forecasting-techniques" id="toc-install-forecast-package-for-time-series-analysis-and-forecasting-techniques" class="nav-link" data-scroll-target="#install-forecast-package-for-time-series-analysis-and-forecasting-techniques">Install ‘forecast’ package for time series analysis and forecasting techniques</a>
  <ul class="collapse">
  <li><a href="#registered-s3-method-overwritten-by-quantmod-5" id="toc-registered-s3-method-overwritten-by-quantmod-5" class="nav-link" data-scroll-target="#registered-s3-method-overwritten-by-quantmod-5">Registered S3 method overwritten by ‘quantmod’:</a></li>
  <li><a href="#method-from-5" id="toc-method-from-5" class="nav-link" data-scroll-target="#method-from-5">method from</a></li>
  <li><a href="#as.zoo.data.frame-zoo-5" id="toc-as.zoo.data.frame-zoo-5" class="nav-link" data-scroll-target="#as.zoo.data.frame-zoo-5">as.zoo.data.frame zoo</a></li>
  </ul></li>
  <li><a href="#install-lubridate-package-for-easier-date-time-manipulation" id="toc-install-lubridate-package-for-easier-date-time-manipulation" class="nav-link" data-scroll-target="#install-lubridate-package-for-easier-date-time-manipulation">Install ‘lubridate’ package for easier date-time manipulation</a>
  <ul class="collapse">
  <li><a href="#section-56" id="toc-section-56" class="nav-link" data-scroll-target="#section-56"></a></li>
  <li><a href="#attaching-package-lubridate" id="toc-attaching-package-lubridate" class="nav-link" data-scroll-target="#attaching-package-lubridate">Attaching package: ‘lubridate’</a></li>
  <li><a href="#the-following-objects-are-masked-from-packagebase-1" id="toc-the-following-objects-are-masked-from-packagebase-1" class="nav-link" data-scroll-target="#the-following-objects-are-masked-from-packagebase-1">The following objects are masked from ‘package:base’:</a></li>
  <li><a href="#section-57" id="toc-section-57" class="nav-link" data-scroll-target="#section-57"></a></li>
  <li><a href="#date-intersect-setdiff-union" id="toc-date-intersect-setdiff-union" class="nav-link" data-scroll-target="#date-intersect-setdiff-union">date, intersect, setdiff, union</a></li>
  </ul></li>
  <li><a href="#load-the-readr-library-for-data-import-and-processing" id="toc-load-the-readr-library-for-data-import-and-processing" class="nav-link" data-scroll-target="#load-the-readr-library-for-data-import-and-processing">Load the ‘readr’ library for data import and processing</a></li>
  <li><a href="#read-the-gdp-data-from-a-csv-file" id="toc-read-the-gdp-data-from-a-csv-file" class="nav-link" data-scroll-target="#read-the-gdp-data-from-a-csv-file">Read the GDP data from a CSV file</a>
  <ul class="collapse">
  <li><a href="#rows-87-columns-4" id="toc-rows-87-columns-4" class="nav-link" data-scroll-target="#rows-87-columns-4">Rows: 87 Columns: 4</a></li>
  <li><a href="#column-specification" id="toc-column-specification" class="nav-link" data-scroll-target="#column-specification">── Column specification ────────────────────────────────────────────────────────</a></li>
  <li><a href="#delimiter" id="toc-delimiter" class="nav-link" data-scroll-target="#delimiter">Delimiter: “,”</a></li>
  <li><a href="#chr-1-date" id="toc-chr-1-date" class="nav-link" data-scroll-target="#chr-1-date">chr (1): date</a></li>
  <li><a href="#dbl-3-gdp-invest-consu" id="toc-dbl-3-gdp-invest-consu" class="nav-link" data-scroll-target="#dbl-3-gdp-invest-consu">dbl (3): gdp, invest, consu</a></li>
  <li><a href="#section-58" id="toc-section-58" class="nav-link" data-scroll-target="#section-58"></a></li>
  <li><a href="#ℹ-use-spec-to-retrieve-the-full-column-specification-for-this-data." id="toc-ℹ-use-spec-to-retrieve-the-full-column-specification-for-this-data." class="nav-link" data-scroll-target="#ℹ-use-spec-to-retrieve-the-full-column-specification-for-this-data.">ℹ Use <code>spec()</code> to retrieve the full column specification for this data.</a></li>
  <li><a href="#ℹ-specify-the-column-types-or-set-show_col_types-false-to-quiet-this-message." id="toc-ℹ-specify-the-column-types-or-set-show_col_types-false-to-quiet-this-message." class="nav-link" data-scroll-target="#ℹ-specify-the-column-types-or-set-show_col_types-false-to-quiet-this-message.">ℹ Specify the column types or set <code>show_col_types = FALSE</code> to quiet this message.</a></li>
  </ul></li>
  <li><a href="#convert-the-date-column-to-date-format-for-time-series-analysis" id="toc-convert-the-date-column-to-date-format-for-time-series-analysis" class="nav-link" data-scroll-target="#convert-the-date-column-to-date-format-for-time-series-analysis">Convert the ‘date’ column to Date format for time series analysis</a></li>
  <li><a href="#combine-invest-and-consu-columns-as-a-data-frame-for-modeling" id="toc-combine-invest-and-consu-columns-as-a-data-frame-for-modeling" class="nav-link" data-scroll-target="#combine-invest-and-consu-columns-as-a-data-frame-for-modeling">Combine ‘invest’ and ‘consu’ columns as a data frame for modeling</a></li>
  <li><a href="#assign-gdp-values-to-y" id="toc-assign-gdp-values-to-y" class="nav-link" data-scroll-target="#assign-gdp-values-to-y">Assign GDP values to ‘y’</a></li>
  <li><a href="#determine-the-number-of-total-and-validation-observations" id="toc-determine-the-number-of-total-and-validation-observations" class="nav-link" data-scroll-target="#determine-the-number-of-total-and-validation-observations">Determine the number of total and validation observations</a></li>
  <li><a href="#split-the-data-into-training-and-validation-sets-1" id="toc-split-the-data-into-training-and-validation-sets-1" class="nav-link" data-scroll-target="#split-the-data-into-training-and-validation-sets-1">Split the data into training and validation sets</a></li>
  <li><a href="#convert-the-training-set-ytrain-into-a-time-series-object" id="toc-convert-the-training-set-ytrain-into-a-time-series-object" class="nav-link" data-scroll-target="#convert-the-training-set-ytrain-into-a-time-series-object">Convert the training set ‘yTrain’ into a time series object</a></li>
  <li><a href="#create-a-formula-for-the-linear-model-including-trends-and-predictors" id="toc-create-a-formula-for-the-linear-model-including-trends-and-predictors" class="nav-link" data-scroll-target="#create-a-formula-for-the-linear-model-including-trends-and-predictors">Create a formula for the linear model (including trends and predictors)</a></li>
  <li><a href="#fit-a-time-series-linear-model-tslm-to-the-training-data" id="toc-fit-a-time-series-linear-model-tslm-to-the-training-data" class="nav-link" data-scroll-target="#fit-a-time-series-linear-model-tslm-to-the-training-data">Fit a time series linear model (tslm) to the training data</a></li>
  <li><a href="#forecast-gdp-using-the-fitted-model-and-validation-predictors" id="toc-forecast-gdp-using-the-fitted-model-and-validation-predictors" class="nav-link" data-scroll-target="#forecast-gdp-using-the-fitted-model-and-validation-predictors">Forecast GDP using the fitted model and validation predictors</a></li>
  <li><a href="#plot-the-forecast-with-actual-data-for-comparison" id="toc-plot-the-forecast-with-actual-data-for-comparison" class="nav-link" data-scroll-target="#plot-the-forecast-with-actual-data-for-comparison">Plot the forecast with actual data for comparison</a></li>
  <li><a href="#set-options-for-numeric-display" id="toc-set-options-for-numeric-display" class="nav-link" data-scroll-target="#set-options-for-numeric-display">Set options for numeric display</a></li>
  <li><a href="#display-a-summary-of-the-fitted-time-series-linear-model" id="toc-display-a-summary-of-the-fitted-time-series-linear-model" class="nav-link" data-scroll-target="#display-a-summary-of-the-fitted-time-series-linear-model">Display a summary of the fitted time series linear model</a>
  <ul class="collapse">
  <li><a href="#section-59" id="toc-section-59" class="nav-link" data-scroll-target="#section-59"></a></li>
  <li><a href="#call-7" id="toc-call-7" class="nav-link" data-scroll-target="#call-7">Call:</a></li>
  <li><a href="#tslmformula-formula-data-xtrain-lambda-1" id="toc-tslmformula-formula-data-xtrain-lambda-1" class="nav-link" data-scroll-target="#tslmformula-formula-data-xtrain-lambda-1">tslm(formula = formula, data = xTrain, lambda = 1)</a></li>
  <li><a href="#section-60" id="toc-section-60" class="nav-link" data-scroll-target="#section-60"></a></li>
  <li><a href="#residuals-7" id="toc-residuals-7" class="nav-link" data-scroll-target="#residuals-7">Residuals:</a></li>
  <li><a href="#min-1q-median-3q-max-6" id="toc-min-1q-median-3q-max-6" class="nav-link" data-scroll-target="#min-1q-median-3q-max-6">Min 1Q Median 3Q Max</a></li>
  <li><a href="#section-61" id="toc-section-61" class="nav-link" data-scroll-target="#section-61">-11899 -2788 686 2740 8312</a></li>
  <li><a href="#section-62" id="toc-section-62" class="nav-link" data-scroll-target="#section-62"></a></li>
  <li><a href="#coefficients-7" id="toc-coefficients-7" class="nav-link" data-scroll-target="#coefficients-7">Coefficients:</a></li>
  <li><a href="#estimate-std.-error-t-value-prt-7" id="toc-estimate-std.-error-t-value-prt-7" class="nav-link" data-scroll-target="#estimate-std.-error-t-value-prt-7">Estimate Std. Error t value Pr(&gt;|t|)</a></li>
  <li><a href="#intercept-35376.01-17571.13-2.01-0.048" id="toc-intercept-35376.01-17571.13-2.01-0.048" class="nav-link" data-scroll-target="#intercept-35376.01-17571.13-2.01-0.048">(Intercept) 35376.01 17571.13 2.01 0.048 *</a></li>
  <li><a href="#trend--2949.99-213.33--13.83-0.0000000000000002" id="toc-trend--2949.99-213.33--13.83-0.0000000000000002" class="nav-link" data-scroll-target="#trend--2949.99-213.33--13.83-0.0000000000000002">trend -2949.99 213.33 -13.83 &lt; 0.0000000000000002 ***</a></li>
  <li><a href="#v1--8.37-1.01--8.31-0.00000000001" id="toc-v1--8.37-1.01--8.31-0.00000000001" class="nav-link" data-scroll-target="#v1--8.37-1.01--8.31-0.00000000001">V1 -8.37 1.01 -8.31 0.00000000001 ***</a></li>
  <li><a href="#v2-2438.62-111.14-21.94-0.0000000000000002" id="toc-v2-2438.62-111.14-21.94-0.0000000000000002" class="nav-link" data-scroll-target="#v2-2438.62-111.14-21.94-0.0000000000000002">V2 2438.62 111.14 21.94 &lt; 0.0000000000000002 ***</a></li>
  <li><a href="#section-63" id="toc-section-63" class="nav-link" data-scroll-target="#section-63">—</a></li>
  <li><a href="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-6" id="toc-signif.-codes-0-0.001-0.01-0.05-.-0.1-1-6" class="nav-link" data-scroll-target="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-6">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</a></li>
  <li><a href="#section-64" id="toc-section-64" class="nav-link" data-scroll-target="#section-64"></a></li>
  <li><a href="#residual-standard-error-4350-on-63-degrees-of-freedom" id="toc-residual-standard-error-4350-on-63-degrees-of-freedom" class="nav-link" data-scroll-target="#residual-standard-error-4350-on-63-degrees-of-freedom">Residual standard error: 4350 on 63 degrees of freedom</a></li>
  <li><a href="#multiple-r-squared-0.988-adjusted-r-squared-0.987" id="toc-multiple-r-squared-0.988-adjusted-r-squared-0.987" class="nav-link" data-scroll-target="#multiple-r-squared-0.988-adjusted-r-squared-0.987">Multiple R-squared: 0.988, Adjusted R-squared: 0.987</a></li>
  <li><a href="#f-statistic-1.68e03-on-3-and-63-df-p-value-0.0000000000000002" id="toc-f-statistic-1.68e03-on-3-and-63-df-p-value-0.0000000000000002" class="nav-link" data-scroll-target="#f-statistic-1.68e03-on-3-and-63-df-p-value-0.0000000000000002">F-statistic: 1.68e+03 on 3 and 63 DF, p-value: &lt;0.0000000000000002</a></li>
  </ul></li>
  <li><a href="#evaluate-the-accuracy-of-the-forecast" id="toc-evaluate-the-accuracy-of-the-forecast" class="nav-link" data-scroll-target="#evaluate-the-accuracy-of-the-forecast">Evaluate the accuracy of the forecast</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-acf1-theils-u-4" id="toc-me-rmse-mae-mpe-mape-acf1-theils-u-4" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-acf1-theils-u-4">ME RMSE MAE MPE MAPE ACF1 Theil’s U</a></li>
  <li><a href="#test-set-7372.67-13573.3-10878.3-1.38981-2.1273-0.847148-2.55948" id="toc-test-set-7372.67-13573.3-10878.3-1.38981-2.1273-0.847148-2.55948" class="nav-link" data-scroll-target="#test-set-7372.67-13573.3-10878.3-1.38981-2.1273-0.847148-2.55948">Test set 7372.67 13573.3 10878.3 1.38981 2.1273 0.847148 2.55948</a></li>
  </ul></li>
  <li><a href="#install-and-load-necessary-packages" id="toc-install-and-load-necessary-packages" class="nav-link" data-scroll-target="#install-and-load-necessary-packages">Install and load necessary packages</a>
  <ul class="collapse">
  <li><a href="#warning-package-caret-was-built-under-r-version-4.3.2" id="toc-warning-package-caret-was-built-under-r-version-4.3.2" class="nav-link" data-scroll-target="#warning-package-caret-was-built-under-r-version-4.3.2">Warning: package ‘caret’ was built under R version 4.3.2</a></li>
  <li><a href="#loading-required-package-ggplot2" id="toc-loading-required-package-ggplot2" class="nav-link" data-scroll-target="#loading-required-package-ggplot2">Loading required package: ggplot2</a></li>
  <li><a href="#loading-required-package-lattice" id="toc-loading-required-package-lattice" class="nav-link" data-scroll-target="#loading-required-package-lattice">Loading required package: lattice</a></li>
  </ul></li>
  <li><a href="#read-and-preprocess-the-data" id="toc-read-and-preprocess-the-data" class="nav-link" data-scroll-target="#read-and-preprocess-the-data">Read and preprocess the data</a></li>
  <li><a href="#create-lagged-and-seasonal-features" id="toc-create-lagged-and-seasonal-features" class="nav-link" data-scroll-target="#create-lagged-and-seasonal-features">Create lagged and seasonal features</a></li>
  <li><a href="#split-the-data-into-training-and-validation-sets-2" id="toc-split-the-data-into-training-and-validation-sets-2" class="nav-link" data-scroll-target="#split-the-data-into-training-and-validation-sets-2">Split the data into training and validation sets</a></li>
  <li><a href="#build-and-summarize-the-logistic-regression-model" id="toc-build-and-summarize-the-logistic-regression-model" class="nav-link" data-scroll-target="#build-and-summarize-the-logistic-regression-model">Build and summarize the logistic regression model</a>
  <ul class="collapse">
  <li><a href="#section-65" id="toc-section-65" class="nav-link" data-scroll-target="#section-65"></a></li>
  <li><a href="#call-8" id="toc-call-8" class="nav-link" data-scroll-target="#call-8">Call:</a></li>
  <li><a href="#glmformula-rainy-lag1-seasonal_sine-seasonal_cosine" id="toc-glmformula-rainy-lag1-seasonal_sine-seasonal_cosine" class="nav-link" data-scroll-target="#glmformula-rainy-lag1-seasonal_sine-seasonal_cosine">glm(formula = Rainy ~ Lag1 + Seasonal_sine + Seasonal_cosine,</a></li>
  <li><a href="#family-binomial-data-train.df" id="toc-family-binomial-data-train.df" class="nav-link" data-scroll-target="#family-binomial-data-train.df">family = “binomial”, data = train.df)</a></li>
  <li><a href="#section-66" id="toc-section-66" class="nav-link" data-scroll-target="#section-66"></a></li>
  <li><a href="#coefficients-8" id="toc-coefficients-8" class="nav-link" data-scroll-target="#coefficients-8">Coefficients:</a></li>
  <li><a href="#estimate-std.-error-z-value-prz" id="toc-estimate-std.-error-z-value-prz" class="nav-link" data-scroll-target="#estimate-std.-error-z-value-prz">Estimate Std. Error z value Pr(&gt;|z|)</a></li>
  <li><a href="#intercept--0.76888-0.03858--19.927-2e-16" id="toc-intercept--0.76888-0.03858--19.927-2e-16" class="nav-link" data-scroll-target="#intercept--0.76888-0.03858--19.927-2e-16">(Intercept) -0.76888 0.03858 -19.927 &lt; 2e-16 ***</a></li>
  <li><a href="#lag1-0.11187-0.01137-9.843-2e-16" id="toc-lag1-0.11187-0.01137-9.843-2e-16" class="nav-link" data-scroll-target="#lag1-0.11187-0.01137-9.843-2e-16">Lag1 0.11187 0.01137 9.843 &lt; 2e-16 ***</a></li>
  <li><a href="#seasonal_sine--0.26885-0.05049--5.324-1.01e-07" id="toc-seasonal_sine--0.26885-0.05049--5.324-1.01e-07" class="nav-link" data-scroll-target="#seasonal_sine--0.26885-0.05049--5.324-1.01e-07">Seasonal_sine -0.26885 0.05049 -5.324 1.01e-07 ***</a></li>
  <li><a href="#seasonal_cosine--0.37134-0.05067--7.328-2.33e-13" id="toc-seasonal_cosine--0.37134-0.05067--7.328-2.33e-13" class="nav-link" data-scroll-target="#seasonal_cosine--0.37134-0.05067--7.328-2.33e-13">Seasonal_cosine -0.37134 0.05067 -7.328 2.33e-13 ***</a></li>
  <li><a href="#section-67" id="toc-section-67" class="nav-link" data-scroll-target="#section-67">—</a></li>
  <li><a href="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-7" id="toc-signif.-codes-0-0.001-0.01-0.05-.-0.1-1-7" class="nav-link" data-scroll-target="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-7">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</a></li>
  <li><a href="#section-68" id="toc-section-68" class="nav-link" data-scroll-target="#section-68"></a></li>
  <li><a href="#dispersion-parameter-for-binomial-family-taken-to-be-1" id="toc-dispersion-parameter-for-binomial-family-taken-to-be-1" class="nav-link" data-scroll-target="#dispersion-parameter-for-binomial-family-taken-to-be-1">(Dispersion parameter for binomial family taken to be 1)</a></li>
  <li><a href="#section-69" id="toc-section-69" class="nav-link" data-scroll-target="#section-69"></a></li>
  <li><a href="#null-deviance-4751.8-on-3651-degrees-of-freedom" id="toc-null-deviance-4751.8-on-3651-degrees-of-freedom" class="nav-link" data-scroll-target="#null-deviance-4751.8-on-3651-degrees-of-freedom">Null deviance: 4751.8 on 3651 degrees of freedom</a></li>
  <li><a href="#residual-deviance-4533.7-on-3648-degrees-of-freedom" id="toc-residual-deviance-4533.7-on-3648-degrees-of-freedom" class="nav-link" data-scroll-target="#residual-deviance-4533.7-on-3648-degrees-of-freedom">Residual deviance: 4533.7 on 3648 degrees of freedom</a></li>
  <li><a href="#aic-4541.7" id="toc-aic-4541.7" class="nav-link" data-scroll-target="#aic-4541.7">AIC: 4541.7</a></li>
  <li><a href="#section-70" id="toc-section-70" class="nav-link" data-scroll-target="#section-70"></a></li>
  <li><a href="#number-of-fisher-scoring-iterations-4" id="toc-number-of-fisher-scoring-iterations-4" class="nav-link" data-scroll-target="#number-of-fisher-scoring-iterations-4">Number of Fisher Scoring iterations: 4</a></li>
  </ul></li>
  <li><a href="#make-predictions-and-evaluate-the-model" id="toc-make-predictions-and-evaluate-the-model" class="nav-link" data-scroll-target="#make-predictions-and-evaluate-the-model">Make predictions and evaluate the model</a>
  <ul class="collapse">
  <li><a href="#confusion-matrix-and-statistics" id="toc-confusion-matrix-and-statistics" class="nav-link" data-scroll-target="#confusion-matrix-and-statistics">Confusion Matrix and Statistics</a></li>
  <li><a href="#section-71" id="toc-section-71" class="nav-link" data-scroll-target="#section-71"></a></li>
  <li><a href="#section-72" id="toc-section-72" class="nav-link" data-scroll-target="#section-72"></a></li>
  <li><a href="#section-73" id="toc-section-73" class="nav-link" data-scroll-target="#section-73">0 1</a></li>
  <li><a href="#section-74" id="toc-section-74" class="nav-link" data-scroll-target="#section-74">0 2251 1115</a></li>
  <li><a href="#section-75" id="toc-section-75" class="nav-link" data-scroll-target="#section-75">1 104 182</a></li>
  <li><a href="#section-76" id="toc-section-76" class="nav-link" data-scroll-target="#section-76"></a></li>
  <li><a href="#accuracy-0.6662" id="toc-accuracy-0.6662" class="nav-link" data-scroll-target="#accuracy-0.6662">Accuracy : 0.6662</a></li>
  <li><a href="#ci-0.6507-0.6815" id="toc-ci-0.6507-0.6815" class="nav-link" data-scroll-target="#ci-0.6507-0.6815">95% CI : (0.6507, 0.6815)</a></li>
  <li><a href="#no-information-rate-0.6449" id="toc-no-information-rate-0.6449" class="nav-link" data-scroll-target="#no-information-rate-0.6449">No Information Rate : 0.6449</a></li>
  <li><a href="#p-value-acc-nir-0.003566" id="toc-p-value-acc-nir-0.003566" class="nav-link" data-scroll-target="#p-value-acc-nir-0.003566">P-Value [Acc &gt; NIR] : 0.003566</a></li>
  <li><a href="#section-77" id="toc-section-77" class="nav-link" data-scroll-target="#section-77"></a></li>
  <li><a href="#kappa-0.1166" id="toc-kappa-0.1166" class="nav-link" data-scroll-target="#kappa-0.1166">Kappa : 0.1166</a></li>
  <li><a href="#section-78" id="toc-section-78" class="nav-link" data-scroll-target="#section-78"></a></li>
  <li><a href="#mcnemars-test-p-value-2.2e-16" id="toc-mcnemars-test-p-value-2.2e-16" class="nav-link" data-scroll-target="#mcnemars-test-p-value-2.2e-16">Mcnemar’s Test P-Value : &lt; 2.2e-16</a></li>
  <li><a href="#section-79" id="toc-section-79" class="nav-link" data-scroll-target="#section-79"></a></li>
  <li><a href="#sensitivity-0.9558" id="toc-sensitivity-0.9558" class="nav-link" data-scroll-target="#sensitivity-0.9558">Sensitivity : 0.9558</a></li>
  <li><a href="#specificity-0.1403" id="toc-specificity-0.1403" class="nav-link" data-scroll-target="#specificity-0.1403">Specificity : 0.1403</a></li>
  <li><a href="#pos-pred-value-0.6687" id="toc-pos-pred-value-0.6687" class="nav-link" data-scroll-target="#pos-pred-value-0.6687">Pos Pred Value : 0.6687</a></li>
  <li><a href="#neg-pred-value-0.6364" id="toc-neg-pred-value-0.6364" class="nav-link" data-scroll-target="#neg-pred-value-0.6364">Neg Pred Value : 0.6364</a></li>
  <li><a href="#prevalence-0.6449" id="toc-prevalence-0.6449" class="nav-link" data-scroll-target="#prevalence-0.6449">Prevalence : 0.6449</a></li>
  <li><a href="#detection-rate-0.6164" id="toc-detection-rate-0.6164" class="nav-link" data-scroll-target="#detection-rate-0.6164">Detection Rate : 0.6164</a></li>
  <li><a href="#detection-prevalence-0.9217" id="toc-detection-prevalence-0.9217" class="nav-link" data-scroll-target="#detection-prevalence-0.9217">Detection Prevalence : 0.9217</a></li>
  <li><a href="#balanced-accuracy-0.5481" id="toc-balanced-accuracy-0.5481" class="nav-link" data-scroll-target="#balanced-accuracy-0.5481">Balanced Accuracy : 0.5481</a></li>
  <li><a href="#section-80" id="toc-section-80" class="nav-link" data-scroll-target="#section-80"></a></li>
  <li><a href="#positive-class-0" id="toc-positive-class-0" class="nav-link" data-scroll-target="#positive-class-0">‘Positive’ Class : 0</a></li>
  <li><a href="#section-81" id="toc-section-81" class="nav-link" data-scroll-target="#section-81"></a></li>
  <li><a href="#confusion-matrix-and-statistics-1" id="toc-confusion-matrix-and-statistics-1" class="nav-link" data-scroll-target="#confusion-matrix-and-statistics-1">Confusion Matrix and Statistics</a></li>
  <li><a href="#section-82" id="toc-section-82" class="nav-link" data-scroll-target="#section-82"></a></li>
  <li><a href="#section-83" id="toc-section-83" class="nav-link" data-scroll-target="#section-83"></a></li>
  <li><a href="#section-84" id="toc-section-84" class="nav-link" data-scroll-target="#section-84">0 1</a></li>
  <li><a href="#section-85" id="toc-section-85" class="nav-link" data-scroll-target="#section-85">0 373 220</a></li>
  <li><a href="#section-86" id="toc-section-86" class="nav-link" data-scroll-target="#section-86">1 21 55</a></li>
  <li><a href="#section-87" id="toc-section-87" class="nav-link" data-scroll-target="#section-87"></a></li>
  <li><a href="#accuracy-0.6398" id="toc-accuracy-0.6398" class="nav-link" data-scroll-target="#accuracy-0.6398">Accuracy : 0.6398</a></li>
  <li><a href="#ci-0.6021-0.6762" id="toc-ci-0.6021-0.6762" class="nav-link" data-scroll-target="#ci-0.6021-0.6762">95% CI : (0.6021, 0.6762)</a></li>
  <li><a href="#no-information-rate-0.5889" id="toc-no-information-rate-0.5889" class="nav-link" data-scroll-target="#no-information-rate-0.5889">No Information Rate : 0.5889</a></li>
  <li><a href="#p-value-acc-nir-0.004043" id="toc-p-value-acc-nir-0.004043" class="nav-link" data-scroll-target="#p-value-acc-nir-0.004043">P-Value [Acc &gt; NIR] : 0.004043</a></li>
  <li><a href="#section-88" id="toc-section-88" class="nav-link" data-scroll-target="#section-88"></a></li>
  <li><a href="#kappa-0.1647" id="toc-kappa-0.1647" class="nav-link" data-scroll-target="#kappa-0.1647">Kappa : 0.1647</a></li>
  <li><a href="#section-89" id="toc-section-89" class="nav-link" data-scroll-target="#section-89"></a></li>
  <li><a href="#mcnemars-test-p-value-2.2e-16-1" id="toc-mcnemars-test-p-value-2.2e-16-1" class="nav-link" data-scroll-target="#mcnemars-test-p-value-2.2e-16-1">Mcnemar’s Test P-Value : &lt; 2.2e-16</a></li>
  <li><a href="#section-90" id="toc-section-90" class="nav-link" data-scroll-target="#section-90"></a></li>
  <li><a href="#sensitivity-0.9467" id="toc-sensitivity-0.9467" class="nav-link" data-scroll-target="#sensitivity-0.9467">Sensitivity : 0.9467</a></li>
  <li><a href="#specificity-0.2000" id="toc-specificity-0.2000" class="nav-link" data-scroll-target="#specificity-0.2000">Specificity : 0.2000</a></li>
  <li><a href="#pos-pred-value-0.6290" id="toc-pos-pred-value-0.6290" class="nav-link" data-scroll-target="#pos-pred-value-0.6290">Pos Pred Value : 0.6290</a></li>
  <li><a href="#neg-pred-value-0.7237" id="toc-neg-pred-value-0.7237" class="nav-link" data-scroll-target="#neg-pred-value-0.7237">Neg Pred Value : 0.7237</a></li>
  <li><a href="#prevalence-0.5889" id="toc-prevalence-0.5889" class="nav-link" data-scroll-target="#prevalence-0.5889">Prevalence : 0.5889</a></li>
  <li><a href="#detection-rate-0.5575" id="toc-detection-rate-0.5575" class="nav-link" data-scroll-target="#detection-rate-0.5575">Detection Rate : 0.5575</a></li>
  <li><a href="#detection-prevalence-0.8864" id="toc-detection-prevalence-0.8864" class="nav-link" data-scroll-target="#detection-prevalence-0.8864">Detection Prevalence : 0.8864</a></li>
  <li><a href="#balanced-accuracy-0.5734" id="toc-balanced-accuracy-0.5734" class="nav-link" data-scroll-target="#balanced-accuracy-0.5734">Balanced Accuracy : 0.5734</a></li>
  <li><a href="#section-91" id="toc-section-91" class="nav-link" data-scroll-target="#section-91"></a></li>
  <li><a href="#positive-class-0-1" id="toc-positive-class-0-1" class="nav-link" data-scroll-target="#positive-class-0-1">‘Positive’ Class : 0</a></li>
  <li><a href="#section-92" id="toc-section-92" class="nav-link" data-scroll-target="#section-92"></a></li>
  </ul></li>
  <li><a href="#load-the-readxl-library-for-reading-excel-files" id="toc-load-the-readxl-library-for-reading-excel-files" class="nav-link" data-scroll-target="#load-the-readxl-library-for-reading-excel-files">Load the ‘readxl’ library for reading Excel files</a></li>
  <li><a href="#read-the-gbpusd-exchange-rate-data-from-an-excel-file" id="toc-read-the-gbpusd-exchange-rate-data-from-an-excel-file" class="nav-link" data-scroll-target="#read-the-gbpusd-exchange-rate-data-from-an-excel-file">Read the GBP/USD exchange rate data from an Excel file</a></li>
  <li><a href="#convert-the-data-to-a-time-series-object-starting-from-dec-2003-to-dec-2023-with-monthly-frequency" id="toc-convert-the-data-to-a-time-series-object-starting-from-dec-2003-to-dec-2023-with-monthly-frequency" class="nav-link" data-scroll-target="#convert-the-data-to-a-time-series-object-starting-from-dec-2003-to-dec-2023-with-monthly-frequency">Convert the data to a time series object starting from Dec 2003 to Dec 2023 with monthly frequency</a></li>
  <li><a href="#load-the-forecast-library-for-time-series-forecasting" id="toc-load-the-forecast-library-for-time-series-forecasting" class="nav-link" data-scroll-target="#load-the-forecast-library-for-time-series-forecasting">Load the ‘forecast’ library for time series forecasting</a>
  <ul class="collapse">
  <li><a href="#registered-s3-method-overwritten-by-quantmod-6" id="toc-registered-s3-method-overwritten-by-quantmod-6" class="nav-link" data-scroll-target="#registered-s3-method-overwritten-by-quantmod-6">Registered S3 method overwritten by ‘quantmod’:</a></li>
  <li><a href="#method-from-6" id="toc-method-from-6" class="nav-link" data-scroll-target="#method-from-6">method from</a></li>
  <li><a href="#as.zoo.data.frame-zoo-6" id="toc-as.zoo.data.frame-zoo-6" class="nav-link" data-scroll-target="#as.zoo.data.frame-zoo-6">as.zoo.data.frame zoo</a></li>
  </ul></li>
  <li><a href="#plot-the-time-series-data" id="toc-plot-the-time-series-data" class="nav-link" data-scroll-target="#plot-the-time-series-data">Plot the time series data</a></li>
  <li><a href="#set-the-number-of-steps-to-forecast-ahead" id="toc-set-the-number-of-steps-to-forecast-ahead" class="nav-link" data-scroll-target="#set-the-number-of-steps-to-forecast-ahead">Set the number of steps to forecast ahead</a></li>
  <li><a href="#calculate-the-length-of-the-training-dataset" id="toc-calculate-the-length-of-the-training-dataset" class="nav-link" data-scroll-target="#calculate-the-length-of-the-training-dataset">Calculate the length of the training dataset</a></li>
  <li><a href="#create-a-training-time-series-dataset" id="toc-create-a-training-time-series-dataset" class="nav-link" data-scroll-target="#create-a-training-time-series-dataset">Create a training time series dataset</a></li>
  <li><a href="#create-a-validation-time-series-dataset" id="toc-create-a-validation-time-series-dataset" class="nav-link" data-scroll-target="#create-a-validation-time-series-dataset">Create a validation time series dataset</a></li>
  <li><a href="#build-a-linear-model-with-trend-and-seasonality-for-the-training-dataset" id="toc-build-a-linear-model-with-trend-and-seasonality-for-the-training-dataset" class="nav-link" data-scroll-target="#build-a-linear-model-with-trend-and-seasonality-for-the-training-dataset">Build a linear model with trend and seasonality for the training dataset</a></li>
  <li><a href="#display-summary-statistics-of-the-model" id="toc-display-summary-statistics-of-the-model" class="nav-link" data-scroll-target="#display-summary-statistics-of-the-model">Display summary statistics of the model</a>
  <ul class="collapse">
  <li><a href="#section-93" id="toc-section-93" class="nav-link" data-scroll-target="#section-93"></a></li>
  <li><a href="#call-9" id="toc-call-9" class="nav-link" data-scroll-target="#call-9">Call:</a></li>
  <li><a href="#tslmformula-train.ts-trend-itrend2-season-5" id="toc-tslmformula-train.ts-trend-itrend2-season-5" class="nav-link" data-scroll-target="#tslmformula-train.ts-trend-itrend2-season-5">tslm(formula = train.ts ~ trend + I(trend^2) + season)</a></li>
  <li><a href="#section-94" id="toc-section-94" class="nav-link" data-scroll-target="#section-94"></a></li>
  <li><a href="#residuals-8" id="toc-residuals-8" class="nav-link" data-scroll-target="#residuals-8">Residuals:</a></li>
  <li><a href="#min-1q-median-3q-max-7" id="toc-min-1q-median-3q-max-7" class="nav-link" data-scroll-target="#min-1q-median-3q-max-7">Min 1Q Median 3Q Max</a></li>
  <li><a href="#section-95" id="toc-section-95" class="nav-link" data-scroll-target="#section-95">-0.28243 -0.07537 -0.01590 0.06872 0.30900</a></li>
  <li><a href="#section-96" id="toc-section-96" class="nav-link" data-scroll-target="#section-96"></a></li>
  <li><a href="#coefficients-9" id="toc-coefficients-9" class="nav-link" data-scroll-target="#coefficients-9">Coefficients:</a></li>
  <li><a href="#estimate-std.-error-t-value-prt-8" id="toc-estimate-std.-error-t-value-prt-8" class="nav-link" data-scroll-target="#estimate-std.-error-t-value-prt-8">Estimate Std. Error t value Pr(&gt;|t|)</a></li>
  <li><a href="#intercept-1.937e00-3.433e-02-56.428-2e-16" id="toc-intercept-1.937e00-3.433e-02-56.428-2e-16" class="nav-link" data-scroll-target="#intercept-1.937e00-3.433e-02-56.428-2e-16">(Intercept) 1.937e+00 3.433e-02 56.428 &lt; 2e-16 ***</a></li>
  <li><a href="#trend--3.660e-03-4.667e-04--7.842-2.04e-13" id="toc-trend--3.660e-03-4.667e-04--7.842-2.04e-13" class="nav-link" data-scroll-target="#trend--3.660e-03-4.667e-04--7.842-2.04e-13">trend -3.660e-03 4.667e-04 -7.842 2.04e-13 ***</a></li>
  <li><a href="#itrend2-2.217e-06-1.965e-06-1.128-0.261" id="toc-itrend2-2.217e-06-1.965e-06-1.128-0.261" class="nav-link" data-scroll-target="#itrend2-2.217e-06-1.965e-06-1.128-0.261">I(trend^2) 2.217e-06 1.965e-06 1.128 0.261</a></li>
  <li><a href="#season2--1.862e-03-3.769e-02--0.049-0.961" id="toc-season2--1.862e-03-3.769e-02--0.049-0.961" class="nav-link" data-scroll-target="#season2--1.862e-03-3.769e-02--0.049-0.961">season2 -1.862e-03 3.769e-02 -0.049 0.961</a></li>
  <li><a href="#season3--7.891e-03-3.769e-02--0.209-0.834" id="toc-season3--7.891e-03-3.769e-02--0.209-0.834" class="nav-link" data-scroll-target="#season3--7.891e-03-3.769e-02--0.209-0.834">season3 -7.891e-03 3.769e-02 -0.209 0.834</a></li>
  <li><a href="#season4-1.260e-02-3.769e-02-0.334-0.739" id="toc-season4-1.260e-02-3.769e-02-0.334-0.739" class="nav-link" data-scroll-target="#season4-1.260e-02-3.769e-02-0.334-0.739">season4 1.260e-02 3.769e-02 0.334 0.739</a></li>
  <li><a href="#season5-5.390e-03-3.769e-02-0.143-0.886" id="toc-season5-5.390e-03-3.769e-02-0.143-0.886" class="nav-link" data-scroll-target="#season5-5.390e-03-3.769e-02-0.143-0.886">season5 5.390e-03 3.769e-02 0.143 0.886</a></li>
  <li><a href="#season6-5.085e-03-3.769e-02-0.135-0.893" id="toc-season6-5.085e-03-3.769e-02-0.135-0.893" class="nav-link" data-scroll-target="#season6-5.085e-03-3.769e-02-0.135-0.893">season6 5.085e-03 3.769e-02 0.135 0.893</a></li>
  <li><a href="#season7-1.468e-02-3.770e-02-0.389-0.697" id="toc-season7-1.468e-02-3.770e-02-0.389-0.697" class="nav-link" data-scroll-target="#season7-1.468e-02-3.770e-02-0.389-0.697">season7 1.468e-02 3.770e-02 0.389 0.697</a></li>
  <li><a href="#season8-1.776e-03-3.770e-02-0.047-0.962" id="toc-season8-1.776e-03-3.770e-02-0.047-0.962" class="nav-link" data-scroll-target="#season8-1.776e-03-3.770e-02-0.047-0.962">season8 1.776e-03 3.770e-02 0.047 0.962</a></li>
  <li><a href="#season9--3.495e-03-3.770e-02--0.093-0.926" id="toc-season9--3.495e-03-3.770e-02--0.093-0.926" class="nav-link" data-scroll-target="#season9--3.495e-03-3.770e-02--0.093-0.926">season9 -3.495e-03 3.770e-02 -0.093 0.926</a></li>
  <li><a href="#season10-2.450e-03-3.770e-02-0.065-0.948" id="toc-season10-2.450e-03-3.770e-02-0.065-0.948" class="nav-link" data-scroll-target="#season10-2.450e-03-3.770e-02-0.065-0.948">season10 2.450e-03 3.770e-02 0.065 0.948</a></li>
  <li><a href="#season11-3.764e-03-3.771e-02-0.100-0.921" id="toc-season11-3.764e-03-3.771e-02-0.100-0.921" class="nav-link" data-scroll-target="#season11-3.764e-03-3.771e-02-0.100-0.921">season11 3.764e-03 3.771e-02 0.100 0.921</a></li>
  <li><a href="#season12--6.615e-03-3.723e-02--0.178-0.859" id="toc-season12--6.615e-03-3.723e-02--0.178-0.859" class="nav-link" data-scroll-target="#season12--6.615e-03-3.723e-02--0.178-0.859">season12 -6.615e-03 3.723e-02 -0.178 0.859</a></li>
  <li><a href="#section-97" id="toc-section-97" class="nav-link" data-scroll-target="#section-97">—</a></li>
  <li><a href="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-8" id="toc-signif.-codes-0-0.001-0.01-0.05-.-0.1-1-8" class="nav-link" data-scroll-target="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-8">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</a></li>
  <li><a href="#section-98" id="toc-section-98" class="nav-link" data-scroll-target="#section-98"></a></li>
  <li><a href="#residual-standard-error-0.1162-on-215-degrees-of-freedom" id="toc-residual-standard-error-0.1162-on-215-degrees-of-freedom" class="nav-link" data-scroll-target="#residual-standard-error-0.1162-on-215-degrees-of-freedom">Residual standard error: 0.1162 on 215 degrees of freedom</a></li>
  <li><a href="#multiple-r-squared-0.7743-adjusted-r-squared-0.7606" id="toc-multiple-r-squared-0.7743-adjusted-r-squared-0.7606" class="nav-link" data-scroll-target="#multiple-r-squared-0.7743-adjusted-r-squared-0.7606">Multiple R-squared: 0.7743, Adjusted R-squared: 0.7606</a></li>
  <li><a href="#f-statistic-56.73-on-13-and-215-df-p-value-2.2e-16" id="toc-f-statistic-56.73-on-13-and-215-df-p-value-2.2e-16" class="nav-link" data-scroll-target="#f-statistic-56.73-on-13-and-215-df-p-value-2.2e-16">F-statistic: 56.73 on 13 and 215 DF, p-value: &lt; 2.2e-16</a></li>
  </ul></li>
  <li><a href="#build-a-simpler-linear-model-with-only-trend-for-the-training-dataset" id="toc-build-a-simpler-linear-model-with-only-trend-for-the-training-dataset" class="nav-link" data-scroll-target="#build-a-simpler-linear-model-with-only-trend-for-the-training-dataset">Build a simpler linear model with only trend for the training dataset</a></li>
  <li><a href="#display-summary-statistics-of-the-simpler-model" id="toc-display-summary-statistics-of-the-simpler-model" class="nav-link" data-scroll-target="#display-summary-statistics-of-the-simpler-model">Display summary statistics of the simpler model</a>
  <ul class="collapse">
  <li><a href="#section-99" id="toc-section-99" class="nav-link" data-scroll-target="#section-99"></a></li>
  <li><a href="#call-10" id="toc-call-10" class="nav-link" data-scroll-target="#call-10">Call:</a></li>
  <li><a href="#tslmformula-train.ts-trend" id="toc-tslmformula-train.ts-trend" class="nav-link" data-scroll-target="#tslmformula-train.ts-trend">tslm(formula = train.ts ~ trend)</a></li>
  <li><a href="#section-100" id="toc-section-100" class="nav-link" data-scroll-target="#section-100"></a></li>
  <li><a href="#residuals-9" id="toc-residuals-9" class="nav-link" data-scroll-target="#residuals-9">Residuals:</a></li>
  <li><a href="#min-1q-median-3q-max-8" id="toc-min-1q-median-3q-max-8" class="nav-link" data-scroll-target="#min-1q-median-3q-max-8">Min 1Q Median 3Q Max</a></li>
  <li><a href="#section-101" id="toc-section-101" class="nav-link" data-scroll-target="#section-101">-0.29007 -0.07364 -0.01599 0.05980 0.30994</a></li>
  <li><a href="#section-102" id="toc-section-102" class="nav-link" data-scroll-target="#section-102"></a></li>
  <li><a href="#coefficients-10" id="toc-coefficients-10" class="nav-link" data-scroll-target="#coefficients-10">Coefficients:</a></li>
  <li><a href="#estimate-std.-error-t-value-prt-9" id="toc-estimate-std.-error-t-value-prt-9" class="nav-link" data-scroll-target="#estimate-std.-error-t-value-prt-9">Estimate Std. Error t value Pr(&gt;|t|)</a></li>
  <li><a href="#intercept-1.9193772-0.0150599-127.45-2e-16" id="toc-intercept-1.9193772-0.0150599-127.45-2e-16" class="nav-link" data-scroll-target="#intercept-1.9193772-0.0150599-127.45-2e-16">(Intercept) 1.9193772 0.0150599 127.45 &lt;2e-16 ***</a></li>
  <li><a href="#trend--0.0031494-0.0001135--27.74-2e-16" id="toc-trend--0.0031494-0.0001135--27.74-2e-16" class="nav-link" data-scroll-target="#trend--0.0031494-0.0001135--27.74-2e-16">trend -0.0031494 0.0001135 -27.74 &lt;2e-16 ***</a></li>
  <li><a href="#section-103" id="toc-section-103" class="nav-link" data-scroll-target="#section-103">—</a></li>
  <li><a href="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-9" id="toc-signif.-codes-0-0.001-0.01-0.05-.-0.1-1-9" class="nav-link" data-scroll-target="#signif.-codes-0-0.001-0.01-0.05-.-0.1-1-9">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</a></li>
  <li><a href="#section-104" id="toc-section-104" class="nav-link" data-scroll-target="#section-104"></a></li>
  <li><a href="#residual-standard-error-0.1136-on-227-degrees-of-freedom" id="toc-residual-standard-error-0.1136-on-227-degrees-of-freedom" class="nav-link" data-scroll-target="#residual-standard-error-0.1136-on-227-degrees-of-freedom">Residual standard error: 0.1136 on 227 degrees of freedom</a></li>
  <li><a href="#multiple-r-squared-0.7722-adjusted-r-squared-0.7712" id="toc-multiple-r-squared-0.7722-adjusted-r-squared-0.7712" class="nav-link" data-scroll-target="#multiple-r-squared-0.7722-adjusted-r-squared-0.7712">Multiple R-squared: 0.7722, Adjusted R-squared: 0.7712</a></li>
  <li><a href="#f-statistic-769.5-on-1-and-227-df-p-value-2.2e-16" id="toc-f-statistic-769.5-on-1-and-227-df-p-value-2.2e-16" class="nav-link" data-scroll-target="#f-statistic-769.5-on-1-and-227-df-p-value-2.2e-16">F-statistic: 769.5 on 1 and 227 DF, p-value: &lt; 2.2e-16</a></li>
  </ul></li>
  <li><a href="#predict-future-values-using-the-simpler-model" id="toc-predict-future-values-using-the-simpler-model" class="nav-link" data-scroll-target="#predict-future-values-using-the-simpler-model">Predict future values using the simpler model</a></li>
  <li><a href="#plot-the-forecasted-values" id="toc-plot-the-forecasted-values" class="nav-link" data-scroll-target="#plot-the-forecasted-values">Plot the forecasted values</a></li>
  <li><a href="#add-custom-year-axis" id="toc-add-custom-year-axis" class="nav-link" data-scroll-target="#add-custom-year-axis">Add custom year axis</a></li>
  <li><a href="#add-lines-to-the-plot-for-the-fitted-and-actual-values" id="toc-add-lines-to-the-plot-for-the-fitted-and-actual-values" class="nav-link" data-scroll-target="#add-lines-to-the-plot-for-the-fitted-and-actual-values">Add lines to the plot for the fitted and actual values</a></li>
  <li><a href="#forecast-the-next-12-time-points-and-calculate-accuracy" id="toc-forecast-the-next-12-time-points-and-calculate-accuracy" class="nav-link" data-scroll-target="#forecast-the-next-12-time-points-and-calculate-accuracy">Forecast the next 12 time points and calculate accuracy</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-acf1-theils-u-5" id="toc-me-rmse-mae-mpe-mape-acf1-theils-u-5" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-acf1-theils-u-5">ME RMSE MAE MPE MAPE ACF1 Theil’s U</a></li>
  <li><a href="#test-set-0.0675716-0.07356447-0.0675716-5.38607-5.38607-0.4909296-2.734794" id="toc-test-set-0.0675716-0.07356447-0.0675716-5.38607-5.38607-0.4909296-2.734794" class="nav-link" data-scroll-target="#test-set-0.0675716-0.07356447-0.0675716-5.38607-5.38607-0.4909296-2.734794">Test set 0.0675716 0.07356447 0.0675716 5.38607 5.38607 0.4909296 2.734794</a></li>
  </ul></li>
  <li><a href="#set-a-random-seed-for-reproducibility" id="toc-set-a-random-seed-for-reproducibility" class="nav-link" data-scroll-target="#set-a-random-seed-for-reproducibility">Set a random seed for reproducibility</a></li>
  <li><a href="#build-a-neural-network-model-for-time-series-forecasting" id="toc-build-a-neural-network-model-for-time-series-forecasting" class="nav-link" data-scroll-target="#build-a-neural-network-model-for-time-series-forecasting">Build a neural network model for time series forecasting</a></li>
  <li><a href="#display-summary-of-the-neural-network-model" id="toc-display-summary-of-the-neural-network-model" class="nav-link" data-scroll-target="#display-summary-of-the-neural-network-model">Display summary of the neural network model</a>
  <ul class="collapse">
  <li><a href="#a-12-7-1-network-with-99-weights" id="toc-a-12-7-1-network-with-99-weights" class="nav-link" data-scroll-target="#a-12-7-1-network-with-99-weights">a 12-7-1 network with 99 weights</a></li>
  <li><a href="#options-were---linear-output-units" id="toc-options-were---linear-output-units" class="nav-link" data-scroll-target="#options-were---linear-output-units">options were - linear output units</a></li>
  <li><a href="#b-h1-i1-h1-i2-h1-i3-h1-i4-h1-i5-h1-i6-h1-i7-h1-i8-h1-i9-h1" id="toc-b-h1-i1-h1-i2-h1-i3-h1-i4-h1-i5-h1-i6-h1-i7-h1-i8-h1-i9-h1" class="nav-link" data-scroll-target="#b-h1-i1-h1-i2-h1-i3-h1-i4-h1-i5-h1-i6-h1-i7-h1-i8-h1-i9-h1">b-&gt;h1 i1-&gt;h1 i2-&gt;h1 i3-&gt;h1 i4-&gt;h1 i5-&gt;h1 i6-&gt;h1 i7-&gt;h1 i8-&gt;h1 i9-&gt;h1</a></li>
  <li><a href="#section-105" id="toc-section-105" class="nav-link" data-scroll-target="#section-105">-0.20 -0.21 -1.60 0.43 0.53 0.31 -0.81 -0.86 -1.79 -0.34</a></li>
  <li><a href="#i10-h1-i11-h1-i12-h1" id="toc-i10-h1-i11-h1-i12-h1" class="nav-link" data-scroll-target="#i10-h1-i11-h1-i12-h1">i10-&gt;h1 i11-&gt;h1 i12-&gt;h1</a></li>
  <li><a href="#section-106" id="toc-section-106" class="nav-link" data-scroll-target="#section-106">2.56 1.38 0.82</a></li>
  <li><a href="#b-h2-i1-h2-i2-h2-i3-h2-i4-h2-i5-h2-i6-h2-i7-h2-i8-h2-i9-h2" id="toc-b-h2-i1-h2-i2-h2-i3-h2-i4-h2-i5-h2-i6-h2-i7-h2-i8-h2-i9-h2" class="nav-link" data-scroll-target="#b-h2-i1-h2-i2-h2-i3-h2-i4-h2-i5-h2-i6-h2-i7-h2-i8-h2-i9-h2">b-&gt;h2 i1-&gt;h2 i2-&gt;h2 i3-&gt;h2 i4-&gt;h2 i5-&gt;h2 i6-&gt;h2 i7-&gt;h2 i8-&gt;h2 i9-&gt;h2</a></li>
  <li><a href="#section-107" id="toc-section-107" class="nav-link" data-scroll-target="#section-107">-2.55 -2.86 -3.25 0.16 -4.35 5.22 3.62 1.75 0.42 -4.16</a></li>
  <li><a href="#i10-h2-i11-h2-i12-h2" id="toc-i10-h2-i11-h2-i12-h2" class="nav-link" data-scroll-target="#i10-h2-i11-h2-i12-h2">i10-&gt;h2 i11-&gt;h2 i12-&gt;h2</a></li>
  <li><a href="#section-108" id="toc-section-108" class="nav-link" data-scroll-target="#section-108">0.31 -1.71 1.05</a></li>
  <li><a href="#b-h3-i1-h3-i2-h3-i3-h3-i4-h3-i5-h3-i6-h3-i7-h3-i8-h3-i9-h3" id="toc-b-h3-i1-h3-i2-h3-i3-h3-i4-h3-i5-h3-i6-h3-i7-h3-i8-h3-i9-h3" class="nav-link" data-scroll-target="#b-h3-i1-h3-i2-h3-i3-h3-i4-h3-i5-h3-i6-h3-i7-h3-i8-h3-i9-h3">b-&gt;h3 i1-&gt;h3 i2-&gt;h3 i3-&gt;h3 i4-&gt;h3 i5-&gt;h3 i6-&gt;h3 i7-&gt;h3 i8-&gt;h3 i9-&gt;h3</a></li>
  <li><a href="#section-109" id="toc-section-109" class="nav-link" data-scroll-target="#section-109">0.39 -0.33 0.72 -0.95 0.67 -1.03 -0.41 0.02 0.38 -0.35</a></li>
  <li><a href="#i10-h3-i11-h3-i12-h3" id="toc-i10-h3-i11-h3-i12-h3" class="nav-link" data-scroll-target="#i10-h3-i11-h3-i12-h3">i10-&gt;h3 i11-&gt;h3 i12-&gt;h3</a></li>
  <li><a href="#section-110" id="toc-section-110" class="nav-link" data-scroll-target="#section-110">0.48 -0.58 -0.71</a></li>
  <li><a href="#b-h4-i1-h4-i2-h4-i3-h4-i4-h4-i5-h4-i6-h4-i7-h4-i8-h4-i9-h4" id="toc-b-h4-i1-h4-i2-h4-i3-h4-i4-h4-i5-h4-i6-h4-i7-h4-i8-h4-i9-h4" class="nav-link" data-scroll-target="#b-h4-i1-h4-i2-h4-i3-h4-i4-h4-i5-h4-i6-h4-i7-h4-i8-h4-i9-h4">b-&gt;h4 i1-&gt;h4 i2-&gt;h4 i3-&gt;h4 i4-&gt;h4 i5-&gt;h4 i6-&gt;h4 i7-&gt;h4 i8-&gt;h4 i9-&gt;h4</a></li>
  <li><a href="#section-111" id="toc-section-111" class="nav-link" data-scroll-target="#section-111">0.61 0.24 2.34 -0.75 -3.61 2.74 2.16 -3.91 -1.23 0.60</a></li>
  <li><a href="#i10-h4-i11-h4-i12-h4" id="toc-i10-h4-i11-h4-i12-h4" class="nav-link" data-scroll-target="#i10-h4-i11-h4-i12-h4">i10-&gt;h4 i11-&gt;h4 i12-&gt;h4</a></li>
  <li><a href="#section-112" id="toc-section-112" class="nav-link" data-scroll-target="#section-112">0.65 1.43 2.42</a></li>
  <li><a href="#b-h5-i1-h5-i2-h5-i3-h5-i4-h5-i5-h5-i6-h5-i7-h5-i8-h5-i9-h5" id="toc-b-h5-i1-h5-i2-h5-i3-h5-i4-h5-i5-h5-i6-h5-i7-h5-i8-h5-i9-h5" class="nav-link" data-scroll-target="#b-h5-i1-h5-i2-h5-i3-h5-i4-h5-i5-h5-i6-h5-i7-h5-i8-h5-i9-h5">b-&gt;h5 i1-&gt;h5 i2-&gt;h5 i3-&gt;h5 i4-&gt;h5 i5-&gt;h5 i6-&gt;h5 i7-&gt;h5 i8-&gt;h5 i9-&gt;h5</a></li>
  <li><a href="#section-113" id="toc-section-113" class="nav-link" data-scroll-target="#section-113">-0.51 -1.65 -1.27 0.91 -1.55 1.61 0.79 2.00 0.63 -0.91</a></li>
  <li><a href="#i10-h5-i11-h5-i12-h5" id="toc-i10-h5-i11-h5-i12-h5" class="nav-link" data-scroll-target="#i10-h5-i11-h5-i12-h5">i10-&gt;h5 i11-&gt;h5 i12-&gt;h5</a></li>
  <li><a href="#section-114" id="toc-section-114" class="nav-link" data-scroll-target="#section-114">-1.46 0.40 -0.58</a></li>
  <li><a href="#b-h6-i1-h6-i2-h6-i3-h6-i4-h6-i5-h6-i6-h6-i7-h6-i8-h6-i9-h6" id="toc-b-h6-i1-h6-i2-h6-i3-h6-i4-h6-i5-h6-i6-h6-i7-h6-i8-h6-i9-h6" class="nav-link" data-scroll-target="#b-h6-i1-h6-i2-h6-i3-h6-i4-h6-i5-h6-i6-h6-i7-h6-i8-h6-i9-h6">b-&gt;h6 i1-&gt;h6 i2-&gt;h6 i3-&gt;h6 i4-&gt;h6 i5-&gt;h6 i6-&gt;h6 i7-&gt;h6 i8-&gt;h6 i9-&gt;h6</a></li>
  <li><a href="#section-115" id="toc-section-115" class="nav-link" data-scroll-target="#section-115">0.28 -0.55 4.71 -1.40 -0.90 -0.95 2.54 -0.73 4.05 0.77</a></li>
  <li><a href="#i10-h6-i11-h6-i12-h6" id="toc-i10-h6-i11-h6-i12-h6" class="nav-link" data-scroll-target="#i10-h6-i11-h6-i12-h6">i10-&gt;h6 i11-&gt;h6 i12-&gt;h6</a></li>
  <li><a href="#section-116" id="toc-section-116" class="nav-link" data-scroll-target="#section-116">-5.06 -3.66 -0.12</a></li>
  <li><a href="#b-h7-i1-h7-i2-h7-i3-h7-i4-h7-i5-h7-i6-h7-i7-h7-i8-h7-i9-h7" id="toc-b-h7-i1-h7-i2-h7-i3-h7-i4-h7-i5-h7-i6-h7-i7-h7-i8-h7-i9-h7" class="nav-link" data-scroll-target="#b-h7-i1-h7-i2-h7-i3-h7-i4-h7-i5-h7-i6-h7-i7-h7-i8-h7-i9-h7">b-&gt;h7 i1-&gt;h7 i2-&gt;h7 i3-&gt;h7 i4-&gt;h7 i5-&gt;h7 i6-&gt;h7 i7-&gt;h7 i8-&gt;h7 i9-&gt;h7</a></li>
  <li><a href="#section-117" id="toc-section-117" class="nav-link" data-scroll-target="#section-117">3.25 -3.75 4.04 -0.45 -4.41 -1.99 2.81 -5.32 7.86 -6.64</a></li>
  <li><a href="#i10-h7-i11-h7-i12-h7" id="toc-i10-h7-i11-h7-i12-h7" class="nav-link" data-scroll-target="#i10-h7-i11-h7-i12-h7">i10-&gt;h7 i11-&gt;h7 i12-&gt;h7</a></li>
  <li><a href="#section-118" id="toc-section-118" class="nav-link" data-scroll-target="#section-118">2.48 -4.27 -0.53</a></li>
  <li><a href="#b-o-h1-o-h2-o-h3-o-h4-o-h5-o-h6-o-h7-o" id="toc-b-o-h1-o-h2-o-h3-o-h4-o-h5-o-h6-o-h7-o" class="nav-link" data-scroll-target="#b-o-h1-o-h2-o-h3-o-h4-o-h5-o-h6-o-h7-o">b-&gt;o h1-&gt;o h2-&gt;o h3-&gt;o h4-&gt;o h5-&gt;o h6-&gt;o h7-&gt;o</a></li>
  <li><a href="#section-119" id="toc-section-119" class="nav-link" data-scroll-target="#section-119">4.37 -2.82 0.67 -3.29 -0.38 -2.34 -1.36 0.72</a></li>
  </ul></li>
  <li><a href="#predict-future-values-using-the-neural-network-model" id="toc-predict-future-values-using-the-neural-network-model" class="nav-link" data-scroll-target="#predict-future-values-using-the-neural-network-model">Predict future values using the neural network model</a></li>
  <li><a href="#calculate-accuracy-of-the-neural-network-predictions" id="toc-calculate-accuracy-of-the-neural-network-predictions" class="nav-link" data-scroll-target="#calculate-accuracy-of-the-neural-network-predictions">Calculate accuracy of the neural network predictions</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-5" id="toc-me-rmse-mae-mpe-mape-5" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-5">ME RMSE MAE MPE MAPE</a></li>
  <li><a href="#training-set-0.0001190531-0.02059234-0.0153757--0.01928677-1.026308" id="toc-training-set-0.0001190531-0.02059234-0.0153757--0.01928677-1.026308" class="nav-link" data-scroll-target="#training-set-0.0001190531-0.02059234-0.0153757--0.01928677-1.026308">Training set 0.0001190531 0.02059234 0.0153757 -0.01928677 1.026308</a></li>
  <li><a href="#test-set--0.1579077603-0.19391569-0.1580158--12.68557381-12.694344" id="toc-test-set--0.1579077603-0.19391569-0.1580158--12.68557381-12.694344" class="nav-link" data-scroll-target="#test-set--0.1579077603-0.19391569-0.1580158--12.68557381-12.694344">Test set -0.1579077603 0.19391569 0.1580158 -12.68557381 12.694344</a></li>
  <li><a href="#mase-acf1-theils-u" id="toc-mase-acf1-theils-u" class="nav-link" data-scroll-target="#mase-acf1-theils-u">MASE ACF1 Theil’s U</a></li>
  <li><a href="#training-set-0.1371076-0.01308142-na" id="toc-training-set-0.1371076-0.01308142-na" class="nav-link" data-scroll-target="#training-set-0.1371076-0.01308142-na">Training set 0.1371076 0.01308142 NA</a></li>
  <li><a href="#test-set-1.4090524-0.76056006-7.320825" id="toc-test-set-1.4090524-0.76056006-7.320825" class="nav-link" data-scroll-target="#test-set-1.4090524-0.76056006-7.320825">Test set 1.4090524 0.76056006 7.320825</a></li>
  </ul></li>
  <li><a href="#plot-the-training-time-series-with-predictions" id="toc-plot-the-training-time-series-with-predictions" class="nav-link" data-scroll-target="#plot-the-training-time-series-with-predictions">Plot the training time series with predictions</a></li>
  <li><a href="#forecast-the-next-12-time-points-using-the-neural-network-model" id="toc-forecast-the-next-12-time-points-using-the-neural-network-model" class="nav-link" data-scroll-target="#forecast-the-next-12-time-points-using-the-neural-network-model">Forecast the next 12 time points using the neural network model</a></li>
  <li><a href="#calculate-accuracy-of-the-neural-network-models-forecast" id="toc-calculate-accuracy-of-the-neural-network-models-forecast" class="nav-link" data-scroll-target="#calculate-accuracy-of-the-neural-network-models-forecast">Calculate accuracy of the neural network model’s forecast</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-acf1-theils-u-6" id="toc-me-rmse-mae-mpe-mape-acf1-theils-u-6" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-acf1-theils-u-6">ME RMSE MAE MPE MAPE ACF1 Theil’s U</a></li>
  <li><a href="#test-set--0.1579078-0.1939157-0.1580158--12.68557-12.69434-0.7605601-7.320825" id="toc-test-set--0.1579078-0.1939157-0.1580158--12.68557-12.69434-0.7605601-7.320825" class="nav-link" data-scroll-target="#test-set--0.1579078-0.1939157-0.1580158--12.68557-12.69434-0.7605601-7.320825">Test set -0.1579078 0.1939157 0.1580158 -12.68557 12.69434 0.7605601 7.320825</a></li>
  </ul></li>
  <li><a href="#reinitialize-the-random-seed" id="toc-reinitialize-the-random-seed" class="nav-link" data-scroll-target="#reinitialize-the-random-seed">Reinitialize the random seed</a></li>
  <li><a href="#rebuild-the-neural-network-model-using-the-entire-dataset" id="toc-rebuild-the-neural-network-model-using-the-entire-dataset" class="nav-link" data-scroll-target="#rebuild-the-neural-network-model-using-the-entire-dataset">Rebuild the neural network model using the entire dataset</a></li>
  <li><a href="#display-summary-of-the-neural-network-model-1" id="toc-display-summary-of-the-neural-network-model-1" class="nav-link" data-scroll-target="#display-summary-of-the-neural-network-model-1">Display summary of the neural network model</a>
  <ul class="collapse">
  <li><a href="#a-12-7-1-network-with-99-weights-1" id="toc-a-12-7-1-network-with-99-weights-1" class="nav-link" data-scroll-target="#a-12-7-1-network-with-99-weights-1">a 12-7-1 network with 99 weights</a></li>
  <li><a href="#options-were---linear-output-units-1" id="toc-options-were---linear-output-units-1" class="nav-link" data-scroll-target="#options-were---linear-output-units-1">options were - linear output units</a></li>
  <li><a href="#b-h1-i1-h1-i2-h1-i3-h1-i4-h1-i5-h1-i6-h1-i7-h1-i8-h1-i9-h1-1" id="toc-b-h1-i1-h1-i2-h1-i3-h1-i4-h1-i5-h1-i6-h1-i7-h1-i8-h1-i9-h1-1" class="nav-link" data-scroll-target="#b-h1-i1-h1-i2-h1-i3-h1-i4-h1-i5-h1-i6-h1-i7-h1-i8-h1-i9-h1-1">b-&gt;h1 i1-&gt;h1 i2-&gt;h1 i3-&gt;h1 i4-&gt;h1 i5-&gt;h1 i6-&gt;h1 i7-&gt;h1 i8-&gt;h1 i9-&gt;h1</a></li>
  <li><a href="#section-120" id="toc-section-120" class="nav-link" data-scroll-target="#section-120">-2.20 -0.55 -2.93 2.61 -0.83 2.81 0.94 0.96 -4.78 1.08</a></li>
  <li><a href="#i10-h1-i11-h1-i12-h1-1" id="toc-i10-h1-i11-h1-i12-h1-1" class="nav-link" data-scroll-target="#i10-h1-i11-h1-i12-h1-1">i10-&gt;h1 i11-&gt;h1 i12-&gt;h1</a></li>
  <li><a href="#section-121" id="toc-section-121" class="nav-link" data-scroll-target="#section-121">-0.49 0.81 0.74</a></li>
  <li><a href="#b-h2-i1-h2-i2-h2-i3-h2-i4-h2-i5-h2-i6-h2-i7-h2-i8-h2-i9-h2-1" id="toc-b-h2-i1-h2-i2-h2-i3-h2-i4-h2-i5-h2-i6-h2-i7-h2-i8-h2-i9-h2-1" class="nav-link" data-scroll-target="#b-h2-i1-h2-i2-h2-i3-h2-i4-h2-i5-h2-i6-h2-i7-h2-i8-h2-i9-h2-1">b-&gt;h2 i1-&gt;h2 i2-&gt;h2 i3-&gt;h2 i4-&gt;h2 i5-&gt;h2 i6-&gt;h2 i7-&gt;h2 i8-&gt;h2 i9-&gt;h2</a></li>
  <li><a href="#section-122" id="toc-section-122" class="nav-link" data-scroll-target="#section-122">0.34 -1.04 2.02 -1.51 -2.22 -3.26 -1.41 1.46 2.97 -1.69</a></li>
  <li><a href="#i10-h2-i11-h2-i12-h2-1" id="toc-i10-h2-i11-h2-i12-h2-1" class="nav-link" data-scroll-target="#i10-h2-i11-h2-i12-h2-1">i10-&gt;h2 i11-&gt;h2 i12-&gt;h2</a></li>
  <li><a href="#section-123" id="toc-section-123" class="nav-link" data-scroll-target="#section-123">-4.14 -3.26 2.62</a></li>
  <li><a href="#b-h3-i1-h3-i2-h3-i3-h3-i4-h3-i5-h3-i6-h3-i7-h3-i8-h3-i9-h3-1" id="toc-b-h3-i1-h3-i2-h3-i3-h3-i4-h3-i5-h3-i6-h3-i7-h3-i8-h3-i9-h3-1" class="nav-link" data-scroll-target="#b-h3-i1-h3-i2-h3-i3-h3-i4-h3-i5-h3-i6-h3-i7-h3-i8-h3-i9-h3-1">b-&gt;h3 i1-&gt;h3 i2-&gt;h3 i3-&gt;h3 i4-&gt;h3 i5-&gt;h3 i6-&gt;h3 i7-&gt;h3 i8-&gt;h3 i9-&gt;h3</a></li>
  <li><a href="#section-124" id="toc-section-124" class="nav-link" data-scroll-target="#section-124">0.23 -0.93 1.62 -2.05 2.24 -2.08 -0.01 -0.17 -0.58 0.70</a></li>
  <li><a href="#i10-h3-i11-h3-i12-h3-1" id="toc-i10-h3-i11-h3-i12-h3-1" class="nav-link" data-scroll-target="#i10-h3-i11-h3-i12-h3-1">i10-&gt;h3 i11-&gt;h3 i12-&gt;h3</a></li>
  <li><a href="#section-125" id="toc-section-125" class="nav-link" data-scroll-target="#section-125">2.29 -1.60 -0.03</a></li>
  <li><a href="#b-h4-i1-h4-i2-h4-i3-h4-i4-h4-i5-h4-i6-h4-i7-h4-i8-h4-i9-h4-1" id="toc-b-h4-i1-h4-i2-h4-i3-h4-i4-h4-i5-h4-i6-h4-i7-h4-i8-h4-i9-h4-1" class="nav-link" data-scroll-target="#b-h4-i1-h4-i2-h4-i3-h4-i4-h4-i5-h4-i6-h4-i7-h4-i8-h4-i9-h4-1">b-&gt;h4 i1-&gt;h4 i2-&gt;h4 i3-&gt;h4 i4-&gt;h4 i5-&gt;h4 i6-&gt;h4 i7-&gt;h4 i8-&gt;h4 i9-&gt;h4</a></li>
  <li><a href="#section-126" id="toc-section-126" class="nav-link" data-scroll-target="#section-126">-1.46 -1.41 0.88 -1.37 3.24 0.77 2.16 -0.62 -1.63 -0.22</a></li>
  <li><a href="#i10-h4-i11-h4-i12-h4-1" id="toc-i10-h4-i11-h4-i12-h4-1" class="nav-link" data-scroll-target="#i10-h4-i11-h4-i12-h4-1">i10-&gt;h4 i11-&gt;h4 i12-&gt;h4</a></li>
  <li><a href="#section-127" id="toc-section-127" class="nav-link" data-scroll-target="#section-127">3.79 -3.03 6.84</a></li>
  <li><a href="#b-h5-i1-h5-i2-h5-i3-h5-i4-h5-i5-h5-i6-h5-i7-h5-i8-h5-i9-h5-1" id="toc-b-h5-i1-h5-i2-h5-i3-h5-i4-h5-i5-h5-i6-h5-i7-h5-i8-h5-i9-h5-1" class="nav-link" data-scroll-target="#b-h5-i1-h5-i2-h5-i3-h5-i4-h5-i5-h5-i6-h5-i7-h5-i8-h5-i9-h5-1">b-&gt;h5 i1-&gt;h5 i2-&gt;h5 i3-&gt;h5 i4-&gt;h5 i5-&gt;h5 i6-&gt;h5 i7-&gt;h5 i8-&gt;h5 i9-&gt;h5</a></li>
  <li><a href="#section-128" id="toc-section-128" class="nav-link" data-scroll-target="#section-128">-0.04 -0.39 -1.46 2.05 -2.50 1.99 -0.12 0.03 1.47 -1.07</a></li>
  <li><a href="#i10-h5-i11-h5-i12-h5-1" id="toc-i10-h5-i11-h5-i12-h5-1" class="nav-link" data-scroll-target="#i10-h5-i11-h5-i12-h5-1">i10-&gt;h5 i11-&gt;h5 i12-&gt;h5</a></li>
  <li><a href="#section-129" id="toc-section-129" class="nav-link" data-scroll-target="#section-129">-2.61 1.94 -0.02</a></li>
  <li><a href="#b-h6-i1-h6-i2-h6-i3-h6-i4-h6-i5-h6-i6-h6-i7-h6-i8-h6-i9-h6-1" id="toc-b-h6-i1-h6-i2-h6-i3-h6-i4-h6-i5-h6-i6-h6-i7-h6-i8-h6-i9-h6-1" class="nav-link" data-scroll-target="#b-h6-i1-h6-i2-h6-i3-h6-i4-h6-i5-h6-i6-h6-i7-h6-i8-h6-i9-h6-1">b-&gt;h6 i1-&gt;h6 i2-&gt;h6 i3-&gt;h6 i4-&gt;h6 i5-&gt;h6 i6-&gt;h6 i7-&gt;h6 i8-&gt;h6 i9-&gt;h6</a></li>
  <li><a href="#section-130" id="toc-section-130" class="nav-link" data-scroll-target="#section-130">2.15 0.48 1.11 -1.17 -2.56 1.90 -5.83 3.64 2.07 -4.07</a></li>
  <li><a href="#i10-h6-i11-h6-i12-h6-1" id="toc-i10-h6-i11-h6-i12-h6-1" class="nav-link" data-scroll-target="#i10-h6-i11-h6-i12-h6-1">i10-&gt;h6 i11-&gt;h6 i12-&gt;h6</a></li>
  <li><a href="#section-131" id="toc-section-131" class="nav-link" data-scroll-target="#section-131">0.23 2.87 -3.71</a></li>
  <li><a href="#b-h7-i1-h7-i2-h7-i3-h7-i4-h7-i5-h7-i6-h7-i7-h7-i8-h7-i9-h7-1" id="toc-b-h7-i1-h7-i2-h7-i3-h7-i4-h7-i5-h7-i6-h7-i7-h7-i8-h7-i9-h7-1" class="nav-link" data-scroll-target="#b-h7-i1-h7-i2-h7-i3-h7-i4-h7-i5-h7-i6-h7-i7-h7-i8-h7-i9-h7-1">b-&gt;h7 i1-&gt;h7 i2-&gt;h7 i3-&gt;h7 i4-&gt;h7 i5-&gt;h7 i6-&gt;h7 i7-&gt;h7 i8-&gt;h7 i9-&gt;h7</a></li>
  <li><a href="#section-132" id="toc-section-132" class="nav-link" data-scroll-target="#section-132">1.44 -2.31 2.05 -0.34 -4.69 -0.22 -5.12 2.20 5.54 -6.61</a></li>
  <li><a href="#i10-h7-i11-h7-i12-h7-1" id="toc-i10-h7-i11-h7-i12-h7-1" class="nav-link" data-scroll-target="#i10-h7-i11-h7-i12-h7-1">i10-&gt;h7 i11-&gt;h7 i12-&gt;h7</a></li>
  <li><a href="#section-133" id="toc-section-133" class="nav-link" data-scroll-target="#section-133">-1.72 -3.78 5.35</a></li>
  <li><a href="#b-o-h1-o-h2-o-h3-o-h4-o-h5-o-h6-o-h7-o-1" id="toc-b-o-h1-o-h2-o-h3-o-h4-o-h5-o-h6-o-h7-o-1" class="nav-link" data-scroll-target="#b-o-h1-o-h2-o-h3-o-h4-o-h5-o-h6-o-h7-o-1">b-&gt;o h1-&gt;o h2-&gt;o h3-&gt;o h4-&gt;o h5-&gt;o h6-&gt;o h7-&gt;o</a></li>
  <li><a href="#section-134" id="toc-section-134" class="nav-link" data-scroll-target="#section-134">4.21 -1.12 -1.14 -3.19 -0.64 -2.77 -1.06 1.07</a></li>
  </ul></li>
  <li><a href="#forecast-the-next-60-time-points-using-the-neural-network-model" id="toc-forecast-the-next-60-time-points-using-the-neural-network-model" class="nav-link" data-scroll-target="#forecast-the-next-60-time-points-using-the-neural-network-model">Forecast the next 60 time points using the neural network model</a></li>
  <li><a href="#plot-the-entire-time-series-with-the-neural-network-models-predictions" id="toc-plot-the-entire-time-series-with-the-neural-network-models-predictions" class="nav-link" data-scroll-target="#plot-the-entire-time-series-with-the-neural-network-models-predictions">Plot the entire time series with the neural network model’s predictions</a></li>
  <li><a href="#forecast-the-next-60-time-points-using-the-neural-network-model-and-calculate-accuracy" id="toc-forecast-the-next-60-time-points-using-the-neural-network-model-and-calculate-accuracy" class="nav-link" data-scroll-target="#forecast-the-next-60-time-points-using-the-neural-network-model-and-calculate-accuracy">Forecast the next 60 time points using the neural network model and calculate accuracy</a>
  <ul class="collapse">
  <li><a href="#me-rmse-mae-mpe-mape-acf1" id="toc-me-rmse-mae-mpe-mape-acf1" class="nav-link" data-scroll-target="#me-rmse-mae-mpe-mape-acf1">ME RMSE MAE MPE MAPE ACF1</a></li>
  <li><a href="#test-set--7.349151e-06-0.0210837-0.01593545--0.02976382-1.082309--0.006698643" id="toc-test-set--7.349151e-06-0.0210837-0.01593545--0.02976382-1.082309--0.006698643" class="nav-link" data-scroll-target="#test-set--7.349151e-06-0.0210837-0.01593545--0.02976382-1.082309--0.006698643">Test set -7.349151e-06 0.0210837 0.01593545 -0.02976382 1.082309 -0.006698643</a></li>
  <li><a href="#theils-u-1" id="toc-theils-u-1" class="nav-link" data-scroll-target="#theils-u-1">Theil’s U</a></li>
  <li><a href="#test-set-0.560275" id="toc-test-set-0.560275" class="nav-link" data-scroll-target="#test-set-0.560275">Test set 0.560275</a></li>
  </ul></li>
  <li><a href="#set-as-a-time-series-and-plot-the-data-1" id="toc-set-as-a-time-series-and-plot-the-data-1" class="nav-link" data-scroll-target="#set-as-a-time-series-and-plot-the-data-1">set as a time series and plot the data</a></li>
  <li><a href="#summary-of-output-from-fitting-additive-seasonality" id="toc-summary-of-output-from-fitting-additive-seasonality" class="nav-link" data-scroll-target="#summary-of-output-from-fitting-additive-seasonality">summary of output from fitting additive seasonality</a></li>
  <li><a href="#note-cuadratic-trend-and-seasonality-removed-as-no-significant" id="toc-note-cuadratic-trend-and-seasonality-removed-as-no-significant" class="nav-link" data-scroll-target="#note-cuadratic-trend-and-seasonality-removed-as-no-significant">note: cuadratic trend and seasonality removed as no significant</a></li>
  <li><a href="#is-there-autocorrelation" id="toc-is-there-autocorrelation" class="nav-link" data-scroll-target="#is-there-autocorrelation">is there autocorrelation?</a></li>
  <li><a href="#just-fortified-wine-dat---dat12" id="toc-just-fortified-wine-dat---dat12" class="nav-link" data-scroll-target="#just-fortified-wine-dat---dat12">Just fortified wine dat &lt;- dat[,1:2]</a></li>
  <li><a href="#create-ts-object" id="toc-create-ts-object" class="nav-link" data-scroll-target="#create-ts-object">Create ts object</a></li>
  <li><a href="#slice-the-sets" id="toc-slice-the-sets" class="nav-link" data-scroll-target="#slice-the-sets">Slice the sets</a></li>
  <li><a href="#train-the-neural-net" id="toc-train-the-neural-net" class="nav-link" data-scroll-target="#train-the-neural-net">Train the neural net</a></li>
  <li><a href="#plot-results" id="toc-plot-results" class="nav-link" data-scroll-target="#plot-results">plot results</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../labs/part001.html">Labs</a></li><li class="breadcrumb-item"><a href="../labs/part003.html">Lab Part</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Lab Part</h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<p>School of Accounting, Finance and Economics</p>
<p>BECS2002 / Econometrics and Data Analytics</p>
<p>Lab Handbook</p>
<p>Week 11</p>
<p>Module coordinator: Dr Camilo Calderon</p>
<p>Email: cam.calderon@dmu.ac.uk</p>
<p>This version: 07/01/2024</p>
<p>This handbook has been produced to provide students with specific information and guidance about their labs. The contents of this handbook are indicative, this means they can be updated or modified upon the review of the module leader (Cam).</p>
<p>An electronic version of this handbook (which is continuously updated) is available on the VLE system, Blackboard, which you should consult regularly as the main reference point throughout your studies.</p>
<p>Indicative Contents</p>
<p>Lecture 1 – Regression Models I: trend and seasonality, 4</p>
<p>Lecture 2 – Regression models II: trend and seasonality, CH6 9</p>
<p>Video 1: Lab 14 – Inflation and Models with Trend and Seasonality 13</p>
<p>Video 2: Lab 17 Confusion Matrix, Melbourne rainfall forecast, what are odds of an event happening? 21</p>
<p>Lab 12: Linear Regression and autocorrelation 23</p>
<p>Lab 13: Linear regression and evaluating predictability 30</p>
<p>Lab 14: Regression and external information 41</p>
<p>Lab 15: Binary forecast and logistic regression 45</p>
<p>Lab 16: Neural Networks I 50</p>
<p>Lab 17: neural Networks II 58</p>
<p>PRACTICE LABS 59</p>
<p>Lab 13 – models with trend and seasonality 59</p>
<p>Lab 15- Foreign Exchange Rate Market 61</p>
<p>Lab 16 – Money Market and Bond Yield Polls <mbyp>; Why inverted yield curves are important? 66</mbyp></p>
<p>Lab 18 – Neural Networks 70</p>
<p>Supplementary Lab 1 74</p>
<p>Supplementary Lab – Social, Macro Overview and Signal 76</p>
<p>Supplementary Lab – Alternative investing and CBA 80</p>
<p>Supplementary Lab - Willingness to pay 86</p>
<p>Supplementary Lab – R Shiny 89</p>
<p>Lecture 1 – Regression Models I: trend and seasonality,</p>
<p>Example used in this lab</p>
<p>Cam Calderon</p>
<p>2023-12-09</p>
<p>R Markdown</p>
<section id="regression-models---trend-and-seasonality---09-12-2023" class="level1">
<h1>REGRESSION MODELS - TREND AND SEASONALITY - 09-12-2023</h1>
</section>
<section id="required-libraries" class="level1">
<h1>Required libraries</h1>
<p>library(readxl) # Uncomment the line below to install the ‘forecast’ package if it’s not already installed # install.packages(“forecast”) library(forecast)</p>
<section id="registered-s3-method-overwritten-by-quantmod" class="level2">
<h2 class="anchored" data-anchor-id="registered-s3-method-overwritten-by-quantmod">Registered S3 method overwritten by ‘quantmod’:</h2>
</section>
<section id="method-from" class="level2">
<h2 class="anchored" data-anchor-id="method-from">method from</h2>
</section>
<section id="as.zoo.data.frame-zoo" class="level2">
<h2 class="anchored" data-anchor-id="as.zoo.data.frame-zoo">as.zoo.data.frame zoo</h2>
</section>
</section>
<section id="loading-fdi-data-from-the-office-for-national-statistics-ons" class="level1">
<h1>Loading FDI data from the Office for National Statistics (ONS)</h1>
<p>ONS_fdi &lt;- read_excel(“C:/Users/Cam/OneDrive - De Montfort University/a- BECS2002 2023-24 - PUBLIC/002 Datasets/fdi.xls”, skip = 7) View(ONS_fdi)</p>
</section>
<section id="converting-the-data-into-a-time-series-object" class="level1">
<h1>Converting the data into a time series object</h1>
<p>fdi.ts &lt;- ts(ONS_fdi$fdi, start = c(1987,1), end = c(2023, 2), freq = 4)</p>
</section>
<section id="plotting-the-time-series-data" class="level1">
<h1>Plotting the time series data</h1>
<p>plot(fdi.ts, xlab = “Year”, ylab = “FDI Inward”, main = “FDI Inward Flow”)</p>
</section>
<section id="partitioning-the-dataset-into-training-and-validation-sets" class="level1">
<h1>Partitioning the dataset into training and validation sets</h1>
<p>stepsAhead &lt;- 40 nTrain &lt;- length(fdi.ts) - stepsAhead train.ts &lt;- window(fdi.ts, start = c(1987, 1), end = c(1987,nTrain)) valid.ts &lt;- window(fdi.ts, start = c(1987, nTrain + 1), end = c(1987, nTrain + stepsAhead))</p>
</section>
<section id="fitting-a-linear-model-with-additive-seasonality" class="level1">
<h1>Fitting a linear model with additive seasonality</h1>
<p>train.lm.trend.season &lt;- tslm(train.ts ~ trend + I(trend^2) + season) summary(train.lm.trend.season)</p>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
</section>
<section id="call" class="level2">
<h2 class="anchored" data-anchor-id="call">Call:</h2>
</section>
<section id="tslmformula-train.ts-trend-itrend2-season" class="level2">
<h2 class="anchored" data-anchor-id="tslmformula-train.ts-trend-itrend2-season">tslm(formula = train.ts ~ trend + I(trend^2) + season)</h2>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1"></h2>
</section>
<section id="residuals" class="level2">
<h2 class="anchored" data-anchor-id="residuals">Residuals:</h2>
</section>
<section id="min-1q-median-3q-max" class="level2">
<h2 class="anchored" data-anchor-id="min-1q-median-3q-max">Min 1Q Median 3Q Max</h2>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2">-69865 -16822 6605 18803 42921</h2>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3"></h2>
</section>
<section id="coefficients" class="level2">
<h2 class="anchored" data-anchor-id="coefficients">Coefficients:</h2>
</section>
<section id="estimate-std.-error-t-value-prt" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-t-value-prt">Estimate Std. Error t value Pr(&gt;|t|)</h2>
</section>
<section id="intercept-86271.361-9776.832-8.824-3.72e-14" class="level2">
<h2 class="anchored" data-anchor-id="intercept-86271.361-9776.832-8.824-3.72e-14">(Intercept) 86271.361 9776.832 8.824 3.72e-14 ***</h2>
</section>
<section id="trend--2840.422-371.997--7.636-1.37e-11" class="level2">
<h2 class="anchored" data-anchor-id="trend--2840.422-371.997--7.636-1.37e-11">trend -2840.422 371.997 -7.636 1.37e-11 ***</h2>
</section>
<section id="itrend2-84.977-3.368-25.228-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="itrend2-84.977-3.368-25.228-2e-16">I(trend^2) 84.977 3.368 25.228 &lt; 2e-16 ***</h2>
</section>
<section id="season2-197.592-7896.358-0.025-0.980" class="level2">
<h2 class="anchored" data-anchor-id="season2-197.592-7896.358-0.025-0.980">season2 197.592 7896.358 0.025 0.980</h2>
</section>
<section id="season3-3015.444-7974.934-0.378-0.706" class="level2">
<h2 class="anchored" data-anchor-id="season3-3015.444-7974.934-0.378-0.706">season3 3015.444 7974.934 0.378 0.706</h2>
</section>
<section id="season4-2322.794-7975.466-0.291-0.771" class="level2">
<h2 class="anchored" data-anchor-id="season4-2322.794-7975.466-0.291-0.771">season4 2322.794 7975.466 0.291 0.771</h2>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4">—</h2>
</section>
<section id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1" class="level2">
<h2 class="anchored" data-anchor-id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</h2>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5"></h2>
</section>
<section id="residual-standard-error-29010-on-100-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="residual-standard-error-29010-on-100-degrees-of-freedom">Residual standard error: 29010 on 100 degrees of freedom</h2>
</section>
<section id="multiple-r-squared-0.9813-adjusted-r-squared-0.9804" class="level2">
<h2 class="anchored" data-anchor-id="multiple-r-squared-0.9813-adjusted-r-squared-0.9804">Multiple R-squared: 0.9813, Adjusted R-squared: 0.9804</h2>
</section>
<section id="f-statistic-1049-on-5-and-100-df-p-value-2.2e-16" class="level2">
<h2 class="anchored" data-anchor-id="f-statistic-1049-on-5-and-100-df-p-value-2.2e-16">F-statistic: 1049 on 5 and 100 DF, p-value: &lt; 2.2e-16</h2>
</section>
</section>
<section id="forecasting-using-the-linear-model" class="level1">
<h1>Forecasting using the linear model</h1>
<p>train.lm.t.s.pred &lt;- forecast(train.lm.trend.season, h = stepsAhead)</p>
</section>
<section id="plotting-the-forecast-results" class="level1">
<h1>Plotting the forecast results</h1>
<p>plot(train.ts, ylim = c(0, 2000000), ylab = “FDI Inward (millions of pounds)”, xlab = “Year”, bty = “l”, xaxt = “n”, xlim = c(1987,2024), main =“Total FDI, Equity Capital &amp; Reinvested Earnings”, lty = 1) axis(1, at = seq(1987, 2024, 2), labels = format(seq(1987, 2024, 2))) lines(valid.ts, lty=2, lwd=2) lines(train.lm.t.s.pred$mean, lty=2, lwd=2, col=“blue”)</p>
</section>
<section id="assessing-forecast-accuracy" class="level1">
<h1>Assessing forecast accuracy</h1>
<p>fcast &lt;- forecast(train.lm.trend.season, h=40) accuracy(fcast$mean, valid.ts)</p>
<section id="me-rmse-mae-mpe-mape-acf1-theils-u" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-acf1-theils-u">ME RMSE MAE MPE MAPE ACF1 Theil’s U</h2>
</section>
<section id="test-set-258355.9-356540.8-267170.7-14.88078-15.92279-0.9231679-4.896507" class="level2">
<h2 class="anchored" data-anchor-id="test-set-258355.9-356540.8-267170.7-14.88078-15.92279-0.9231679-4.896507">Test set 258355.9 356540.8 267170.7 14.88078 15.92279 0.9231679 4.896507</h2>
</section>
</section>
<section id="naive-forecast-for-the-training-period" class="level1">
<h1>Naive forecast for the training period</h1>
<p>snaive4cast &lt;- snaive(train.ts, h= 40) naive &lt;- forecast(snaive4cast, h=40) accuracy(snaive4cast, valid.ts)</p>
<section id="me-rmse-mae-mpe-mape-mase-acf1" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-mase-acf1">ME RMSE MAE MPE MAPE MASE ACF1</h2>
</section>
<section id="training-set-28033.81-44826.92-30468.36-10.31471-11.32815-1.00000-0.8273804" class="level2">
<h2 class="anchored" data-anchor-id="training-set-28033.81-44826.92-30468.36-10.31471-11.32815-1.00000-0.8273804">Training set 28033.81 44826.92 30468.36 10.31471 11.32815 1.00000 0.8273804</h2>
</section>
<section id="test-set-601469.28-755172.46-601525.57-37.40444-37.41183-19.74263-0.9297684" class="level2">
<h2 class="anchored" data-anchor-id="test-set-601469.28-755172.46-601525.57-37.40444-37.41183-19.74263-0.9297684">Test set 601469.28 755172.46 601525.57 37.40444 37.41183 19.74263 0.9297684</h2>
</section>
<section id="theils-u" class="level2">
<h2 class="anchored" data-anchor-id="theils-u">Theil’s U</h2>
</section>
<section id="training-set-na" class="level2">
<h2 class="anchored" data-anchor-id="training-set-na">Training set NA</h2>
</section>
<section id="test-set-10.77091" class="level2">
<h2 class="anchored" data-anchor-id="test-set-10.77091">Test set 10.77091</h2>
</section>
</section>
<section id="plotting-the-naive-forecast" class="level1">
<h1>Plotting the naive forecast</h1>
<p>lines(naive$mean, lty = 2, lwd = 2, col = “red”)</p>
</section>
<section id="using-ets-models-for-forecasting" class="level1">
<h1>Using ETS models for forecasting</h1>
<p>fdi.ets.aan &lt;- ets(train.ts, model=“AAN”) fdi.ets.ann &lt;- ets(train.ts, model=“ANN”, damped=FALSE) fdi.ets.zzz &lt;- ets(train.ts, model=“ZZZ”, damped=TRUE)</p>
<p>fdi.ets.aan.pred &lt;- forecast(fdi.ets.aan, h=40, level= c(0.2,0.4, 0.6, 0.8) ) fdi.ets.ann.pred &lt;- forecast(fdi.ets.ann, h=40, level= c(0.2,0.4, 0.6, 0.8) ) fdi.ets.zzz.pred &lt;- forecast(fdi.ets.zzz, h=40, level= c(0.2,0.4, 0.6, 0.8) )</p>
</section>
<section id="plotting-ets-model-forecasts" class="level1">
<h1>Plotting ETS model forecasts</h1>
<p>lines(fdi.ets.aan.pred<span class="math inline">\(mean, lty=2, col="grey", lwd=2)
lines(fdi.ets.ann.pred\)</span>mean, lty=2, col=“green”, lwd=2) lines(fdi.ets.zzz.pred$mean, lty=2, col=“orange”, lwd=2)</p>
</section>
<section id="evaluating-ets-model-accuracy" class="level1">
<h1>Evaluating ETS model accuracy</h1>
<p>accuracy(fdi.ets.aan.pred$mean,valid.ts)</p>
<section id="me-rmse-mae-mpe-mape-acf1-theils-u-1" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-acf1-theils-u-1">ME RMSE MAE MPE MAPE ACF1 Theil’s U</h2>
</section>
<section id="test-set-289297.9-413346.4-308538.1-16.11673-18.44179-0.9251353-5.634319" class="level2">
<h2 class="anchored" data-anchor-id="test-set-289297.9-413346.4-308538.1-16.11673-18.44179-0.9251353-5.634319">Test set 289297.9 413346.4 308538.1 16.11673 18.44179 0.9251353 5.634319</h2>
<p>accuracy(fdi.ets.ann.pred$mean,valid.ts)</p>
</section>
<section id="me-rmse-mae-mpe-mape-acf1-theils-u-2" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-acf1-theils-u-2">ME RMSE MAE MPE MAPE ACF1 Theil’s U</h2>
</section>
<section id="test-set-584104.6-742120.7-585794.8-35.93561-36.15939-0.927391-10.52316" class="level2">
<h2 class="anchored" data-anchor-id="test-set-584104.6-742120.7-585794.8-35.93561-36.15939-0.927391-10.52316">Test set 584104.6 742120.7 585794.8 35.93561 36.15939 0.927391 10.52316</h2>
<p>accuracy(fdi.ets.zzz.pred$mean,valid.ts)</p>
</section>
<section id="me-rmse-mae-mpe-mape-acf1-theils-u-3" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-acf1-theils-u-3">ME RMSE MAE MPE MAPE ACF1 Theil’s U</h2>
</section>
<section id="test-set-340110.2-483237.1-357825-19.0682-21.23053-0.9260083-6.566403" class="level2">
<h2 class="anchored" data-anchor-id="test-set-340110.2-483237.1-357825-19.0682-21.23053-0.9260083-6.566403">Test set 340110.2 483237.1 357825 19.0682 21.23053 0.9260083 6.566403</h2>
</section>
</section>
<section id="adding-a-legend" class="level1">
<h1>Adding a legend</h1>
<p>legend(“topleft”, # position of the legend legend = c(“Validation”, “Linear Model”, “Naive Forecast”, “ETS AAN”, “ETS ANN”, “ETS ZZZ”), # text in the legend col = c(“black”,“blue”, “red”, “grey”, “green”, “orange”), # colors of the lines lty = 2, # line types lwd = 2) # line widths</p>
<p>Lecture 2 – Regression models II: trend and seasonality, CH6</p>
<p>Example used in this lab</p>
<p>Cam Calderon</p>
<p>2023-12-09</p>
<p>R Markdown</p>
</section>
<section id="regression-models---trend-and-seasonality---09-12-2023-1" class="level1">
<h1>REGRESSION MODELS - TREND AND SEASONALITY - 09-12-2023</h1>
</section>
<section id="load-necessary-libraries" class="level1">
<h1>Load necessary libraries</h1>
<p>library(readxl) # Uncomment the next line to install the ‘forecast’ package if not already installed # install.packages(“forecast”) library(forecast)</p>
<section id="registered-s3-method-overwritten-by-quantmod-1" class="level2">
<h2 class="anchored" data-anchor-id="registered-s3-method-overwritten-by-quantmod-1">Registered S3 method overwritten by ‘quantmod’:</h2>
</section>
<section id="method-from-1" class="level2">
<h2 class="anchored" data-anchor-id="method-from-1">method from</h2>
</section>
<section id="as.zoo.data.frame-zoo-1" class="level2">
<h2 class="anchored" data-anchor-id="as.zoo.data.frame-zoo-1">as.zoo.data.frame zoo</h2>
</section>
</section>
<section id="load-retail-sales-index-data-from-ons" class="level1">
<h1>Load retail sales index data from ONS</h1>
<p>ONS_retail &lt;- read_excel(“C:/Users/Cam/OneDrive - De Montfort University/a- BECS2002 2023-24 - PUBLIC/002 Datasets/rsi 2023.xlsx”, skip = 10)</p>
<p>#View(ONS_retail)</p>
</section>
<section id="convert-retail-sales-data-into-a-time-series-object" class="level1">
<h1>Convert retail sales data into a time series object</h1>
<p>retail.ts &lt;- ts(ONS_retail$rsi, start = c(1996,1), end = c(2023, 10), freq = 12)</p>
</section>
<section id="initial-time-series-plot-for-retail-sales-index" class="level1">
<h1>Initial time series plot for retail sales index</h1>
<p>plot(retail.ts, xlab = “Year”, ylab = “Retail Sales Index - J5AH”, main = “Value of Retail Sales at Current Prices Non-SA”)</p>
</section>
<section id="split-the-dataset-into-training-and-validation-sets" class="level1">
<h1>Split the dataset into training and validation sets</h1>
<p>stepsAhead &lt;- 12 nTrain &lt;- length(retail.ts) - stepsAhead train.ts &lt;- window(retail.ts, start = c(1996, 1), end = c(1996,nTrain)) valid.ts &lt;- window(retail.ts, start = c(1996, nTrain + 1), end = c(1996, nTrain + stepsAhead))</p>
</section>
<section id="fit-a-time-series-linear-model-with-trend-and-seasonality" class="level1">
<h1>Fit a time series linear model with trend and seasonality</h1>
<p>train.lm.trend.season &lt;- tslm(train.ts ~ trend + I(trend^2) + season) summary(train.lm.trend.season)</p>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6"></h2>
</section>
<section id="call-1" class="level2">
<h2 class="anchored" data-anchor-id="call-1">Call:</h2>
</section>
<section id="tslmformula-train.ts-trend-itrend2-season-1" class="level2">
<h2 class="anchored" data-anchor-id="tslmformula-train.ts-trend-itrend2-season-1">tslm(formula = train.ts ~ trend + I(trend^2) + season)</h2>
</section>
<section id="section-7" class="level2">
<h2 class="anchored" data-anchor-id="section-7"></h2>
</section>
<section id="residuals-1" class="level2">
<h2 class="anchored" data-anchor-id="residuals-1">Residuals:</h2>
</section>
<section id="min-1q-median-3q-max-1" class="level2">
<h2 class="anchored" data-anchor-id="min-1q-median-3q-max-1">Min 1Q Median 3Q Max</h2>
</section>
<section id="section-8" class="level2">
<h2 class="anchored" data-anchor-id="section-8">-23.9822 -1.0645 0.0657 1.3221 10.6067</h2>
</section>
<section id="section-9" class="level2">
<h2 class="anchored" data-anchor-id="section-9"></h2>
</section>
<section id="coefficients-1" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-1">Coefficients:</h2>
</section>
<section id="estimate-std.-error-t-value-prt-1" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-t-value-prt-1">Estimate Std. Error t value Pr(&gt;|t|)</h2>
</section>
<section id="intercept-3.962e01-7.251e-01-54.649-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="intercept-3.962e01-7.251e-01-54.649-2e-16">(Intercept) 3.962e+01 7.251e-01 54.649 &lt; 2e-16 ***</h2>
</section>
<section id="trend-1.250e-01-7.034e-03-17.768-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="trend-1.250e-01-7.034e-03-17.768-2e-16">trend 1.250e-01 7.034e-03 17.768 &lt; 2e-16 ***</h2>
</section>
<section id="itrend2-2.078e-04-2.109e-05-9.853-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="itrend2-2.078e-04-2.109e-05-9.853-2e-16">I(trend^2) 2.078e-04 2.109e-05 9.853 &lt; 2e-16 ***</h2>
</section>
<section id="season2-1.139e00-7.956e-01-1.432-0.153" class="level2">
<h2 class="anchored" data-anchor-id="season2-1.139e00-7.956e-01-1.432-0.153">season2 1.139e+00 7.956e-01 1.432 0.153</h2>
</section>
<section id="season3-3.248e00-7.956e-01-4.083-5.67e-05" class="level2">
<h2 class="anchored" data-anchor-id="season3-3.248e00-7.956e-01-4.083-5.67e-05">season3 3.248e+00 7.956e-01 4.083 5.67e-05 ***</h2>
</section>
<section id="season4-4.450e00-7.956e-01-5.593-4.93e-08" class="level2">
<h2 class="anchored" data-anchor-id="season4-4.450e00-7.956e-01-5.593-4.93e-08">season4 4.450e+00 7.956e-01 5.593 4.93e-08 ***</h2>
</section>
<section id="season5-5.321e00-7.956e-01-6.688-1.06e-10" class="level2">
<h2 class="anchored" data-anchor-id="season5-5.321e00-7.956e-01-6.688-1.06e-10">season5 5.321e+00 7.956e-01 6.688 1.06e-10 ***</h2>
</section>
<section id="season6-5.866e00-7.956e-01-7.373-1.55e-12" class="level2">
<h2 class="anchored" data-anchor-id="season6-5.866e00-7.956e-01-7.373-1.55e-12">season6 5.866e+00 7.956e-01 7.373 1.55e-12 ***</h2>
</section>
<section id="season7-6.718e00-7.956e-01-8.444-1.23e-15" class="level2">
<h2 class="anchored" data-anchor-id="season7-6.718e00-7.956e-01-8.444-1.23e-15">season7 6.718e+00 7.956e-01 8.444 1.23e-15 ***</h2>
</section>
<section id="season8-4.521e00-7.957e-01-5.682-3.08e-08" class="level2">
<h2 class="anchored" data-anchor-id="season8-4.521e00-7.957e-01-5.682-3.08e-08">season8 4.521e+00 7.957e-01 5.682 3.08e-08 ***</h2>
</section>
<section id="season9-4.476e00-7.957e-01-5.625-4.16e-08" class="level2">
<h2 class="anchored" data-anchor-id="season9-4.476e00-7.957e-01-5.625-4.16e-08">season9 4.476e+00 7.957e-01 5.625 4.16e-08 ***</h2>
</section>
<section id="season10-7.593e00-7.957e-01-9.543-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="season10-7.593e00-7.957e-01-9.543-2e-16">season10 7.593e+00 7.957e-01 9.543 &lt; 2e-16 ***</h2>
</section>
<section id="season11-1.431e01-8.033e-01-17.808-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="season11-1.431e01-8.033e-01-17.808-2e-16">season11 1.431e+01 8.033e-01 17.808 &lt; 2e-16 ***</h2>
</section>
<section id="season12-2.508e01-8.033e-01-31.223-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="season12-2.508e01-8.033e-01-31.223-2e-16">season12 2.508e+01 8.033e-01 31.223 &lt; 2e-16 ***</h2>
</section>
<section id="section-10" class="level2">
<h2 class="anchored" data-anchor-id="section-10">—</h2>
</section>
<section id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-1" class="level2">
<h2 class="anchored" data-anchor-id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-1">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</h2>
</section>
<section id="section-11" class="level2">
<h2 class="anchored" data-anchor-id="section-11"></h2>
</section>
<section id="residual-standard-error-2.923-on-308-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="residual-standard-error-2.923-on-308-degrees-of-freedom">Residual standard error: 2.923 on 308 degrees of freedom</h2>
</section>
<section id="multiple-r-squared-0.978-adjusted-r-squared-0.9771" class="level2">
<h2 class="anchored" data-anchor-id="multiple-r-squared-0.978-adjusted-r-squared-0.9771">Multiple R-squared: 0.978, Adjusted R-squared: 0.9771</h2>
</section>
<section id="f-statistic-1054-on-13-and-308-df-p-value-2.2e-16" class="level2">
<h2 class="anchored" data-anchor-id="f-statistic-1054-on-13-and-308-df-p-value-2.2e-16">F-statistic: 1054 on 13 and 308 DF, p-value: &lt; 2.2e-16</h2>
</section>
</section>
<section id="forecast-future-values-using-the-fitted-model" class="level1">
<h1>Forecast future values using the fitted model</h1>
<p>train.lm.t.s.pred &lt;- forecast(train.lm.trend.season, h = stepsAhead)</p>
</section>
<section id="plot-the-forecast-and-compare-with-actual-values" class="level1">
<h1>Plot the forecast and compare with actual values</h1>
<p>plot(train.lm.t.s.pred, ylim = c(40, 130), ylab = “Retail Sales Index - J5AH”, xlab = “Year”, bty = “l”, xaxt = “n”, xlim = c(1996,2024), main =“Forecast vs Actual: Retail Sales Index”, lty = 2)</p>
</section>
<section id="customizing-the-x-axis-with-labels-at-two-year-intervals" class="level1">
<h1>Customizing the x-axis with labels at two-year intervals</h1>
<p>axis(1, at = seq(1996, 2024, 2), labels = format(seq(1996, 2024, 2)))</p>
</section>
<section id="adding-the-fitted-values-from-the-model-to-the-plot" class="level1">
<h1>Adding the fitted values from the model to the plot</h1>
<p>lines(train.lm.t.s.pred$fitted, lwd = 1, col = “blue”)</p>
</section>
<section id="adding-the-validation-set-to-the-plot-for-comparison" class="level1">
<h1>Adding the validation set to the plot for comparison</h1>
<p>lines(valid.ts)</p>
</section>
<section id="evaluate-the-forecasts-accuracy-against-the-validation-set" class="level1">
<h1>Evaluate the forecast’s accuracy against the validation set</h1>
<p>accuracy(train.lm.t.s.pred$mean, as.numeric(valid.ts))</p>
<section id="me-rmse-mae-mpe-mape" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape">ME RMSE MAE MPE MAPE</h2>
</section>
<section id="test-set-5.237359-5.945129-5.237359" class="level2">
<h2 class="anchored" data-anchor-id="test-set-5.237359-5.945129-5.237359">Test set 5.237359 5.945129 5.237359</h2>
<p>Video 1: Lab 14 – Inflation and Models with Trend and Seasonality</p>
<p>Cam Calderon</p>
<p>2023-12-11</p>
<p>Activity 1</p>
<p>Why Printing Trillions of Dollars May Not Cause Inflation? Task 1. Review the following video and answer the Question:</p>
<p>Activity 2</p>
<p>Forecast inflation. Would inflation increase beyond the target? ; if so, for how long time?</p>
<p>Task 1. Download a dataset for inflation and run the code line by line, you can always ask your tutor if you do not understand something.</p>
<p>#install.packages(“devtools”) library(devtools)</p>
</section>
<section id="loading-required-package-usethis" class="level2">
<h2 class="anchored" data-anchor-id="loading-required-package-usethis">Loading required package: usethis</h2>
<p>#install_github(“ahmedmohamedali/eikonapir”, force=TRUE) library(eikonapir) #opens the package to connect to Refinitiv eikonapir::set_proxy_port(9000L) #opens a port to Refinitiv eikonapir::set_app_id(‘use APPKEY in Refinitiv and paste the API key here’) # Remember to keep your Refinitiv APP running before using your API key.</p>
</section>
</section>
<section id="gbhicmeci-is-the-name-of-the-inflation-time-series." class="level1">
<h1>GBHICM=ECI is the name of the inflation time series.</h1>
<p>inflation &lt;- get_timeseries(“GBHICM=ECI”, start_date = “2009-01-01T01:00:00”, end_date= paste0(Sys.Date(), “T01:00:00”), raw_output = FALSE, interval = “monthly”)</p>
</section>
<section id="str-function-shows-the-characteristics-and-format-of-inflation" class="level1">
<h1>str function shows the characteristics and format of ‘inflation’</h1>
<p>str(inflation)</p>
<section id="data.frame-178-obs.-of-3-variables" class="level2">
<h2 class="anchored" data-anchor-id="data.frame-178-obs.-of-3-variables">‘data.frame’: 178 obs. of 3 variables:</h2>
</section>
<section id="timestamp-chr-2009-01-31t000000z-2009-02-28t000000z-2009-03-31t000000z-2009-04-30t000000z" class="level2">
<h2 class="anchored" data-anchor-id="timestamp-chr-2009-01-31t000000z-2009-02-28t000000z-2009-03-31t000000z-2009-04-30t000000z">$ TIMESTAMP: chr “2009-01-31T00:00:00Z” “2009-02-28T00:00:00Z” “2009-03-31T00:00:00Z” “2009-04-30T00:00:00Z” …</h2>
</section>
<section id="value-chr--0.7-0.9-0.2-0.2" class="level2">
<h2 class="anchored" data-anchor-id="value-chr--0.7-0.9-0.2-0.2">$ VALUE : chr “-0.7” “0.9” “0.2” “0.2” …</h2>
</section>
<section id="na-chr-gbhicmeci-gbhicmeci-gbhicmeci-gbhicmeci" class="level2">
<h2 class="anchored" data-anchor-id="na-chr-gbhicmeci-gbhicmeci-gbhicmeci-gbhicmeci">$ NA : chr “GBHICM=ECI” “GBHICM=ECI” “GBHICM=ECI” “GBHICM=ECI” …</h2>
<p>inflation.n &lt;- as.numeric(inflation$‘VALUE’) # convert the data to numeric inflation.df &lt;-as.data.frame(inflation.n) # makes a data frame View(inflation)</p>
<p>Task 2. Open the appropriate libraries to forecast and declare the data a time series.</p>
<p>#install.packages(“forecast”) library(forecast)</p>
</section>
<section id="registered-s3-method-overwritten-by-quantmod-2" class="level2">
<h2 class="anchored" data-anchor-id="registered-s3-method-overwritten-by-quantmod-2">Registered S3 method overwritten by ‘quantmod’:</h2>
</section>
<section id="method-from-2" class="level2">
<h2 class="anchored" data-anchor-id="method-from-2">method from</h2>
</section>
<section id="as.zoo.data.frame-zoo-2" class="level2">
<h2 class="anchored" data-anchor-id="as.zoo.data.frame-zoo-2">as.zoo.data.frame zoo</h2>
<p>#install.packages(“zoo”) library(zoo)</p>
</section>
<section id="section-12" class="level2">
<h2 class="anchored" data-anchor-id="section-12"></h2>
</section>
<section id="attaching-package-zoo" class="level2">
<h2 class="anchored" data-anchor-id="attaching-package-zoo">Attaching package: ‘zoo’</h2>
</section>
<section id="the-following-objects-are-masked-from-packagebase" class="level2">
<h2 class="anchored" data-anchor-id="the-following-objects-are-masked-from-packagebase">The following objects are masked from ‘package:base’:</h2>
</section>
<section id="section-13" class="level2">
<h2 class="anchored" data-anchor-id="section-13"></h2>
</section>
<section id="as.date-as.date.numeric" class="level2">
<h2 class="anchored" data-anchor-id="as.date-as.date.numeric">as.Date, as.Date.numeric</h2>
</section>
</section>
<section id="set-as-a-time-series-and-plot-the-data" class="level1">
<h1>set as a time series and plot the data</h1>
<p>inflation.ts &lt;- ts(inflation.df, start = c(2009,1), end = c(2023, 10), freq = 12) plot(inflation.ts)</p>
<p>Task 3. Create the appropriate training and validation partitions to forecast out-of-sample (OOS)</p>
</section>
<section id="this-section-contains-the-partition-of-the-dataset-into-training-and-validation-period." class="level1">
<h1>This section contains the partition of the dataset into training and validation period.</h1>
<p>stepsAhead &lt;- 12 nTrain &lt;- length(inflation.ts) - stepsAhead train.ts &lt;- window(inflation.ts, start = c(2009, 1), end = c(2009,nTrain)) valid.ts &lt;- window(inflation.ts, start = c(2009, nTrain + 1), end = c(2009, nTrain + stepsAhead))</p>
<p>Task 4. Fit a model with trend quadratic trend and seasonality; afterwards, predict 12 months using the fitted model, and plot your results</p>
<p>train.lm.trend.season &lt;- tslm(train.ts ~ trend + I(trend^2) + season) summary (train.lm.trend.season)</p>
<section id="section-14" class="level2">
<h2 class="anchored" data-anchor-id="section-14"></h2>
</section>
<section id="call-2" class="level2">
<h2 class="anchored" data-anchor-id="call-2">Call:</h2>
</section>
<section id="tslmformula-train.ts-trend-itrend2-season-2" class="level2">
<h2 class="anchored" data-anchor-id="tslmformula-train.ts-trend-itrend2-season-2">tslm(formula = train.ts ~ trend + I(trend^2) + season)</h2>
</section>
<section id="section-15" class="level2">
<h2 class="anchored" data-anchor-id="section-15"></h2>
</section>
<section id="residuals-2" class="level2">
<h2 class="anchored" data-anchor-id="residuals-2">Residuals:</h2>
</section>
<section id="min-1q-median-3q-max-2" class="level2">
<h2 class="anchored" data-anchor-id="min-1q-median-3q-max-2">Min 1Q Median 3Q Max</h2>
</section>
<section id="section-16" class="level2">
<h2 class="anchored" data-anchor-id="section-16">-0.9395 -0.1636 0.0185 0.1481 1.6026</h2>
</section>
<section id="section-17" class="level2">
<h2 class="anchored" data-anchor-id="section-17"></h2>
</section>
<section id="coefficients-2" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-2">Coefficients:</h2>
</section>
<section id="estimate-std.-error-t-value-prt-2" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-t-value-prt-2">Estimate Std. Error t value Pr(&gt;|t|)</h2>
</section>
<section id="intercept--2.215e-01-1.032e-01--2.147-0.0334" class="level2">
<h2 class="anchored" data-anchor-id="intercept--2.215e-01-1.032e-01--2.147-0.0334">(Intercept) -2.215e-01 1.032e-01 -2.147 0.0334 *</h2>
</section>
<section id="trend--1.098e-02-1.958e-03--5.608-9.41e-08" class="level2">
<h2 class="anchored" data-anchor-id="trend--1.098e-02-1.958e-03--5.608-9.41e-08">trend -1.098e-02 1.958e-03 -5.608 9.41e-08 ***</h2>
</section>
<section id="itrend2-7.281e-05-1.136e-05-6.411-1.73e-09" class="level2">
<h2 class="anchored" data-anchor-id="itrend2-7.281e-05-1.136e-05-6.411-1.73e-09">I(trend^2) 7.281e-05 1.136e-05 6.411 1.73e-09 ***</h2>
</section>
<section id="season2-9.780e-01-1.134e-01-8.625-7.90e-15" class="level2">
<h2 class="anchored" data-anchor-id="season2-9.780e-01-1.134e-01-8.625-7.90e-15">season2 9.780e-01 1.134e-01 8.625 7.90e-15 ***</h2>
</section>
<section id="season3-7.915e-01-1.134e-01-6.980-8.55e-11" class="level2">
<h2 class="anchored" data-anchor-id="season3-7.915e-01-1.134e-01-6.980-8.55e-11">season3 7.915e-01 1.134e-01 6.980 8.55e-11 ***</h2>
</section>
<section id="season4-1.012e00-1.134e-01-8.925-1.35e-15" class="level2">
<h2 class="anchored" data-anchor-id="season4-1.012e00-1.134e-01-8.925-1.35e-15">season4 1.012e+00 1.134e-01 8.925 1.35e-15 ***</h2>
</section>
<section id="season5-7.253e-01-1.134e-01-6.396-1.87e-09" class="level2">
<h2 class="anchored" data-anchor-id="season5-7.253e-01-1.134e-01-6.396-1.87e-09">season5 7.253e-01 1.134e-01 6.396 1.87e-09 ***</h2>
</section>
<section id="season6-5.670e-01-1.134e-01-4.999-1.57e-06" class="level2">
<h2 class="anchored" data-anchor-id="season6-5.670e-01-1.134e-01-4.999-1.57e-06">season6 5.670e-01 1.134e-01 4.999 1.57e-06 ***</h2>
</section>
<section id="season7-4.728e-01-1.134e-01-4.168-5.13e-05" class="level2">
<h2 class="anchored" data-anchor-id="season7-4.728e-01-1.134e-01-4.168-5.13e-05">season7 4.728e-01 1.134e-01 4.168 5.13e-05 ***</h2>
</section>
<section id="season8-8.713e-01-1.134e-01-7.681-1.80e-12" class="level2">
<h2 class="anchored" data-anchor-id="season8-8.713e-01-1.134e-01-7.681-1.80e-12">season8 8.713e-01 1.134e-01 7.681 1.80e-12 ***</h2>
</section>
<section id="season9-6.840e-01-1.135e-01-6.029-1.20e-08" class="level2">
<h2 class="anchored" data-anchor-id="season9-6.840e-01-1.135e-01-6.029-1.20e-08">season9 6.840e-01 1.135e-01 6.029 1.20e-08 ***</h2>
</section>
<section id="season10-7.823e-01-1.135e-01-6.894-1.36e-10" class="level2">
<h2 class="anchored" data-anchor-id="season10-7.823e-01-1.135e-01-6.894-1.36e-10">season10 7.823e-01 1.135e-01 6.894 1.36e-10 ***</h2>
</section>
<section id="season11-6.692e-01-1.156e-01-5.788-3.95e-08" class="level2">
<h2 class="anchored" data-anchor-id="season11-6.692e-01-1.156e-01-5.788-3.95e-08">season11 6.692e-01 1.156e-01 5.788 3.95e-08 ***</h2>
</section>
<section id="season12-8.604e-01-1.156e-01-7.440-6.91e-12" class="level2">
<h2 class="anchored" data-anchor-id="season12-8.604e-01-1.156e-01-7.440-6.91e-12">season12 8.604e-01 1.156e-01 7.440 6.91e-12 ***</h2>
</section>
<section id="section-18" class="level2">
<h2 class="anchored" data-anchor-id="section-18">—</h2>
</section>
<section id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-2" class="level2">
<h2 class="anchored" data-anchor-id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-2">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</h2>
</section>
<section id="section-19" class="level2">
<h2 class="anchored" data-anchor-id="section-19"></h2>
</section>
<section id="residual-standard-error-0.3-on-152-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="residual-standard-error-0.3-on-152-degrees-of-freedom">Residual standard error: 0.3 on 152 degrees of freedom</h2>
</section>
<section id="multiple-r-squared-0.5306-adjusted-r-squared-0.4905" class="level2">
<h2 class="anchored" data-anchor-id="multiple-r-squared-0.5306-adjusted-r-squared-0.4905">Multiple R-squared: 0.5306, Adjusted R-squared: 0.4905</h2>
</section>
<section id="f-statistic-13.22-on-13-and-152-df-p-value-2.2e-16" class="level2">
<h2 class="anchored" data-anchor-id="f-statistic-13.22-on-13-and-152-df-p-value-2.2e-16">F-statistic: 13.22 on 13 and 152 DF, p-value: &lt; 2.2e-16</h2>
<p>train.lm.t.s.pred &lt;- forecast(train.lm.trend.season, h = stepsAhead, level = 0)</p>
<p>plot(train.lm.t.s.pred , ylab = “inflation Sales”, xlab = “Year”, bty = “l”, ylim = c(-0.9,3), xaxt = “n”, xlim = c(2009,2024), main =“Monthly growth for the quantity bought for all inflationing sales”, flty = 2)</p>
<p>axis(1, at = seq(2009, 2024, 1), labels = format(seq(2009, 2024, 1))) #lines(train.lm.t.s.pred$fitted, lwd = 2, col = “blue”) lines(valid.ts)</p>
<p>#lines(train.ts)</p>
<p>Task 5. Compute a measure of predictive accuracy.</p>
<p>accuracy(train.lm.t.s.pred$mean, as.numeric(valid.ts))</p>
</section>
<section id="me-rmse-mae-mpe-mape-1" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-1">ME RMSE MAE MPE MAPE</h2>
</section>
<section id="test-set--0.377735-0.5203881-0.4194823--inf-inf" class="level2">
<h2 class="anchored" data-anchor-id="test-set--0.377735-0.5203881-0.4194823--inf-inf">Test set -0.377735 0.5203881 0.4194823 -Inf Inf</h2>
<p>Task 6. Calculate the inflation for 2 year ahead after the end of the time series, and plot the results.</p>
<p>inflation.lm.trend.season &lt;- tslm(inflation.ts ~ trend + I(trend^2) + season) summary (inflation.lm.trend.season)</p>
</section>
<section id="section-20" class="level2">
<h2 class="anchored" data-anchor-id="section-20"></h2>
</section>
<section id="call-3" class="level2">
<h2 class="anchored" data-anchor-id="call-3">Call:</h2>
</section>
<section id="tslmformula-inflation.ts-trend-itrend2-season" class="level2">
<h2 class="anchored" data-anchor-id="tslmformula-inflation.ts-trend-itrend2-season">tslm(formula = inflation.ts ~ trend + I(trend^2) + season)</h2>
</section>
<section id="section-21" class="level2">
<h2 class="anchored" data-anchor-id="section-21"></h2>
</section>
<section id="residuals-3" class="level2">
<h2 class="anchored" data-anchor-id="residuals-3">Residuals:</h2>
</section>
<section id="min-1q-median-3q-max-3" class="level2">
<h2 class="anchored" data-anchor-id="min-1q-median-3q-max-3">Min 1Q Median 3Q Max</h2>
</section>
<section id="section-22" class="level2">
<h2 class="anchored" data-anchor-id="section-22">-0.8591 -0.1448 0.0089 0.1545 1.6979</h2>
</section>
<section id="section-23" class="level2">
<h2 class="anchored" data-anchor-id="section-23"></h2>
</section>
<section id="coefficients-3" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-3">Coefficients:</h2>
</section>
<section id="estimate-std.-error-t-value-prt-3" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-t-value-prt-3">Estimate Std. Error t value Pr(&gt;|t|)</h2>
</section>
<section id="intercept--3.029e-01-1.038e-01--2.919-0.004004" class="level2">
<h2 class="anchored" data-anchor-id="intercept--3.029e-01-1.038e-01--2.919-0.004004">(Intercept) -3.029e-01 1.038e-01 -2.919 0.004004 **</h2>
</section>
<section id="trend--8.086e-03-1.834e-03--4.409-1.88e-05" class="level2">
<h2 class="anchored" data-anchor-id="trend--8.086e-03-1.834e-03--4.409-1.88e-05">trend -8.086e-03 1.834e-03 -4.409 1.88e-05 ***</h2>
</section>
<section id="itrend2-5.215e-05-9.925e-06-5.254-4.57e-07" class="level2">
<h2 class="anchored" data-anchor-id="itrend2-5.215e-05-9.925e-06-5.254-4.57e-07">I(trend^2) 5.215e-05 9.925e-06 5.254 4.57e-07 ***</h2>
</section>
<section id="season2-1.026e00-1.140e-01-8.998-5.49e-16" class="level2">
<h2 class="anchored" data-anchor-id="season2-1.026e00-1.140e-01-8.998-5.49e-16">season2 1.026e+00 1.140e-01 8.998 5.49e-16 ***</h2>
</section>
<section id="season3-8.316e-01-1.140e-01-7.294-1.22e-11" class="level2">
<h2 class="anchored" data-anchor-id="season3-8.316e-01-1.140e-01-7.294-1.22e-11">season3 8.316e-01 1.140e-01 7.294 1.22e-11 ***</h2>
</section>
<section id="season4-1.064e00-1.140e-01-9.331-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="season4-1.064e00-1.140e-01-9.331-2e-16">season4 1.064e+00 1.140e-01 9.331 &lt; 2e-16 ***</h2>
</section>
<section id="season5-7.627e-01-1.140e-01-6.689-3.37e-10" class="level2">
<h2 class="anchored" data-anchor-id="season5-7.627e-01-1.140e-01-6.689-3.37e-10">season5 7.627e-01 1.140e-01 6.689 3.37e-10 ***</h2>
</section>
<section id="season6-5.748e-01-1.140e-01-5.041-1.22e-06" class="level2">
<h2 class="anchored" data-anchor-id="season6-5.748e-01-1.140e-01-5.041-1.22e-06">season6 5.748e-01 1.140e-01 5.041 1.22e-06 ***</h2>
</section>
<section id="season7-4.535e-01-1.140e-01-3.976-0.000105" class="level2">
<h2 class="anchored" data-anchor-id="season7-4.535e-01-1.140e-01-3.976-0.000105">season7 4.535e-01 1.140e-01 3.976 0.000105 ***</h2>
</section>
<section id="season8-8.720e-01-1.141e-01-7.646-1.66e-12" class="level2">
<h2 class="anchored" data-anchor-id="season8-8.720e-01-1.141e-01-7.646-1.66e-12">season8 8.720e-01 1.141e-01 7.646 1.66e-12 ***</h2>
</section>
<section id="season9-7.104e-01-1.141e-01-6.228-3.81e-09" class="level2">
<h2 class="anchored" data-anchor-id="season9-7.104e-01-1.141e-01-6.228-3.81e-09">season9 7.104e-01 1.141e-01 6.228 3.81e-09 ***</h2>
</section>
<section id="season10-7.688e-01-1.141e-01-6.739-2.58e-10" class="level2">
<h2 class="anchored" data-anchor-id="season10-7.688e-01-1.141e-01-6.739-2.58e-10">season10 7.688e-01 1.141e-01 6.739 2.58e-10 ***</h2>
</section>
<section id="season11-6.875e-01-1.161e-01-5.922-1.81e-08" class="level2">
<h2 class="anchored" data-anchor-id="season11-6.875e-01-1.161e-01-5.922-1.81e-08">season11 6.875e-01 1.161e-01 5.922 1.81e-08 ***</h2>
</section>
<section id="season12-8.649e-01-1.161e-01-7.449-5.09e-12" class="level2">
<h2 class="anchored" data-anchor-id="season12-8.649e-01-1.161e-01-7.449-5.09e-12">season12 8.649e-01 1.161e-01 7.449 5.09e-12 ***</h2>
</section>
<section id="section-24" class="level2">
<h2 class="anchored" data-anchor-id="section-24">—</h2>
</section>
<section id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-3" class="level2">
<h2 class="anchored" data-anchor-id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-3">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</h2>
</section>
<section id="section-25" class="level2">
<h2 class="anchored" data-anchor-id="section-25"></h2>
</section>
<section id="residual-standard-error-0.3122-on-164-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="residual-standard-error-0.3122-on-164-degrees-of-freedom">Residual standard error: 0.3122 on 164 degrees of freedom</h2>
</section>
<section id="multiple-r-squared-0.5102-adjusted-r-squared-0.4714" class="level2">
<h2 class="anchored" data-anchor-id="multiple-r-squared-0.5102-adjusted-r-squared-0.4714">Multiple R-squared: 0.5102, Adjusted R-squared: 0.4714</h2>
</section>
<section id="f-statistic-13.14-on-13-and-164-df-p-value-2.2e-16" class="level2">
<h2 class="anchored" data-anchor-id="f-statistic-13.14-on-13-and-164-df-p-value-2.2e-16">F-statistic: 13.14 on 13 and 164 DF, p-value: &lt; 2.2e-16</h2>
<p>inflation.lm.t.s.pred &lt;- forecast(inflation.lm.trend.season, h = stepsAhead*2, level = 0)</p>
<p>plot(inflation.lm.t.s.pred , ylab = “inflation Sales”, xlab = “Year”, bty = “l”, ylim = c(-0.9,3), xaxt = “n”, xlim = c(2009,2024), main =“Monthly growth for the quantity bought for all inflationing sales”, flty = 2) axis(1, at = seq(2009, 2024, 1), labels = format(seq(2009, 2024, 1)))</p>
<p>Task 7. Calculate an additional 10 years of inflation and forecast the year when inflation will be above 2%. Plot your results.</p>
<p>inflation.lm.t.s.pred$mean</p>
</section>
<section id="jan-feb-mar-apr-may-jun" class="level2">
<h2 class="anchored" data-anchor-id="jan-feb-mar-apr-may-jun">Jan Feb Mar Apr May Jun</h2>
</section>
<section id="section-26" class="level2">
<h2 class="anchored" data-anchor-id="section-26">2023</h2>
</section>
<section id="section-27" class="level2">
<h2 class="anchored" data-anchor-id="section-27">2024 -0.05816355 0.97851512 0.79519379 1.03853913 0.74855113 0.57189647</h2>
</section>
<section id="section-28" class="level2">
<h2 class="anchored" data-anchor-id="section-28">2025 0.07883470 1.11676487 0.93469504 1.17929188 0.89055539 0.71515222</h2>
</section>
<section id="jul-aug-sep-oct-nov-dec" class="level2">
<h2 class="anchored" data-anchor-id="jul-aug-sep-oct-nov-dec">Jul Aug Sep Oct Nov Dec</h2>
</section>
<section id="section-29" class="level2">
<h2 class="anchored" data-anchor-id="section-29">2023 0.60799418 0.79595186</h2>
</section>
<section id="section-30" class="level2">
<h2 class="anchored" data-anchor-id="section-30">2024 0.46190847 0.89192047 0.74193248 0.81194448 0.74248943 0.93169861</h2>
</section>
<section id="section-31" class="level2">
<h2 class="anchored" data-anchor-id="section-31">2025 0.60641573 1.03767923 0.88894274 0.96020624</h2>
<p>ma.trailing &lt;- rollsum(inflation.lm.t.s.pred$mean, k = 12, align = “right”) plot(ma.trailing)</p>
<p>ma.trailing</p>
</section>
<section id="jan-feb-mar-apr-may-jun-jul" class="level2">
<h2 class="anchored" data-anchor-id="jan-feb-mar-apr-may-jun-jul">Jan Feb Mar Apr May Jun Jul</h2>
</section>
<section id="section-32" class="level2">
<h2 class="anchored" data-anchor-id="section-32">2024</h2>
</section>
<section id="section-33" class="level2">
<h2 class="anchored" data-anchor-id="section-33">2025 8.793424 8.931674 9.071175 9.211928 9.353932 9.497188 9.641695</h2>
</section>
<section id="aug-sep-oct-nov-dec" class="level2">
<h2 class="anchored" data-anchor-id="aug-sep-oct-nov-dec">Aug Sep Oct Nov Dec</h2>
</section>
<section id="section-34" class="level2">
<h2 class="anchored" data-anchor-id="section-34">2024 8.386184 8.520679 8.656426</h2>
</section>
<section id="section-35" class="level2">
<h2 class="anchored" data-anchor-id="section-35">2025 9.787454 9.934464 10.082726</h2>
</section>
</section>
<section id="year-prediction" class="level1">
<h1>10 year prediction</h1>
<p>ma.trailing.10year &lt;- tslm(ma.trailing ~ trend + I(trend^2) + season) summary (ma.trailing.10year)</p>
<section id="section-36" class="level2">
<h2 class="anchored" data-anchor-id="section-36"></h2>
</section>
<section id="call-4" class="level2">
<h2 class="anchored" data-anchor-id="call-4">Call:</h2>
</section>
<section id="tslmformula-ma.trailing-trend-itrend2-season" class="level2">
<h2 class="anchored" data-anchor-id="tslmformula-ma.trailing-trend-itrend2-season">tslm(formula = ma.trailing ~ trend + I(trend^2) + season)</h2>
</section>
<section id="section-37" class="level2">
<h2 class="anchored" data-anchor-id="section-37"></h2>
</section>
<section id="residuals-4" class="level2">
<h2 class="anchored" data-anchor-id="residuals-4">Residuals:</h2>
</section>
<section id="all-13-residuals-are-0-no-residual-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="all-13-residuals-are-0-no-residual-degrees-of-freedom">ALL 13 residuals are 0: no residual degrees of freedom!</h2>
</section>
<section id="section-38" class="level2">
<h2 class="anchored" data-anchor-id="section-38"></h2>
</section>
<section id="coefficients-1-not-defined-because-of-singularities" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-1-not-defined-because-of-singularities">Coefficients: (1 not defined because of singularities)</h2>
</section>
<section id="estimate-std.-error-t-value-prt-4" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-t-value-prt-4">Estimate Std. Error t value Pr(&gt;|t|)</h2>
</section>
<section id="intercept-8.253e00-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="intercept-8.253e00-nan-nan-nan">(Intercept) 8.253e+00 NaN NaN NaN</h2>
</section>
<section id="trend-1.326e-01-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="trend-1.326e-01-nan-nan-nan">trend 1.326e-01 NaN NaN NaN</h2>
</section>
<section id="itrend2-6.258e-04-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="itrend2-6.258e-04-nan-nan-nan">I(trend^2) 6.258e-04 NaN NaN NaN</h2>
</section>
<section id="season2--1.595e-15-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="season2--1.595e-15-nan-nan-nan">season2 -1.595e-15 NaN NaN NaN</h2>
</section>
<section id="season3--1.140e-15-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="season3--1.140e-15-nan-nan-nan">season3 -1.140e-15 NaN NaN NaN</h2>
</section>
<section id="season4--2.230e-15-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="season4--2.230e-15-nan-nan-nan">season4 -2.230e-15 NaN NaN NaN</h2>
</section>
<section id="season5--3.046e-15-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="season5--3.046e-15-nan-nan-nan">season5 -3.046e-15 NaN NaN NaN</h2>
</section>
<section id="season6--3.667e-15-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="season6--3.667e-15-nan-nan-nan">season6 -3.667e-15 NaN NaN NaN</h2>
</section>
<section id="season7--3.988e-15-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="season7--3.988e-15-nan-nan-nan">season7 -3.988e-15 NaN NaN NaN</h2>
</section>
<section id="season8--4.062e-15-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="season8--4.062e-15-nan-nan-nan">season8 -4.062e-15 NaN NaN NaN</h2>
</section>
<section id="season9--2.229e-15-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="season9--2.229e-15-nan-nan-nan">season9 -2.229e-15 NaN NaN NaN</h2>
</section>
<section id="season10--1.815e-15-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="season10--1.815e-15-nan-nan-nan">season10 -1.815e-15 NaN NaN NaN</h2>
</section>
<section id="season11-2.475e-15-nan-nan-nan" class="level2">
<h2 class="anchored" data-anchor-id="season11-2.475e-15-nan-nan-nan">season11 2.475e-15 NaN NaN NaN</h2>
</section>
<section id="season12-na-na-na-na" class="level2">
<h2 class="anchored" data-anchor-id="season12-na-na-na-na">season12 NA NA NA NA</h2>
</section>
<section id="section-39" class="level2">
<h2 class="anchored" data-anchor-id="section-39"></h2>
</section>
<section id="residual-standard-error-nan-on-0-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="residual-standard-error-nan-on-0-degrees-of-freedom">Residual standard error: NaN on 0 degrees of freedom</h2>
</section>
<section id="multiple-r-squared-1-adjusted-r-squared-nan" class="level2">
<h2 class="anchored" data-anchor-id="multiple-r-squared-1-adjusted-r-squared-nan">Multiple R-squared: 1, Adjusted R-squared: NaN</h2>
</section>
<section id="f-statistic-nan-on-12-and-0-df-p-value-na" class="level2">
<h2 class="anchored" data-anchor-id="f-statistic-nan-on-12-and-0-df-p-value-na">F-statistic: NaN on 12 and 0 DF, p-value: NA</h2>
<p>ma.trailing.10year.pred &lt;- forecast(ma.trailing.10year, h = 120, level = 0)</p>
</section>
<section id="warning-in-predict.lmpredict_object-newdata-newdata-se.fit-true" class="level2">
<h2 class="anchored" data-anchor-id="warning-in-predict.lmpredict_object-newdata-newdata-se.fit-true">Warning in predict.lm(predict_object, newdata = newdata, se.fit = TRUE, :</h2>
</section>
<section id="prediction-from-rank-deficient-fit-attr-non-estim-has-doubtful-cases" class="level2">
<h2 class="anchored" data-anchor-id="prediction-from-rank-deficient-fit-attr-non-estim-has-doubtful-cases">prediction from rank-deficient fit; attr(*, “non-estim”) has doubtful cases</h2>
</section>
<section id="warning-in-qt1---level2-df-nans-produced" class="level2">
<h2 class="anchored" data-anchor-id="warning-in-qt1---level2-df-nans-produced">Warning in qt((1 - level)/2, df): NaNs produced</h2>
<p>plot(ma.trailing.10year.pred) abline(h =2, col=“red”, )</p>
<p>##ACTIVITY 3. You have learnt how to forecast the future with Linear regression; now use the dataset for your assessment (presentation).</p>
<p>Video 2: Lab 17 Confusion Matrix, Melbourne rainfall forecast, what are odds of an event happening?</p>
<p>This week we covered during the lecture binary forecasts using logistic regression. This technique will help you to forecast binary events, e.g.&nbsp;is your team going to win or not, is there going to be a recession again this year or not, is certain share going to increase greatly its price or not, etc. The basic idea is to forecast the probability of certain event happening. We will use 0 when the event occurs and 1 when it does not occur.</p>
<p>Activity 1. Confusion Matrix</p>
<p>Task1. The following table shows the typical outcome of a confusion matrix using R. Suppose a 2x2 table with the notation ‘Reference’ for your binary dependent variable (e.g.&nbsp;recession or not recession), and the notation ‘Predicted’ for your forecast. The confusion matrix shows how many times the estimated model perform well in the green sections of the table; contrary, the red sections are the number of mistakes of your prediction model/forecasts.</p>
<p>Read the documentation about confusionatrix for R. Find and read the section ‘Details’ in the following link: . The link will explain the outcome of the confusion matrix in R.</p>
<p>Task 2. Download in your appropriate datasets folder the file ‘MelbourneRainfall.xls’ from the folder “Data Sets” in bb. Afterwards, run the following code:</p>
</section>
</section>
<section id="loading-the-caret-package-for-modeling-and-evaluation" class="level1">
<h1>Loading the ‘caret’ package for modeling and evaluation</h1>
<p>library(caret)</p>
</section>
<section id="reading-the-dataset-and-formatting-the-date" class="level1">
<h1>Reading the dataset and formatting the date</h1>
<p>rain.df &lt;- read.csv(“MelbourneRainfall.csv”)</p>
<p>rain.df<span class="math inline">\(Date &lt;- as.Date(rain.df\)</span>Date, format=“%d/%m/%Y”)</p>
</section>
<section id="creating-a-binary-variable-rainy-based-on-the-rainfall-amount" class="level1">
<h1>Creating a binary variable ‘Rainy’ based on the rainfall amount</h1>
<p>rain.df<span class="math inline">\(Rainy &lt;- ifelse(rain.df\)</span>Rainfall &gt; 0, 1, 0)</p>
</section>
<section id="preparing-variables-for-logistic-regression" class="level1">
<h1>Preparing variables for logistic regression</h1>
<p>nPeriods &lt;- length(rain.df$Rainy)</p>
<p>rain.df<span class="math inline">\(Lag1 &lt;- c(NA, rain.df\)</span>Rainfall[1:(nPeriods-1)]) # Lagged variable</p>
<p>rain.df$t &lt;- seq(1, nPeriods, 1)</p>
<p>rain.df<span class="math inline">\(Seasonal_sine = sin(2 * pi * rain.df\)</span>t/ 365.25) # Seasonal sine component</p>
<p>rain.df<span class="math inline">\(Seasonal_cosine = cos(2 * pi * rain.df\)</span>t/ 365.25) # Seasonal cosine component</p>
</section>
<section id="splitting-the-dataset-into-training-and-validation-sets" class="level1">
<h1>Splitting the dataset into training and validation sets</h1>
<p>train.df &lt;- rain.df[rain.df$Date &lt;= as.Date(“31/12/2009”, format=“%d/%m/%Y”),]</p>
<p>train.df &lt;- train.df[-1,] # Removing the first row due to NA in Lag1</p>
<p>valid.df &lt;- rain.df[rain.df$Date &gt; as.Date(“31/12/2009”, format=“%d/%m/%Y”),]</p>
<p>xvalid &lt;- valid.df[, c(4,6,7)] # Validation predictors</p>
</section>
<section id="building-the-logistic-regression-model" class="level1">
<h1>Building the logistic regression model</h1>
<p>rainy.lr &lt;- glm(Rainy ~ Lag1 + Seasonal_sine + Seasonal_cosine, data = train.df, family = “binomial”)</p>
<p>summary(rainy.lr) # Model summary</p>
</section>
<section id="prediction-and-evaluation-using-the-confusion-matrix" class="level1">
<h1>Prediction and evaluation using the confusion matrix</h1>
<p>rainy.lr.pred &lt;- predict(rainy.lr, xvalid, type = “response”)</p>
<p>confusionMatrix(table(ifelse(rainy.lr<span class="math inline">\(fitted &gt; 0.5, 1, 0), train.df\)</span>Rainy)) # Training set</p>
<p>confusionMatrix(table(ifelse(rainy.lr.pred &gt; 0.5, 1, 0), valid.df$Rainy)) # Validation set</p>
<p>Task 3. Review the confusion matrix and explain what is accuracy, sensitivity, and prevalence in the R outcome.</p>
<p>Call:</p>
<p>glm(formula = Rainy ~ Lag1 + Seasonal_sine + Seasonal_cosine,</p>
<p>family = “binomial”, data = train.df)</p>
<p>Coefficients:</p>
<p>Estimate Std. Error z value Pr(&gt;|z|)</p>
<p>(Intercept) -0.76888 0.03858 -19.927 &lt; 2e-16 ***</p>
<p>Lag1 0.11187 0.01137 9.843 &lt; 2e-16 ***</p>
<p>Seasonal_sine -0.26885 0.05049 -5.324 1.01e-07 ***</p>
<p>Seasonal_cosine -0.37134 0.05067 -7.328 2.33e-13 ***</p>
<hr>
<p>Signif. codes: 0 ‘<em><strong>’ 0.001 ‘</strong>’ 0.01 ‘</em>’ 0.05 ‘.’ 0.1 ‘ ’ 1</p>
<p>(Dispersion parameter for binomial family taken to be 1)</p>
<p>Null deviance: 4751.8 on 3651 degrees of freedom</p>
<p>Residual deviance: 4533.7 on 3648 degrees of freedom</p>
<p>AIC: 4541.7</p>
<p>Number of Fisher Scoring iterations: 4</p>
<blockquote class="blockquote">
<p>rainy.lr.pred &lt;- predict(rainy.lr, xvalid, type = “response”)</p>
</blockquote>
<blockquote class="blockquote">
<p>confusionMatrix(table(ifelse(rainy.lr<span class="math inline">\(fitted &gt; 0.5, 1, 0), train.df\)</span>Rainy))</p>
</blockquote>
<p>Confusion Matrix and Statistics</p>
<p>0 1</p>
<p>0 2251 1115</p>
<p>1 104 182</p>
<p>Accuracy : 0.6662</p>
<p>95% CI : (0.6507, 0.6815)</p>
<p>No Information Rate : 0.6449</p>
<p>P-Value [Acc &gt; NIR] : 0.003566</p>
<p>Kappa : 0.1166</p>
<p>Mcnemar’s Test P-Value : &lt; 2.2e-16</p>
<p>Sensitivity : 0.9558</p>
<p>Specificity : 0.1403</p>
<p>Pos Pred Value : 0.6687</p>
<p>Neg Pred Value : 0.6364</p>
<p>Prevalence : 0.6449</p>
<p>Detection Rate : 0.6164</p>
<p>Detection Prevalence : 0.9217</p>
<p>Balanced Accuracy : 0.5481</p>
<p>‘Positive’ Class : 0</p>
<blockquote class="blockquote">
<p>confusionMatrix(table(ifelse(rainy.lr.pred &gt; 0.5, 1, 0), valid.df$Rainy))</p>
</blockquote>
<p>Confusion Matrix and Statistics</p>
<p>0 1</p>
<p>0 373 220</p>
<p>1 21 55</p>
<p>Accuracy : 0.6398</p>
<p>95% CI : (0.6021, 0.6762)</p>
<p>No Information Rate : 0.5889</p>
<p>P-Value [Acc &gt; NIR] : 0.004043</p>
<p>Kappa : 0.1647</p>
<p>Mcnemar’s Test P-Value : &lt; 2.2e-16</p>
<p>Sensitivity : 0.9467</p>
<p>Specificity : 0.2000</p>
<p>Pos Pred Value : 0.6290</p>
<p>Neg Pred Value : 0.7237</p>
<p>Prevalence : 0.5889</p>
<p>Detection Rate : 0.5575</p>
<p>Detection Prevalence : 0.8864</p>
<p>Balanced Accuracy : 0.5734</p>
<p>‘Positive’ Class : 0</p>
<p>Confusion Matrix and Statistics Explanation</p>
<p>Confusion Matrix Structure</p>
<p>A (True Negative): Predicted no event, and no event occurred.</p>
<p>B (False Positive): Predicted an event, but no event occurred.</p>
<p>C (False Negative): Predicted no event, but the event occurred.</p>
<p>D (True Positive): Predicted an event, and the event occurred.</p>
<p>Key Statistics</p>
<p>Accuracy: Proportion of true results (both true positives and true negatives) among the total number of cases examined.</p>
<p>Formula: (A+D)/(A+B+C+D)</p>
<p>Indicates overall correctness of the model.</p>
<p>Sensitivity (Recall or True Positive Rate): Proportion of actual positives that are correctly identified.</p>
<p>Formula: D/(C+D)</p>
<p>Indicates the model’s ability to correctly predict positive events.</p>
<p>Specificity (True Negative Rate): Proportion of actual negatives that are correctly identified.</p>
<p>Formula: A/(A+B)</p>
<p>Indicates the model’s ability to correctly predict negative events.</p>
<p>Positive Predictive Value (Precision): Proportion of positive identifications that were actually correct.</p>
<p>Formula: D/(B+D)</p>
<p>Negative Predictive Value: Proportion of negative identifications that were actually correct.</p>
<p>Formula: A/(A+C)</p>
<p>Prevalence: Proportion of actual positives in the dataset.</p>
<p>Formula: (C+D)/(A+B+C+D)</p>
<p>Detection Rate: Proportion of the total sample that are true positives.</p>
<p>Formula: D/(A+B+C+D)</p>
<p>Detection Prevalence: Proportion of the total sample that are predicted positives.</p>
<p>Formula: (B+D)/(A+B+C+D)</p>
<p>Balanced Accuracy: Average of sensitivity and specificity.</p>
<p>Formula: (Sensitivity + Specificity) / 2</p>
<p>Useful in imbalanced datasets.</p>
<p>Kappa: Agreement between observed accuracy and expected accuracy (chance agreement).</p>
<p>Interpretation of the Output</p>
<p>Training Set Confusion Matrix:</p>
<p>Accuracy: 66.62%</p>
<p>Sensitivity: 95.58%</p>
<p>Specificity: 14.03%</p>
<p>The model is better at predicting non-rainy days than rainy days.</p>
<p>Validation Set Confusion Matrix:</p>
<p>Accuracy: 63.98%</p>
<p>Sensitivity: 94.67%</p>
<p>Specificity: 20.00%</p>
<p>Similar performance as the training set, indicating consistency.</p>
<p>Conclusion</p>
<p>The model has high sensitivity but low specificity, indicating it’s more effective at predicting non-events (no rain) than events (rain). The accuracy is moderate, suggesting room for improvement, possibly by including more predictors or using different modeling techniques.</p>
<p>Lab 12: Linear Regression and autocorrelation</p>
<p>Example used in this lab</p>
<p>Cam Calderon</p>
<p>2023-12-09</p>
<p>R Markdown</p>
</section>
<section id="regression-models---trend-and-seasonality-analysis---09-12-2023" class="level1">
<h1>Regression Models - Trend and Seasonality Analysis - 09-12-2023</h1>
</section>
<section id="load-necessary-libraries-1" class="level1">
<h1>Load necessary libraries</h1>
<p>library(readxl) # Uncomment the next line to install the ‘forecast’ package if not already installed # install.packages(“forecast”) library(forecast)</p>
<section id="registered-s3-method-overwritten-by-quantmod-3" class="level2">
<h2 class="anchored" data-anchor-id="registered-s3-method-overwritten-by-quantmod-3">Registered S3 method overwritten by ‘quantmod’:</h2>
</section>
<section id="method-from-3" class="level2">
<h2 class="anchored" data-anchor-id="method-from-3">method from</h2>
</section>
<section id="as.zoo.data.frame-zoo-3" class="level2">
<h2 class="anchored" data-anchor-id="as.zoo.data.frame-zoo-3">as.zoo.data.frame zoo</h2>
</section>
</section>
<section id="load-the-retail-sales-index-data-from-the-office-for-national-statistics-ons" class="level1">
<h1>Load the retail sales index data from the Office for National Statistics (ONS)</h1>
<p>ONS_retail &lt;- read_excel(“C:/Users/Cam/OneDrive - De Montfort University/a- BECS2002 2023-24 - PUBLIC/002 Datasets/rsi 2023.xlsx”, skip = 10)</p>
</section>
<section id="uncomment-the-next-line-to-view-the-loaded-data" class="level1">
<h1>Uncomment the next line to view the loaded data</h1>
<p>#View(ONS_retail)</p>
</section>
<section id="convert-the-retail-sales-data-into-a-time-series-object" class="level1">
<h1>Convert the retail sales data into a time series object</h1>
<p>retail.ts &lt;- ts(ONS_retail$rsi, start = c(1996,1), end = c(2023, 10), freq = 12)</p>
</section>
<section id="plot-the-initial-time-series-for-the-retail-sales-index" class="level1">
<h1>Plot the initial time series for the retail sales index</h1>
<p>plot(retail.ts, xlab = “Year”, ylab = “Retail Sales Index - J5AH”, main = “Value of Retail Sales at Current Prices Non-SA”)</p>
</section>
<section id="split-the-data-into-training-and-validation-sets" class="level1">
<h1>Split the data into training and validation sets</h1>
<p>stepsAhead &lt;- 12 nTrain &lt;- length(retail.ts) - stepsAhead train.ts &lt;- window(retail.ts, start = c(1996, 1), end = c(1996,nTrain)) valid.ts &lt;- window(retail.ts, start = c(1996, nTrain + 1), end = c(1996, nTrain + stepsAhead))</p>
</section>
<section id="fit-a-linear-model-to-the-training-set-with-trend-and-seasonal-components" class="level1">
<h1>Fit a linear model to the training set with trend and seasonal components</h1>
<p>train.lm.trend.season &lt;- tslm(train.ts ~ trend + I(trend^2) + season) summary(train.lm.trend.season)</p>
<section id="section-40" class="level2">
<h2 class="anchored" data-anchor-id="section-40"></h2>
</section>
<section id="call-5" class="level2">
<h2 class="anchored" data-anchor-id="call-5">Call:</h2>
</section>
<section id="tslmformula-train.ts-trend-itrend2-season-3" class="level2">
<h2 class="anchored" data-anchor-id="tslmformula-train.ts-trend-itrend2-season-3">tslm(formula = train.ts ~ trend + I(trend^2) + season)</h2>
</section>
<section id="section-41" class="level2">
<h2 class="anchored" data-anchor-id="section-41"></h2>
</section>
<section id="residuals-5" class="level2">
<h2 class="anchored" data-anchor-id="residuals-5">Residuals:</h2>
</section>
<section id="min-1q-median-3q-max-4" class="level2">
<h2 class="anchored" data-anchor-id="min-1q-median-3q-max-4">Min 1Q Median 3Q Max</h2>
</section>
<section id="section-42" class="level2">
<h2 class="anchored" data-anchor-id="section-42">-23.9822 -1.0645 0.0657 1.3221 10.6067</h2>
</section>
<section id="section-43" class="level2">
<h2 class="anchored" data-anchor-id="section-43"></h2>
</section>
<section id="coefficients-4" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-4">Coefficients:</h2>
</section>
<section id="estimate-std.-error-t-value-prt-5" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-t-value-prt-5">Estimate Std. Error t value Pr(&gt;|t|)</h2>
</section>
<section id="intercept-3.962e01-7.251e-01-54.649-2e-16-1" class="level2">
<h2 class="anchored" data-anchor-id="intercept-3.962e01-7.251e-01-54.649-2e-16-1">(Intercept) 3.962e+01 7.251e-01 54.649 &lt; 2e-16 ***</h2>
</section>
<section id="trend-1.250e-01-7.034e-03-17.768-2e-16-1" class="level2">
<h2 class="anchored" data-anchor-id="trend-1.250e-01-7.034e-03-17.768-2e-16-1">trend 1.250e-01 7.034e-03 17.768 &lt; 2e-16 ***</h2>
</section>
<section id="itrend2-2.078e-04-2.109e-05-9.853-2e-16-1" class="level2">
<h2 class="anchored" data-anchor-id="itrend2-2.078e-04-2.109e-05-9.853-2e-16-1">I(trend^2) 2.078e-04 2.109e-05 9.853 &lt; 2e-16 ***</h2>
</section>
<section id="season2-1.139e00-7.956e-01-1.432-0.153-1" class="level2">
<h2 class="anchored" data-anchor-id="season2-1.139e00-7.956e-01-1.432-0.153-1">season2 1.139e+00 7.956e-01 1.432 0.153</h2>
</section>
<section id="season3-3.248e00-7.956e-01-4.083-5.67e-05-1" class="level2">
<h2 class="anchored" data-anchor-id="season3-3.248e00-7.956e-01-4.083-5.67e-05-1">season3 3.248e+00 7.956e-01 4.083 5.67e-05 ***</h2>
</section>
<section id="season4-4.450e00-7.956e-01-5.593-4.93e-08-1" class="level2">
<h2 class="anchored" data-anchor-id="season4-4.450e00-7.956e-01-5.593-4.93e-08-1">season4 4.450e+00 7.956e-01 5.593 4.93e-08 ***</h2>
</section>
<section id="season5-5.321e00-7.956e-01-6.688-1.06e-10-1" class="level2">
<h2 class="anchored" data-anchor-id="season5-5.321e00-7.956e-01-6.688-1.06e-10-1">season5 5.321e+00 7.956e-01 6.688 1.06e-10 ***</h2>
</section>
<section id="season6-5.866e00-7.956e-01-7.373-1.55e-12-1" class="level2">
<h2 class="anchored" data-anchor-id="season6-5.866e00-7.956e-01-7.373-1.55e-12-1">season6 5.866e+00 7.956e-01 7.373 1.55e-12 ***</h2>
</section>
<section id="season7-6.718e00-7.956e-01-8.444-1.23e-15-1" class="level2">
<h2 class="anchored" data-anchor-id="season7-6.718e00-7.956e-01-8.444-1.23e-15-1">season7 6.718e+00 7.956e-01 8.444 1.23e-15 ***</h2>
</section>
<section id="season8-4.521e00-7.957e-01-5.682-3.08e-08-1" class="level2">
<h2 class="anchored" data-anchor-id="season8-4.521e00-7.957e-01-5.682-3.08e-08-1">season8 4.521e+00 7.957e-01 5.682 3.08e-08 ***</h2>
</section>
<section id="season9-4.476e00-7.957e-01-5.625-4.16e-08-1" class="level2">
<h2 class="anchored" data-anchor-id="season9-4.476e00-7.957e-01-5.625-4.16e-08-1">season9 4.476e+00 7.957e-01 5.625 4.16e-08 ***</h2>
</section>
<section id="season10-7.593e00-7.957e-01-9.543-2e-16-1" class="level2">
<h2 class="anchored" data-anchor-id="season10-7.593e00-7.957e-01-9.543-2e-16-1">season10 7.593e+00 7.957e-01 9.543 &lt; 2e-16 ***</h2>
</section>
<section id="season11-1.431e01-8.033e-01-17.808-2e-16-1" class="level2">
<h2 class="anchored" data-anchor-id="season11-1.431e01-8.033e-01-17.808-2e-16-1">season11 1.431e+01 8.033e-01 17.808 &lt; 2e-16 ***</h2>
</section>
<section id="season12-2.508e01-8.033e-01-31.223-2e-16-1" class="level2">
<h2 class="anchored" data-anchor-id="season12-2.508e01-8.033e-01-31.223-2e-16-1">season12 2.508e+01 8.033e-01 31.223 &lt; 2e-16 ***</h2>
</section>
<section id="section-44" class="level2">
<h2 class="anchored" data-anchor-id="section-44">—</h2>
</section>
<section id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-4" class="level2">
<h2 class="anchored" data-anchor-id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-4">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</h2>
</section>
<section id="section-45" class="level2">
<h2 class="anchored" data-anchor-id="section-45"></h2>
</section>
<section id="residual-standard-error-2.923-on-308-degrees-of-freedom-1" class="level2">
<h2 class="anchored" data-anchor-id="residual-standard-error-2.923-on-308-degrees-of-freedom-1">Residual standard error: 2.923 on 308 degrees of freedom</h2>
</section>
<section id="multiple-r-squared-0.978-adjusted-r-squared-0.9771-1" class="level2">
<h2 class="anchored" data-anchor-id="multiple-r-squared-0.978-adjusted-r-squared-0.9771-1">Multiple R-squared: 0.978, Adjusted R-squared: 0.9771</h2>
</section>
<section id="f-statistic-1054-on-13-and-308-df-p-value-2.2e-16-1" class="level2">
<h2 class="anchored" data-anchor-id="f-statistic-1054-on-13-and-308-df-p-value-2.2e-16-1">F-statistic: 1054 on 13 and 308 DF, p-value: &lt; 2.2e-16</h2>
</section>
</section>
<section id="forecast-future-values-using-the-fitted-linear-model" class="level1">
<h1>Forecast future values using the fitted linear model</h1>
<p>train.lm.t.s.pred &lt;- forecast(train.lm.trend.season, h = stepsAhead)</p>
</section>
<section id="plot-the-forecast-and-compare-with-actual-values-1" class="level1">
<h1>Plot the forecast and compare with actual values</h1>
<p>plot(train.lm.t.s.pred, ylim = c(40, 130), ylab = “Retail Sales Index - J5AH”, xlab = “Year”, bty = “l”, xaxt = “n”, xlim = c(1996,2024), main =“Forecast vs Actual: Retail Sales Index”, lty = 2)</p>
</section>
<section id="customize-the-x-axis-with-labels-at-two-year-intervals" class="level1">
<h1>Customize the x-axis with labels at two-year intervals</h1>
<p>axis(1, at = seq(1996, 2024, 2), labels = format(seq(1996, 2024, 2)))</p>
</section>
<section id="add-the-fitted-values-from-the-model-to-the-plot" class="level1">
<h1>Add the fitted values from the model to the plot</h1>
<p>lines(train.lm.t.s.pred$fitted, lwd = 1, col = “blue”)</p>
</section>
<section id="add-the-validation-set-to-the-plot-for-comparison" class="level1">
<h1>Add the validation set to the plot for comparison</h1>
<p>lines(valid.ts)</p>
</section>
<section id="evaluate-the-accuracy-of-the-forecast-against-the-validation-set" class="level1">
<h1>Evaluate the accuracy of the forecast against the validation set</h1>
<p>accuracy(train.lm.t.s.pred$mean, as.numeric(valid.ts))</p>
<section id="me-rmse-mae-mpe-mape-2" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-2">ME RMSE MAE MPE MAPE</h2>
</section>
<section id="test-set-5.237359-5.945129-5.237359-4.419619-4.419619" class="level2">
<h2 class="anchored" data-anchor-id="test-set-5.237359-5.945129-5.237359-4.419619-4.419619">Test set 5.237359 5.945129 5.237359 4.419619 4.419619</h2>
</section>
</section>
<section id="analyze-autocorrelation-in-the-series" class="level1">
<h1>Analyze autocorrelation in the series</h1>
<p>Acf(retail.ts, lag.max=12, main =“Retail Sales - Autocorrelations at Lags 1-12”)</p>
</section>
<section id="analyze-autocorrelation-in-the-residuals-of-the-linear-model" class="level1">
<h1>Analyze autocorrelation in the residuals of the linear model</h1>
<p>Acf(train.lm.trend.season$residuals, lag.max=12, main =“Retail Sales - Errors &amp; Autocorrelation”)</p>
</section>
<section id="fit-an-arima-model-to-the-residuals-of-the-linear-model-as-a-second-layer" class="level1">
<h1>Fit an ARIMA model to the residuals of the linear model as a second layer</h1>
<p>train.res.arima &lt;- Arima(train.lm.trend.season$residuals, order = c(1,0,0)) train.res.arima.pred &lt;- forecast(train.res.arima, h=stepsAhead)</p>
</section>
<section id="plot-the-new-residuals" class="level1">
<h1>Plot the new residuals</h1>
<p>plot(train.lm.trend.season<span class="math inline">\(residuals, ylim = c(-7, 7), ylab = "Residuals", xlab = "Year", bty = "l",
     xaxt = "n", xlim = c(1996,2024), main ="Residuals after ARIMA Model")
axis(1, at = seq(1996, 2024, 2), labels = format(seq(1996, 2024, 2)))
lines(train.res.arima.pred\)</span>fitted, lwd = 2, col = “blue”)</p>
</section>
<section id="analyze-the-autocorrelation-in-the-residuals-of-the-arima-model" class="level1">
<h1>Analyze the autocorrelation in the residuals of the ARIMA model</h1>
<p>Acf(train.res.arima$residuals, lag.max=12, main =“Autocorrelation in Residuals of the ARIMA Model”)</p>
</section>
<section id="final-plot-showing-the-residuals-of-the-arima-model" class="level1">
<h1>Final plot showing the residuals of the ARIMA model</h1>
<p>plot(train.res.arima$residuals, ylim = c(-7, 7), ylab = “Residuals”, xlab = “Year”, bty = “l”, xaxt = “n”, xlim = c(1996,2024), main =““) axis(1, at = seq(1996, 2024, 2), labels = format(seq(1996, 2024, 2)))</p>
<p>#lines(train.res.arima.pred$fitted, lwd = 2, col = “blue”)</p>
<p>Lab 13: Linear regression and evaluating predictability</p>
<p>Example used in this lab</p>
<p>Cam Calderon</p>
<p>2023-12-10</p>
<p>R</p>
<p>For a detailed description of ARIMA models see classic time series textbooks such as Chapter 4 in C. Chatfield. The Analysis of Time Series: An Introduction. Chapman &amp; Hall/CRC, 6th edition, 2003</p>
<p>An Autoregressive Integrated Moving Average Model (ARIMA) is one that directly models the autocorrelation of the series values as well as the autocorrelations of the forecast errors.</p>
<p>To see the three components of an ARIMA model (AR, I, and MA), let’s start with the equations on the slides.</p>
<p>An AR(p) model captures the autocorrelations of the series values at lags 1, 2,…, p.</p>
<p>Next, we add autocorrelation terms for the forecast errors (called “Moving Average”) up to lag q to get an ARMA(p, q) model</p>
<p>AR and ARMA models can only be fitted to data without trend or seasonality. Therefore, an ARIMA model incorporates a preliminary step of differencing, which removes trend. This differencing operation is the “I” (Integrated) in ARIMA. The order of differencing, denoted by parameter d, indicates how many rounds of lag-1 differencing are performed: d = 0 means no differencing, which is suitable if the series lacks a trend; d = 1 means differencing the series once (at lag-1), which can remove a linear trend; d = 2 means differencing the series twice, which can remove a quadratic trend.</p>
<p>Similarly, a seasonal-ARIMA model incorporates a step of differencing to remove seasonality and/or autocorrelation terms for capturing remaining seasonal effects. 6 6 See e.g., people.duke.edu/ ~rnau/seasarim.htm ARIMA models require the user to set the values of p, d, q and then the software estimates the β and θ parameters. Shmueli, Galit; Lichtendahl Jr, Kenneth C.. Practical Time Series Forecasting with R: A Hands-On Guide [2nd Edition] (Practical Analytics) (p.&nbsp;152). Axelrod Schnall Publishers. Kindle Edition.</p>
</section>
<section id="regression-models---trend-and-seasonality-analysis---09-12-2023-1" class="level1">
<h1>Regression Models - Trend and Seasonality Analysis - 09-12-2023</h1>
</section>
<section id="loading-necessary-libraries" class="level1">
<h1>Loading necessary libraries</h1>
<p>library(readxl) # For reading Excel files # Uncomment below to install ‘forecast’ package if it’s not already installed # install.packages(“forecast”) library(forecast) # For time series forecasting</p>
<section id="registered-s3-method-overwritten-by-quantmod-4" class="level2">
<h2 class="anchored" data-anchor-id="registered-s3-method-overwritten-by-quantmod-4">Registered S3 method overwritten by ‘quantmod’:</h2>
</section>
<section id="method-from-4" class="level2">
<h2 class="anchored" data-anchor-id="method-from-4">method from</h2>
</section>
<section id="as.zoo.data.frame-zoo-4" class="level2">
<h2 class="anchored" data-anchor-id="as.zoo.data.frame-zoo-4">as.zoo.data.frame zoo</h2>
</section>
</section>
<section id="loading-the-retail-sales-index-data-from-the-office-for-national-statistics-ons" class="level1">
<h1>Loading the retail sales index data from the Office for National Statistics (ONS)</h1>
</section>
<section id="make-sure-the-file-path-is-correct-and-accessible" class="level1">
<h1>Make sure the file path is correct and accessible</h1>
<p>ONS_retail &lt;- read_excel(“C:/Users/Cam/OneDrive - De Montfort University/a- BECS2002 2023-24 - PUBLIC/002 Datasets/rsi 2023.xlsx”, skip = 10)</p>
</section>
<section id="uncomment-below-to-view-the-loaded-data" class="level1">
<h1>Uncomment below to view the loaded data</h1>
</section>
<section id="viewons_retail" class="level1">
<h1>View(ONS_retail)</h1>
</section>
<section id="converting-the-retail-sales-data-into-a-time-series-object" class="level1">
<h1>Converting the retail sales data into a time series object</h1>
</section>
<section id="ensure-that-the-start-and-end-dates-are-correctly-set" class="level1">
<h1>Ensure that the start and end dates are correctly set</h1>
<p>retail.ts &lt;- ts(ONS_retail$rsi, start = c(1996,1), end = c(2023, 10), freq = 12)</p>
</section>
<section id="plotting-the-initial-time-series-for-the-retail-sales-index" class="level1">
<h1>Plotting the initial time series for the retail sales index</h1>
</section>
<section id="provides-a-visual-understanding-of-the-data-trends-and-seasonality" class="level1">
<h1>Provides a visual understanding of the data trends and seasonality</h1>
<p>plot(retail.ts, xlab = “Year”, ylab = “Retail Sales Index - J5AH”, main = “Value of Retail Sales at Current Prices Non-SA”)</p>
</section>
<section id="splitting-the-data-into-training-and-validation-sets" class="level1">
<h1>Splitting the data into training and validation sets</h1>
</section>
<section id="this-step-is-crucial-for-model-validation-and-avoiding-overfitting" class="level1">
<h1>This step is crucial for model validation and avoiding overfitting</h1>
<p>stepsAhead &lt;- 12 # Number of steps to forecast nTrain &lt;- length(retail.ts) - stepsAhead # Training set length train.ts &lt;- window(retail.ts, start = c(1996, 1), end = c(1996, nTrain)) # Training set valid.ts &lt;- window(retail.ts, start = c(1996, nTrain + 1), end = c(1996, nTrain + stepsAhead)) # Validation set</p>
</section>
<section id="fitting-a-linear-model-to-the-training-set-with-trend-and-seasonal-components" class="level1">
<h1>Fitting a linear model to the training set with trend and seasonal components</h1>
</section>
<section id="a-linear-model-is-a-good-starting-point-for-time-series-with-trend-and-seasonality" class="level1">
<h1>A linear model is a good starting point for time series with trend and seasonality</h1>
<p>train.lm.trend.season &lt;- tslm(train.ts ~ trend + I(trend^2) + season) summary(train.lm.trend.season)</p>
<section id="section-46" class="level2">
<h2 class="anchored" data-anchor-id="section-46"></h2>
</section>
<section id="call-6" class="level2">
<h2 class="anchored" data-anchor-id="call-6">Call:</h2>
</section>
<section id="tslmformula-train.ts-trend-itrend2-season-4" class="level2">
<h2 class="anchored" data-anchor-id="tslmformula-train.ts-trend-itrend2-season-4">tslm(formula = train.ts ~ trend + I(trend^2) + season)</h2>
</section>
<section id="section-47" class="level2">
<h2 class="anchored" data-anchor-id="section-47"></h2>
</section>
<section id="residuals-6" class="level2">
<h2 class="anchored" data-anchor-id="residuals-6">Residuals:</h2>
</section>
<section id="min-1q-median-3q-max-5" class="level2">
<h2 class="anchored" data-anchor-id="min-1q-median-3q-max-5">Min 1Q Median 3Q Max</h2>
</section>
<section id="section-48" class="level2">
<h2 class="anchored" data-anchor-id="section-48">-23.9822 -1.0645 0.0657 1.3221 10.6067</h2>
</section>
<section id="section-49" class="level2">
<h2 class="anchored" data-anchor-id="section-49"></h2>
</section>
<section id="coefficients-5" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-5">Coefficients:</h2>
</section>
<section id="estimate-std.-error-t-value-prt-6" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-t-value-prt-6">Estimate Std. Error t value Pr(&gt;|t|)</h2>
</section>
<section id="intercept-3.962e01-7.251e-01-54.649-2e-16-2" class="level2">
<h2 class="anchored" data-anchor-id="intercept-3.962e01-7.251e-01-54.649-2e-16-2">(Intercept) 3.962e+01 7.251e-01 54.649 &lt; 2e-16 ***</h2>
</section>
<section id="trend-1.250e-01-7.034e-03-17.768-2e-16-2" class="level2">
<h2 class="anchored" data-anchor-id="trend-1.250e-01-7.034e-03-17.768-2e-16-2">trend 1.250e-01 7.034e-03 17.768 &lt; 2e-16 ***</h2>
</section>
<section id="itrend2-2.078e-04-2.109e-05-9.853-2e-16-2" class="level2">
<h2 class="anchored" data-anchor-id="itrend2-2.078e-04-2.109e-05-9.853-2e-16-2">I(trend^2) 2.078e-04 2.109e-05 9.853 &lt; 2e-16 ***</h2>
</section>
<section id="season2-1.139e00-7.956e-01-1.432-0.153-2" class="level2">
<h2 class="anchored" data-anchor-id="season2-1.139e00-7.956e-01-1.432-0.153-2">season2 1.139e+00 7.956e-01 1.432 0.153</h2>
</section>
<section id="season3-3.248e00-7.956e-01-4.083-5.67e-05-2" class="level2">
<h2 class="anchored" data-anchor-id="season3-3.248e00-7.956e-01-4.083-5.67e-05-2">season3 3.248e+00 7.956e-01 4.083 5.67e-05 ***</h2>
</section>
<section id="season4-4.450e00-7.956e-01-5.593-4.93e-08-2" class="level2">
<h2 class="anchored" data-anchor-id="season4-4.450e00-7.956e-01-5.593-4.93e-08-2">season4 4.450e+00 7.956e-01 5.593 4.93e-08 ***</h2>
</section>
<section id="season5-5.321e00-7.956e-01-6.688-1.06e-10-2" class="level2">
<h2 class="anchored" data-anchor-id="season5-5.321e00-7.956e-01-6.688-1.06e-10-2">season5 5.321e+00 7.956e-01 6.688 1.06e-10 ***</h2>
</section>
<section id="season6-5.866e00-7.956e-01-7.373-1.55e-12-2" class="level2">
<h2 class="anchored" data-anchor-id="season6-5.866e00-7.956e-01-7.373-1.55e-12-2">season6 5.866e+00 7.956e-01 7.373 1.55e-12 ***</h2>
</section>
<section id="season7-6.718e00-7.956e-01-8.444-1.23e-15-2" class="level2">
<h2 class="anchored" data-anchor-id="season7-6.718e00-7.956e-01-8.444-1.23e-15-2">season7 6.718e+00 7.956e-01 8.444 1.23e-15 ***</h2>
</section>
<section id="season8-4.521e00-7.957e-01-5.682-3.08e-08-2" class="level2">
<h2 class="anchored" data-anchor-id="season8-4.521e00-7.957e-01-5.682-3.08e-08-2">season8 4.521e+00 7.957e-01 5.682 3.08e-08 ***</h2>
</section>
<section id="season9-4.476e00-7.957e-01-5.625-4.16e-08-2" class="level2">
<h2 class="anchored" data-anchor-id="season9-4.476e00-7.957e-01-5.625-4.16e-08-2">season9 4.476e+00 7.957e-01 5.625 4.16e-08 ***</h2>
</section>
<section id="season10-7.593e00-7.957e-01-9.543-2e-16-2" class="level2">
<h2 class="anchored" data-anchor-id="season10-7.593e00-7.957e-01-9.543-2e-16-2">season10 7.593e+00 7.957e-01 9.543 &lt; 2e-16 ***</h2>
</section>
<section id="season11-1.431e01-8.033e-01-17.808-2e-16-2" class="level2">
<h2 class="anchored" data-anchor-id="season11-1.431e01-8.033e-01-17.808-2e-16-2">season11 1.431e+01 8.033e-01 17.808 &lt; 2e-16 ***</h2>
</section>
<section id="season12-2.508e01-8.033e-01-31.223-2e-16-2" class="level2">
<h2 class="anchored" data-anchor-id="season12-2.508e01-8.033e-01-31.223-2e-16-2">season12 2.508e+01 8.033e-01 31.223 &lt; 2e-16 ***</h2>
</section>
<section id="section-50" class="level2">
<h2 class="anchored" data-anchor-id="section-50">—</h2>
</section>
<section id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-5" class="level2">
<h2 class="anchored" data-anchor-id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-5">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</h2>
</section>
<section id="section-51" class="level2">
<h2 class="anchored" data-anchor-id="section-51"></h2>
</section>
<section id="residual-standard-error-2.923-on-308-degrees-of-freedom-2" class="level2">
<h2 class="anchored" data-anchor-id="residual-standard-error-2.923-on-308-degrees-of-freedom-2">Residual standard error: 2.923 on 308 degrees of freedom</h2>
</section>
<section id="multiple-r-squared-0.978-adjusted-r-squared-0.9771-2" class="level2">
<h2 class="anchored" data-anchor-id="multiple-r-squared-0.978-adjusted-r-squared-0.9771-2">Multiple R-squared: 0.978, Adjusted R-squared: 0.9771</h2>
</section>
<section id="f-statistic-1054-on-13-and-308-df-p-value-2.2e-16-2" class="level2">
<h2 class="anchored" data-anchor-id="f-statistic-1054-on-13-and-308-df-p-value-2.2e-16-2">F-statistic: 1054 on 13 and 308 DF, p-value: &lt; 2.2e-16</h2>
</section>
</section>
<section id="forecasting-future-values-using-the-fitted-linear-model" class="level1">
<h1>Forecasting future values using the fitted linear model</h1>
</section>
<section id="this-step-helps-in-predicting-future-values-based-on-historical-data" class="level1">
<h1>This step helps in predicting future values based on historical data</h1>
<p>train.lm.t.s.pred &lt;- forecast(train.lm.trend.season, h = stepsAhead)</p>
</section>
<section id="plotting-the-forecast-and-comparing-it-with-actual-values" class="level1">
<h1>Plotting the forecast and comparing it with actual values</h1>
</section>
<section id="visual-comparison-helps-in-assessing-the-models-performance" class="level1">
<h1>Visual comparison helps in assessing the model’s performance</h1>
<p>plot(train.lm.t.s.pred, ylim = c(40, 130), ylab = “Retail Sales Index - J5AH”, xlab = “Year”, main =“Forecast vs Actual: Retail Sales Index”, lty = 2) axis(1, at = seq(1996, 2024, 2), labels = format(seq(1996, 2024, 2))) lines(train.lm.t.s.pred$fitted, lwd = 1, col = “blue”) # Adding fitted values to the plot lines(valid.ts) # Adding validation set for comparison</p>
</section>
<section id="evaluating-the-accuracy-of-the-forecast-against-the-validation-set" class="level1">
<h1>Evaluating the accuracy of the forecast against the validation set</h1>
</section>
<section id="accuracy-metrics-provide-quantitative-measures-of-the-forecasts-performance" class="level1">
<h1>Accuracy metrics provide quantitative measures of the forecast’s performance</h1>
<p>accuracy(train.lm.t.s.pred$mean, as.numeric(valid.ts))</p>
<section id="me-rmse-mae-mpe-mape-3" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-3">ME RMSE MAE MPE MAPE</h2>
</section>
<section id="test-set-5.237359-5.945129-5.237359-4.419619-4.419619-1" class="level2">
<h2 class="anchored" data-anchor-id="test-set-5.237359-5.945129-5.237359-4.419619-4.419619-1">Test set 5.237359 5.945129 5.237359 4.419619 4.419619</h2>
</section>
</section>
<section id="analyzing-autocorrelation-in-the-series-and-in-the-residuals-of-the-linear-model" class="level1">
<h1>Analyzing autocorrelation in the series and in the residuals of the linear model</h1>
</section>
<section id="autocorrelation-checks-help-in-identifying-any-lingering-patterns-in-the-data" class="level1">
<h1>Autocorrelation checks help in identifying any lingering patterns in the data</h1>
<p>Acf(retail.ts, lag.max=12, main =“Retail Sales - Autocorrelations at Lags 1-12”)</p>
<p>Acf(train.lm.trend.season$residuals, lag.max=12, main =“Retail Sales - Errors &amp; Autocorrelation”)</p>
</section>
<section id="fitting-an-ar-model-to-the-residuals-as-a-second-layer-of-analysis" class="level1">
<h1>Fitting an AR model to the residuals as a second layer of analysis</h1>
</section>
<section id="this-step-is-to-model-any-autocorrelation-not-captured-by-the-linear-model" class="level1">
<h1>This step is to model any autocorrelation not captured by the linear model</h1>
<p>train.res.arima &lt;- Arima(train.lm.trend.season$residuals, order = c(1,0,0)) train.res.arima.pred &lt;- forecast(train.res.arima, h=stepsAhead)</p>
</section>
<section id="plotting-and-analyzing-the-residuals-and-autocorrelation-of-the-arima-model" class="level1">
<h1>Plotting and analyzing the residuals and autocorrelation of the ARIMA model</h1>
</section>
<section id="helps-in-understanding-the-models-effectiveness-in-handling-autocorrelation" class="level1">
<h1>Helps in understanding the model’s effectiveness in handling autocorrelation</h1>
<p>plot(train.lm.trend.season<span class="math inline">\(residuals, ylim = c(-7, 7), main ="Residuals after ARIMA Model", xlab = "Year", ylab = "Residuals")
axis(1, at = seq(1996, 2024, 2), labels = format(seq(1996, 2024, 2)))
lines(train.res.arima.pred\)</span>fitted, lwd = 2, col = “blue”)</p>
<p>Acf(train.res.arima$residuals, lag.max=12, main =“Autocorrelation in Residuals of the ARIMA Model”)</p>
</section>
<section id="using-auto.arima-to-automatically-find-the-best-arima-model-specification" class="level1">
<h1>Using auto.arima to automatically find the best ARIMA model specification</h1>
</section>
<section id="this-function-helps-in-simplifying-the-model-selection-process" class="level1">
<h1>This function helps in simplifying the model selection process</h1>
<p>train.arima &lt;- auto.arima(train.ts) summary(train.arima)</p>
<section id="series-train.ts" class="level2">
<h2 class="anchored" data-anchor-id="series-train.ts">Series: train.ts</h2>
</section>
<section id="arima21201212" class="level2">
<h2 class="anchored" data-anchor-id="arima21201212">ARIMA(2,1,2)(0,1,2)[12]</h2>
</section>
<section id="section-52" class="level2">
<h2 class="anchored" data-anchor-id="section-52"></h2>
</section>
<section id="coefficients-6" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-6">Coefficients:</h2>
</section>
<section id="ar1-ar2-ma1-ma2-sma1-sma2" class="level2">
<h2 class="anchored" data-anchor-id="ar1-ar2-ma1-ma2-sma1-sma2">ar1 ar2 ma1 ma2 sma1 sma2</h2>
</section>
<section id="section-53" class="level2">
<h2 class="anchored" data-anchor-id="section-53">-0.1844 0.4917 -0.0388 -0.8752 -0.8100 0.1608</h2>
</section>
<section id="s.e.-0.0919-0.0915-0.0657-0.0702-0.0793-0.0696" class="level2">
<h2 class="anchored" data-anchor-id="s.e.-0.0919-0.0915-0.0657-0.0702-0.0793-0.0696">s.e. 0.0919 0.0915 0.0657 0.0702 0.0793 0.0696</h2>
</section>
<section id="section-54" class="level2">
<h2 class="anchored" data-anchor-id="section-54"></h2>
</section>
<section id="sigma2-3.865-log-likelihood--650.06" class="level2">
<h2 class="anchored" data-anchor-id="sigma2-3.865-log-likelihood--650.06">sigma^2 = 3.865: log likelihood = -650.06</h2>
</section>
<section id="aic1314.12-aicc1314.5-bic1340.26" class="level2">
<h2 class="anchored" data-anchor-id="aic1314.12-aicc1314.5-bic1340.26">AIC=1314.12 AICc=1314.5 BIC=1340.26</h2>
</section>
<section id="section-55" class="level2">
<h2 class="anchored" data-anchor-id="section-55"></h2>
</section>
<section id="training-set-error-measures" class="level2">
<h2 class="anchored" data-anchor-id="training-set-error-measures">Training set error measures:</h2>
</section>
<section id="me-rmse-mae-mpe-mape-mase" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-mase">ME RMSE MAE MPE MAPE MASE</h2>
</section>
<section id="training-set-0.1157932-1.907105-1.117698-0.03713381-1.414958-0.3776832" class="level2">
<h2 class="anchored" data-anchor-id="training-set-0.1157932-1.907105-1.117698-0.03713381-1.414958-0.3776832">Training set 0.1157932 1.907105 1.117698 0.03713381 1.414958 0.3776832</h2>
</section>
<section id="acf1" class="level2">
<h2 class="anchored" data-anchor-id="acf1">ACF1</h2>
</section>
<section id="training-set-0.02814524" class="level2">
<h2 class="anchored" data-anchor-id="training-set-0.02814524">Training set 0.02814524</h2>
</section>
</section>
<section id="forecasting-and-plotting-using-the-auto.arima-model" class="level1">
<h1>Forecasting and plotting using the auto.arima model</h1>
</section>
<section id="provides-a-comparative-view-of-the-forecast-vs-actual-values" class="level1">
<h1>Provides a comparative view of the forecast vs actual values</h1>
<p>train.arima.pred &lt;- forecast(train.arima, h=stepsAhead) plot(train.arima.pred, ylim = c(40, 130), main =“Forecast vs Actual: Retail Sales Index”, xlab = “Year”, ylab = “Retail Sales Index - J5AH”) axis(1, at = seq(1996, 2024, 2), labels = format(seq(1996, 2024, 2))) lines(train.arima.pred$fitted, lwd = 1, col = “blue”) lines(valid.ts)</p>
</section>
<section id="evaluating-accuracy-and-analyzing-autocorrelation-in-the-residuals-of-the-auto.arima-model" class="level1">
<h1>Evaluating accuracy and analyzing autocorrelation in the residuals of the auto.arima model</h1>
</section>
<section id="final-step-to-assess-the-overall-performance-of-the-chosen-arima-model" class="level1">
<h1>Final step to assess the overall performance of the chosen ARIMA model</h1>
<p>accuracy(train.arima.pred$mean, as.numeric(valid.ts))</p>
<section id="me-rmse-mae-mpe-mape-4" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-4">ME RMSE MAE MPE MAPE</h2>
</section>
<section id="test-set-2.704173-3.481628-2.704173-2.37663-2.37663" class="level2">
<h2 class="anchored" data-anchor-id="test-set-2.704173-3.481628-2.704173-2.37663-2.37663">Test set 2.704173 3.481628 2.704173 2.37663 2.37663</h2>
<p>Acf(train.arima$residuals, lag.max=12, main =“Retail Sales - Errors &amp; Autocorrelation”)</p>
<p>Lab 14: Regression and external information</p>
<p>Example used in this lab</p>
<p>Cam Calderon</p>
<p>2023-12-10</p>
<p>External Information - GDP~Investment+Consumption</p>
<ol type="1">
<li>Package Installation and Library Loading</li>
</ol>
</section>
</section>
<section id="install-forecast-package-for-time-series-analysis-and-forecasting-techniques" class="level1">
<h1>Install ‘forecast’ package for time series analysis and forecasting techniques</h1>
<p>#install.packages(“forecast”) # Load the ‘forecast’ library to access its functions library(forecast)</p>
<section id="registered-s3-method-overwritten-by-quantmod-5" class="level2">
<h2 class="anchored" data-anchor-id="registered-s3-method-overwritten-by-quantmod-5">Registered S3 method overwritten by ‘quantmod’:</h2>
</section>
<section id="method-from-5" class="level2">
<h2 class="anchored" data-anchor-id="method-from-5">method from</h2>
</section>
<section id="as.zoo.data.frame-zoo-5" class="level2">
<h2 class="anchored" data-anchor-id="as.zoo.data.frame-zoo-5">as.zoo.data.frame zoo</h2>
</section>
</section>
<section id="install-lubridate-package-for-easier-date-time-manipulation" class="level1">
<h1>Install ‘lubridate’ package for easier date-time manipulation</h1>
<p>#install.packages(“lubridate”) # Load the ‘lubridate’ library for working with dates library(lubridate)</p>
<section id="section-56" class="level2">
<h2 class="anchored" data-anchor-id="section-56"></h2>
</section>
<section id="attaching-package-lubridate" class="level2">
<h2 class="anchored" data-anchor-id="attaching-package-lubridate">Attaching package: ‘lubridate’</h2>
</section>
<section id="the-following-objects-are-masked-from-packagebase-1" class="level2">
<h2 class="anchored" data-anchor-id="the-following-objects-are-masked-from-packagebase-1">The following objects are masked from ‘package:base’:</h2>
</section>
<section id="section-57" class="level2">
<h2 class="anchored" data-anchor-id="section-57"></h2>
</section>
<section id="date-intersect-setdiff-union" class="level2">
<h2 class="anchored" data-anchor-id="date-intersect-setdiff-union">date, intersect, setdiff, union</h2>
</section>
</section>
<section id="load-the-readr-library-for-data-import-and-processing" class="level1">
<h1>Load the ‘readr’ library for data import and processing</h1>
<p>library(readr)</p>
<ol start="2" type="1">
<li>Reading and Preparing the Data</li>
</ol>
</section>
<section id="read-the-gdp-data-from-a-csv-file" class="level1">
<h1>Read the GDP data from a CSV file</h1>
<p>gdp.df &lt;- read_csv(“C:/Users/Cam/OneDrive - De Montfort University/a- BECS2002 2023-24 - PUBLIC/002 Datasets/gdp external info 3.csv”)</p>
<section id="rows-87-columns-4" class="level2">
<h2 class="anchored" data-anchor-id="rows-87-columns-4">Rows: 87 Columns: 4</h2>
</section>
<section id="column-specification" class="level2">
<h2 class="anchored" data-anchor-id="column-specification">── Column specification ────────────────────────────────────────────────────────</h2>
</section>
<section id="delimiter" class="level2">
<h2 class="anchored" data-anchor-id="delimiter">Delimiter: “,”</h2>
</section>
<section id="chr-1-date" class="level2">
<h2 class="anchored" data-anchor-id="chr-1-date">chr (1): date</h2>
</section>
<section id="dbl-3-gdp-invest-consu" class="level2">
<h2 class="anchored" data-anchor-id="dbl-3-gdp-invest-consu">dbl (3): gdp, invest, consu</h2>
</section>
<section id="section-58" class="level2">
<h2 class="anchored" data-anchor-id="section-58"></h2>
</section>
<section id="ℹ-use-spec-to-retrieve-the-full-column-specification-for-this-data." class="level2">
<h2 class="anchored" data-anchor-id="ℹ-use-spec-to-retrieve-the-full-column-specification-for-this-data.">ℹ Use <code>spec()</code> to retrieve the full column specification for this data.</h2>
</section>
<section id="ℹ-specify-the-column-types-or-set-show_col_types-false-to-quiet-this-message." class="level2">
<h2 class="anchored" data-anchor-id="ℹ-specify-the-column-types-or-set-show_col_types-false-to-quiet-this-message.">ℹ Specify the column types or set <code>show_col_types = FALSE</code> to quiet this message.</h2>
</section>
</section>
<section id="convert-the-date-column-to-date-format-for-time-series-analysis" class="level1">
<h1>Convert the ‘date’ column to Date format for time series analysis</h1>
<p>gdp.df<span class="math inline">\(Date &lt;- as.Date(gdp.df\)</span>date, format = “%d/%m/%Y”)</p>
</section>
<section id="combine-invest-and-consu-columns-as-a-data-frame-for-modeling" class="level1">
<h1>Combine ‘invest’ and ‘consu’ columns as a data frame for modeling</h1>
<p>x &lt;- as.data.frame(cbind(gdp.df<span class="math inline">\(invest, gdp.df\)</span>consu))</p>
</section>
<section id="assign-gdp-values-to-y" class="level1">
<h1>Assign GDP values to ‘y’</h1>
<p>y &lt;- gdp.df$gdp</p>
<ol start="3" type="1">
<li>Setting Up Training and Validation Sets</li>
</ol>
</section>
<section id="determine-the-number-of-total-and-validation-observations" class="level1">
<h1>Determine the number of total and validation observations</h1>
<p>nTotal &lt;- length(y) nValid &lt;- 20 nTrain &lt;- nTotal - nValid</p>
</section>
<section id="split-the-data-into-training-and-validation-sets-1" class="level1">
<h1>Split the data into training and validation sets</h1>
<p>xTrain &lt;- x[1:nTrain,] yTrain &lt;- y[1:nTrain] xValid &lt;- x[(nTrain + 1):nTotal,] yValid &lt;- y[(nTrain + 1):nTotal]</p>
<ol start="4" type="1">
<li>Time Series Model and Forecasting</li>
</ol>
</section>
<section id="convert-the-training-set-ytrain-into-a-time-series-object" class="level1">
<h1>Convert the training set ‘yTrain’ into a time series object</h1>
<p>yTrain.ts &lt;- ts(yTrain)</p>
</section>
<section id="create-a-formula-for-the-linear-model-including-trends-and-predictors" class="level1">
<h1>Create a formula for the linear model (including trends and predictors)</h1>
<p>formula &lt;- as.formula(paste(“yTrain.ts”, paste(c(“trend”, colnames(xTrain)), collapse = “+”), sep = “~”))</p>
</section>
<section id="fit-a-time-series-linear-model-tslm-to-the-training-data" class="level1">
<h1>Fit a time series linear model (tslm) to the training data</h1>
<p>gdp.tslm &lt;- tslm(formula, data = xTrain, lambda = 1)</p>
</section>
<section id="forecast-gdp-using-the-fitted-model-and-validation-predictors" class="level1">
<h1>Forecast GDP using the fitted model and validation predictors</h1>
<p>gdp.tslm.pred &lt;- forecast(gdp.tslm, newdata = xValid)</p>
</section>
<section id="plot-the-forecast-with-actual-data-for-comparison" class="level1">
<h1>Plot the forecast with actual data for comparison</h1>
<p>plot(gdp.tslm.pred, ylim = c(300000, 590000), xlab = “quarters”, ylab = “gdp”) lines(y)</p>
</section>
<section id="set-options-for-numeric-display" class="level1">
<h1>Set options for numeric display</h1>
<p>options(scipen = 999, digits=6)</p>
</section>
<section id="display-a-summary-of-the-fitted-time-series-linear-model" class="level1">
<h1>Display a summary of the fitted time series linear model</h1>
<p>summary(gdp.tslm)</p>
<section id="section-59" class="level2">
<h2 class="anchored" data-anchor-id="section-59"></h2>
</section>
<section id="call-7" class="level2">
<h2 class="anchored" data-anchor-id="call-7">Call:</h2>
</section>
<section id="tslmformula-formula-data-xtrain-lambda-1" class="level2">
<h2 class="anchored" data-anchor-id="tslmformula-formula-data-xtrain-lambda-1">tslm(formula = formula, data = xTrain, lambda = 1)</h2>
</section>
<section id="section-60" class="level2">
<h2 class="anchored" data-anchor-id="section-60"></h2>
</section>
<section id="residuals-7" class="level2">
<h2 class="anchored" data-anchor-id="residuals-7">Residuals:</h2>
</section>
<section id="min-1q-median-3q-max-6" class="level2">
<h2 class="anchored" data-anchor-id="min-1q-median-3q-max-6">Min 1Q Median 3Q Max</h2>
</section>
<section id="section-61" class="level2">
<h2 class="anchored" data-anchor-id="section-61">-11899 -2788 686 2740 8312</h2>
</section>
<section id="section-62" class="level2">
<h2 class="anchored" data-anchor-id="section-62"></h2>
</section>
<section id="coefficients-7" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-7">Coefficients:</h2>
</section>
<section id="estimate-std.-error-t-value-prt-7" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-t-value-prt-7">Estimate Std. Error t value Pr(&gt;|t|)</h2>
</section>
<section id="intercept-35376.01-17571.13-2.01-0.048" class="level2">
<h2 class="anchored" data-anchor-id="intercept-35376.01-17571.13-2.01-0.048">(Intercept) 35376.01 17571.13 2.01 0.048 *</h2>
</section>
<section id="trend--2949.99-213.33--13.83-0.0000000000000002" class="level2">
<h2 class="anchored" data-anchor-id="trend--2949.99-213.33--13.83-0.0000000000000002">trend -2949.99 213.33 -13.83 &lt; 0.0000000000000002 ***</h2>
</section>
<section id="v1--8.37-1.01--8.31-0.00000000001" class="level2">
<h2 class="anchored" data-anchor-id="v1--8.37-1.01--8.31-0.00000000001">V1 -8.37 1.01 -8.31 0.00000000001 ***</h2>
</section>
<section id="v2-2438.62-111.14-21.94-0.0000000000000002" class="level2">
<h2 class="anchored" data-anchor-id="v2-2438.62-111.14-21.94-0.0000000000000002">V2 2438.62 111.14 21.94 &lt; 0.0000000000000002 ***</h2>
</section>
<section id="section-63" class="level2">
<h2 class="anchored" data-anchor-id="section-63">—</h2>
</section>
<section id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-6" class="level2">
<h2 class="anchored" data-anchor-id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-6">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</h2>
</section>
<section id="section-64" class="level2">
<h2 class="anchored" data-anchor-id="section-64"></h2>
</section>
<section id="residual-standard-error-4350-on-63-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="residual-standard-error-4350-on-63-degrees-of-freedom">Residual standard error: 4350 on 63 degrees of freedom</h2>
</section>
<section id="multiple-r-squared-0.988-adjusted-r-squared-0.987" class="level2">
<h2 class="anchored" data-anchor-id="multiple-r-squared-0.988-adjusted-r-squared-0.987">Multiple R-squared: 0.988, Adjusted R-squared: 0.987</h2>
</section>
<section id="f-statistic-1.68e03-on-3-and-63-df-p-value-0.0000000000000002" class="level2">
<h2 class="anchored" data-anchor-id="f-statistic-1.68e03-on-3-and-63-df-p-value-0.0000000000000002">F-statistic: 1.68e+03 on 3 and 63 DF, p-value: &lt;0.0000000000000002</h2>
</section>
</section>
<section id="evaluate-the-accuracy-of-the-forecast" class="level1">
<h1>Evaluate the accuracy of the forecast</h1>
<p>accuracy(yValid, gdp.tslm.pred$mean)</p>
<section id="me-rmse-mae-mpe-mape-acf1-theils-u-4" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-acf1-theils-u-4">ME RMSE MAE MPE MAPE ACF1 Theil’s U</h2>
</section>
<section id="test-set-7372.67-13573.3-10878.3-1.38981-2.1273-0.847148-2.55948" class="level2">
<h2 class="anchored" data-anchor-id="test-set-7372.67-13573.3-10878.3-1.38981-2.1273-0.847148-2.55948">Test set 7372.67 13573.3 10878.3 1.38981 2.1273 0.847148 2.55948</h2>
<p>Lab 15: Binary forecast and logistic regression</p>
<p>Example – Binary Regression</p>
<p>Cam Calderon</p>
<p>2023-12-12</p>
</section>
</section>
<section id="install-and-load-necessary-packages" class="level1">
<h1>Install and load necessary packages</h1>
<p>#install.packages(“caret”) # Uncomment this line to install the caret package if not already installed library(caret) # Load the caret package for advanced data analysis</p>
<section id="warning-package-caret-was-built-under-r-version-4.3.2" class="level2">
<h2 class="anchored" data-anchor-id="warning-package-caret-was-built-under-r-version-4.3.2">Warning: package ‘caret’ was built under R version 4.3.2</h2>
</section>
<section id="loading-required-package-ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="loading-required-package-ggplot2">Loading required package: ggplot2</h2>
</section>
<section id="loading-required-package-lattice" class="level2">
<h2 class="anchored" data-anchor-id="loading-required-package-lattice">Loading required package: lattice</h2>
</section>
</section>
<section id="read-and-preprocess-the-data" class="level1">
<h1>Read and preprocess the data</h1>
<p>rain.df &lt;- read.csv(“C:/Users/Cam/OneDrive - De Montfort University/a- BECS2002 2023-24 - PUBLIC/002 Datasets/MelbourneRainfall.csv”) # Read the rainfall data from a CSV file rain.df<span class="math inline">\(Date &lt;- as.Date(rain.df\)</span>Date, format=“%d/%m/%Y”) # Convert the Date column to Date format rain.df<span class="math inline">\(Rainy &lt;- ifelse(rain.df\)</span>Rainfall &gt; 0, 1, 0) # Create a binary Rainy variable: 1 if Rainfall &gt; 0, otherwise 0</p>
</section>
<section id="create-lagged-and-seasonal-features" class="level1">
<h1>Create lagged and seasonal features</h1>
<p>nPeriods &lt;- length(rain.df<span class="math inline">\(Rainy) # Calculate the number of time periods in the dataset
rain.df\)</span>Lag1 &lt;- c(NA, rain.df<span class="math inline">\(Rainfall[1:(nPeriods-1)]) # Create a Lag1 feature representing the previous day's rainfall
rain.df\)</span>t &lt;- seq(1, nPeriods, 1) # Create a time index t rain.df<span class="math inline">\(Seasonal_sine = sin(2 * pi * rain.df\)</span>t / 365.25) # Create a seasonal sine feature rain.df<span class="math inline">\(Seasonal_cosine = cos(2 * pi * rain.df\)</span>t / 365.25) # Create a seasonal cosine feature</p>
</section>
<section id="split-the-data-into-training-and-validation-sets-2" class="level1">
<h1>Split the data into training and validation sets</h1>
<p>train.df &lt;- rain.df[rain.df<span class="math inline">\(Date &lt;= as.Date("31/12/2009", format="%d/%m/%Y"),] # Define the training set as data up to the end of 2009
train.df &lt;- train.df[-1,] # Remove the first row to avoid NA in Lag1
valid.df &lt;- rain.df[rain.df\)</span>Date &gt; as.Date(“31/12/2009”, format=“%d/%m/%Y”),] # Define the validation set as data from 2010 onwards xvalid &lt;- valid.df[, c(4,6,7)] # Select relevant columns for the validation set</p>
</section>
<section id="build-and-summarize-the-logistic-regression-model" class="level1">
<h1>Build and summarize the logistic regression model</h1>
<p>rainy.lr &lt;- glm(Rainy ~ Lag1 + Seasonal_sine + Seasonal_cosine, data = train.df, family = “binomial”) # Fit a logistic regression model summary(rainy.lr) # Display a summary of the model</p>
<section id="section-65" class="level2">
<h2 class="anchored" data-anchor-id="section-65"></h2>
</section>
<section id="call-8" class="level2">
<h2 class="anchored" data-anchor-id="call-8">Call:</h2>
</section>
<section id="glmformula-rainy-lag1-seasonal_sine-seasonal_cosine" class="level2">
<h2 class="anchored" data-anchor-id="glmformula-rainy-lag1-seasonal_sine-seasonal_cosine">glm(formula = Rainy ~ Lag1 + Seasonal_sine + Seasonal_cosine,</h2>
</section>
<section id="family-binomial-data-train.df" class="level2">
<h2 class="anchored" data-anchor-id="family-binomial-data-train.df">family = “binomial”, data = train.df)</h2>
</section>
<section id="section-66" class="level2">
<h2 class="anchored" data-anchor-id="section-66"></h2>
</section>
<section id="coefficients-8" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-8">Coefficients:</h2>
</section>
<section id="estimate-std.-error-z-value-prz" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-z-value-prz">Estimate Std. Error z value Pr(&gt;|z|)</h2>
</section>
<section id="intercept--0.76888-0.03858--19.927-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="intercept--0.76888-0.03858--19.927-2e-16">(Intercept) -0.76888 0.03858 -19.927 &lt; 2e-16 ***</h2>
</section>
<section id="lag1-0.11187-0.01137-9.843-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="lag1-0.11187-0.01137-9.843-2e-16">Lag1 0.11187 0.01137 9.843 &lt; 2e-16 ***</h2>
</section>
<section id="seasonal_sine--0.26885-0.05049--5.324-1.01e-07" class="level2">
<h2 class="anchored" data-anchor-id="seasonal_sine--0.26885-0.05049--5.324-1.01e-07">Seasonal_sine -0.26885 0.05049 -5.324 1.01e-07 ***</h2>
</section>
<section id="seasonal_cosine--0.37134-0.05067--7.328-2.33e-13" class="level2">
<h2 class="anchored" data-anchor-id="seasonal_cosine--0.37134-0.05067--7.328-2.33e-13">Seasonal_cosine -0.37134 0.05067 -7.328 2.33e-13 ***</h2>
</section>
<section id="section-67" class="level2">
<h2 class="anchored" data-anchor-id="section-67">—</h2>
</section>
<section id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-7" class="level2">
<h2 class="anchored" data-anchor-id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-7">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</h2>
</section>
<section id="section-68" class="level2">
<h2 class="anchored" data-anchor-id="section-68"></h2>
</section>
<section id="dispersion-parameter-for-binomial-family-taken-to-be-1" class="level2">
<h2 class="anchored" data-anchor-id="dispersion-parameter-for-binomial-family-taken-to-be-1">(Dispersion parameter for binomial family taken to be 1)</h2>
</section>
<section id="section-69" class="level2">
<h2 class="anchored" data-anchor-id="section-69"></h2>
</section>
<section id="null-deviance-4751.8-on-3651-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="null-deviance-4751.8-on-3651-degrees-of-freedom">Null deviance: 4751.8 on 3651 degrees of freedom</h2>
</section>
<section id="residual-deviance-4533.7-on-3648-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="residual-deviance-4533.7-on-3648-degrees-of-freedom">Residual deviance: 4533.7 on 3648 degrees of freedom</h2>
</section>
<section id="aic-4541.7" class="level2">
<h2 class="anchored" data-anchor-id="aic-4541.7">AIC: 4541.7</h2>
</section>
<section id="section-70" class="level2">
<h2 class="anchored" data-anchor-id="section-70"></h2>
</section>
<section id="number-of-fisher-scoring-iterations-4" class="level2">
<h2 class="anchored" data-anchor-id="number-of-fisher-scoring-iterations-4">Number of Fisher Scoring iterations: 4</h2>
</section>
</section>
<section id="make-predictions-and-evaluate-the-model" class="level1">
<h1>Make predictions and evaluate the model</h1>
<p>rainy.lr.pred &lt;- predict(rainy.lr, xvalid, type = “response”) # Make predictions on the validation set confusionMatrix(table(ifelse(rainy.lr<span class="math inline">\(fitted &gt; 0.5, 1, 0), train.df\)</span>Rainy)) # Confusion matrix for the training set</p>
<section id="confusion-matrix-and-statistics" class="level2">
<h2 class="anchored" data-anchor-id="confusion-matrix-and-statistics">Confusion Matrix and Statistics</h2>
</section>
<section id="section-71" class="level2">
<h2 class="anchored" data-anchor-id="section-71"></h2>
</section>
<section id="section-72" class="level2">
<h2 class="anchored" data-anchor-id="section-72"></h2>
</section>
<section id="section-73" class="level2">
<h2 class="anchored" data-anchor-id="section-73">0 1</h2>
</section>
<section id="section-74" class="level2">
<h2 class="anchored" data-anchor-id="section-74">0 2251 1115</h2>
</section>
<section id="section-75" class="level2">
<h2 class="anchored" data-anchor-id="section-75">1 104 182</h2>
</section>
<section id="section-76" class="level2">
<h2 class="anchored" data-anchor-id="section-76"></h2>
</section>
<section id="accuracy-0.6662" class="level2">
<h2 class="anchored" data-anchor-id="accuracy-0.6662">Accuracy : 0.6662</h2>
</section>
<section id="ci-0.6507-0.6815" class="level2">
<h2 class="anchored" data-anchor-id="ci-0.6507-0.6815">95% CI : (0.6507, 0.6815)</h2>
</section>
<section id="no-information-rate-0.6449" class="level2">
<h2 class="anchored" data-anchor-id="no-information-rate-0.6449">No Information Rate : 0.6449</h2>
</section>
<section id="p-value-acc-nir-0.003566" class="level2">
<h2 class="anchored" data-anchor-id="p-value-acc-nir-0.003566">P-Value [Acc &gt; NIR] : 0.003566</h2>
</section>
<section id="section-77" class="level2">
<h2 class="anchored" data-anchor-id="section-77"></h2>
</section>
<section id="kappa-0.1166" class="level2">
<h2 class="anchored" data-anchor-id="kappa-0.1166">Kappa : 0.1166</h2>
</section>
<section id="section-78" class="level2">
<h2 class="anchored" data-anchor-id="section-78"></h2>
</section>
<section id="mcnemars-test-p-value-2.2e-16" class="level2">
<h2 class="anchored" data-anchor-id="mcnemars-test-p-value-2.2e-16">Mcnemar’s Test P-Value : &lt; 2.2e-16</h2>
</section>
<section id="section-79" class="level2">
<h2 class="anchored" data-anchor-id="section-79"></h2>
</section>
<section id="sensitivity-0.9558" class="level2">
<h2 class="anchored" data-anchor-id="sensitivity-0.9558">Sensitivity : 0.9558</h2>
</section>
<section id="specificity-0.1403" class="level2">
<h2 class="anchored" data-anchor-id="specificity-0.1403">Specificity : 0.1403</h2>
</section>
<section id="pos-pred-value-0.6687" class="level2">
<h2 class="anchored" data-anchor-id="pos-pred-value-0.6687">Pos Pred Value : 0.6687</h2>
</section>
<section id="neg-pred-value-0.6364" class="level2">
<h2 class="anchored" data-anchor-id="neg-pred-value-0.6364">Neg Pred Value : 0.6364</h2>
</section>
<section id="prevalence-0.6449" class="level2">
<h2 class="anchored" data-anchor-id="prevalence-0.6449">Prevalence : 0.6449</h2>
</section>
<section id="detection-rate-0.6164" class="level2">
<h2 class="anchored" data-anchor-id="detection-rate-0.6164">Detection Rate : 0.6164</h2>
</section>
<section id="detection-prevalence-0.9217" class="level2">
<h2 class="anchored" data-anchor-id="detection-prevalence-0.9217">Detection Prevalence : 0.9217</h2>
</section>
<section id="balanced-accuracy-0.5481" class="level2">
<h2 class="anchored" data-anchor-id="balanced-accuracy-0.5481">Balanced Accuracy : 0.5481</h2>
</section>
<section id="section-80" class="level2">
<h2 class="anchored" data-anchor-id="section-80"></h2>
</section>
<section id="positive-class-0" class="level2">
<h2 class="anchored" data-anchor-id="positive-class-0">‘Positive’ Class : 0</h2>
</section>
<section id="section-81" class="level2">
<h2 class="anchored" data-anchor-id="section-81"></h2>
<p>confusionMatrix(table(ifelse(rainy.lr.pred &gt; 0.5, 1, 0), valid.df$Rainy)) # Confusion matrix for the validation set</p>
</section>
<section id="confusion-matrix-and-statistics-1" class="level2">
<h2 class="anchored" data-anchor-id="confusion-matrix-and-statistics-1">Confusion Matrix and Statistics</h2>
</section>
<section id="section-82" class="level2">
<h2 class="anchored" data-anchor-id="section-82"></h2>
</section>
<section id="section-83" class="level2">
<h2 class="anchored" data-anchor-id="section-83"></h2>
</section>
<section id="section-84" class="level2">
<h2 class="anchored" data-anchor-id="section-84">0 1</h2>
</section>
<section id="section-85" class="level2">
<h2 class="anchored" data-anchor-id="section-85">0 373 220</h2>
</section>
<section id="section-86" class="level2">
<h2 class="anchored" data-anchor-id="section-86">1 21 55</h2>
</section>
<section id="section-87" class="level2">
<h2 class="anchored" data-anchor-id="section-87"></h2>
</section>
<section id="accuracy-0.6398" class="level2">
<h2 class="anchored" data-anchor-id="accuracy-0.6398">Accuracy : 0.6398</h2>
</section>
<section id="ci-0.6021-0.6762" class="level2">
<h2 class="anchored" data-anchor-id="ci-0.6021-0.6762">95% CI : (0.6021, 0.6762)</h2>
</section>
<section id="no-information-rate-0.5889" class="level2">
<h2 class="anchored" data-anchor-id="no-information-rate-0.5889">No Information Rate : 0.5889</h2>
</section>
<section id="p-value-acc-nir-0.004043" class="level2">
<h2 class="anchored" data-anchor-id="p-value-acc-nir-0.004043">P-Value [Acc &gt; NIR] : 0.004043</h2>
</section>
<section id="section-88" class="level2">
<h2 class="anchored" data-anchor-id="section-88"></h2>
</section>
<section id="kappa-0.1647" class="level2">
<h2 class="anchored" data-anchor-id="kappa-0.1647">Kappa : 0.1647</h2>
</section>
<section id="section-89" class="level2">
<h2 class="anchored" data-anchor-id="section-89"></h2>
</section>
<section id="mcnemars-test-p-value-2.2e-16-1" class="level2">
<h2 class="anchored" data-anchor-id="mcnemars-test-p-value-2.2e-16-1">Mcnemar’s Test P-Value : &lt; 2.2e-16</h2>
</section>
<section id="section-90" class="level2">
<h2 class="anchored" data-anchor-id="section-90"></h2>
</section>
<section id="sensitivity-0.9467" class="level2">
<h2 class="anchored" data-anchor-id="sensitivity-0.9467">Sensitivity : 0.9467</h2>
</section>
<section id="specificity-0.2000" class="level2">
<h2 class="anchored" data-anchor-id="specificity-0.2000">Specificity : 0.2000</h2>
</section>
<section id="pos-pred-value-0.6290" class="level2">
<h2 class="anchored" data-anchor-id="pos-pred-value-0.6290">Pos Pred Value : 0.6290</h2>
</section>
<section id="neg-pred-value-0.7237" class="level2">
<h2 class="anchored" data-anchor-id="neg-pred-value-0.7237">Neg Pred Value : 0.7237</h2>
</section>
<section id="prevalence-0.5889" class="level2">
<h2 class="anchored" data-anchor-id="prevalence-0.5889">Prevalence : 0.5889</h2>
</section>
<section id="detection-rate-0.5575" class="level2">
<h2 class="anchored" data-anchor-id="detection-rate-0.5575">Detection Rate : 0.5575</h2>
</section>
<section id="detection-prevalence-0.8864" class="level2">
<h2 class="anchored" data-anchor-id="detection-prevalence-0.8864">Detection Prevalence : 0.8864</h2>
</section>
<section id="balanced-accuracy-0.5734" class="level2">
<h2 class="anchored" data-anchor-id="balanced-accuracy-0.5734">Balanced Accuracy : 0.5734</h2>
</section>
<section id="section-91" class="level2">
<h2 class="anchored" data-anchor-id="section-91"></h2>
</section>
<section id="positive-class-0-1" class="level2">
<h2 class="anchored" data-anchor-id="positive-class-0-1">‘Positive’ Class : 0</h2>
</section>
<section id="section-92" class="level2">
<h2 class="anchored" data-anchor-id="section-92"></h2>
<p>Understanding the Confusion Matrix</p>
<p>A confusion matrix is a table used to evaluate the performance of a classification model. It summarizes the number of correct and incorrect predictions, comparing the actual values with the model’s predictions. It’s particularly useful for understanding the performance of a model in binary classification tasks.</p>
<p>The key terms in a confusion matrix are:</p>
<p>True Positives (TP): Correctly predicted positive observations.</p>
<p>True Negatives (TN): Correctly predicted negative observations.</p>
<p>False Positives (FP): Incorrectly predicted positive observations (Type I error).</p>
<p>False Negatives (FN): Incorrectly predicted negative observations (Type II error).</p>
<p>Key Points to Discuss</p>
<p>Accuracy: This is the proportion of total correct predictions (both true positives and true negatives) out of all predictions. It’s a good measure when the classes are balanced but can be misleading when dealing with imbalanced classes.</p>
<p>Sensitivity (Recall): This indicates how well the model is at predicting positive class. High sensitivity means the model is good at catching positives but might also have more false positives.</p>
<p>Specificity: This is about identifying negatives. A high specificity means the model is good at avoiding false positives but might miss some positives (false negatives).</p>
<p>Precision (Positive Predictive Value): This tells you how many of the positive predictions were actually positive.</p>
<p>Negative Predictive Value: This is about the proportion of negatives that were correctly identified.</p>
<p>Balance Between Sensitivity and Specificity: Ideally, a model should have a good balance between sensitivity and specificity. However, depending on the application, you might prefer one over the other (e.g., in medical diagnostics, high sensitivity might be preferred).</p>
<p>Differences Between Training and Validation Results: It’s essential to compare the performance on the training set and the validation set to check for overfitting. If a model performs significantly better on the training set than on the validation set, it might be overfitted.</p>
<p>Lab 16: Neural Networks I</p>
<p>Cam Calderon</p>
<p>2023-12-12</p>
<p>NEURAL NETS</p>
</section>
</section>
<section id="load-the-readxl-library-for-reading-excel-files" class="level1">
<h1>Load the ‘readxl’ library for reading Excel files</h1>
<p>library(readxl)</p>
</section>
<section id="read-the-gbpusd-exchange-rate-data-from-an-excel-file" class="level1">
<h1>Read the GBP/USD exchange rate data from an Excel file</h1>
<p>GBPUSD &lt;- read_excel(“C:/Users/Cam/OneDrive - De Montfort University/a- BECS2002 2023-24 - PUBLIC/002 Datasets/GBBUSD.xlsx”)</p>
</section>
<section id="convert-the-data-to-a-time-series-object-starting-from-dec-2003-to-dec-2023-with-monthly-frequency" class="level1">
<h1>Convert the data to a time series object starting from Dec 2003 to Dec 2023 with monthly frequency</h1>
<p>GBPUSD.ts &lt;- ts(GBPUSD$gbpusd, start = c(2003,12), end = c(2023, 12), freq = 12)</p>
</section>
<section id="load-the-forecast-library-for-time-series-forecasting" class="level1">
<h1>Load the ‘forecast’ library for time series forecasting</h1>
<p>library(forecast)</p>
<section id="registered-s3-method-overwritten-by-quantmod-6" class="level2">
<h2 class="anchored" data-anchor-id="registered-s3-method-overwritten-by-quantmod-6">Registered S3 method overwritten by ‘quantmod’:</h2>
</section>
<section id="method-from-6" class="level2">
<h2 class="anchored" data-anchor-id="method-from-6">method from</h2>
</section>
<section id="as.zoo.data.frame-zoo-6" class="level2">
<h2 class="anchored" data-anchor-id="as.zoo.data.frame-zoo-6">as.zoo.data.frame zoo</h2>
</section>
</section>
<section id="plot-the-time-series-data" class="level1">
<h1>Plot the time series data</h1>
<p>plot(GBPUSD.ts, xlab = “Year”, ylab = “Exchange rate”, main = “GBP/USD”)</p>
</section>
<section id="set-the-number-of-steps-to-forecast-ahead" class="level1">
<h1>Set the number of steps to forecast ahead</h1>
<p>stepsAhead &lt;- 12</p>
</section>
<section id="calculate-the-length-of-the-training-dataset" class="level1">
<h1>Calculate the length of the training dataset</h1>
<p>nTrain &lt;- length(GBPUSD.ts) - stepsAhead</p>
</section>
<section id="create-a-training-time-series-dataset" class="level1">
<h1>Create a training time series dataset</h1>
<p>train.ts &lt;- window(GBPUSD.ts, start = c(2003, 12), end = c(2003,nTrain+11))</p>
</section>
<section id="create-a-validation-time-series-dataset" class="level1">
<h1>Create a validation time series dataset</h1>
<p>valid.ts &lt;- window(GBPUSD.ts, start = c(2003, nTrain + 12), end = c(2003, nTrain + stepsAhead+11))</p>
</section>
<section id="build-a-linear-model-with-trend-and-seasonality-for-the-training-dataset" class="level1">
<h1>Build a linear model with trend and seasonality for the training dataset</h1>
<p>train.lm.trend.season &lt;- tslm(train.ts ~ trend + I(trend^2) + season)</p>
</section>
<section id="display-summary-statistics-of-the-model" class="level1">
<h1>Display summary statistics of the model</h1>
<p>summary(train.lm.trend.season)</p>
<section id="section-93" class="level2">
<h2 class="anchored" data-anchor-id="section-93"></h2>
</section>
<section id="call-9" class="level2">
<h2 class="anchored" data-anchor-id="call-9">Call:</h2>
</section>
<section id="tslmformula-train.ts-trend-itrend2-season-5" class="level2">
<h2 class="anchored" data-anchor-id="tslmformula-train.ts-trend-itrend2-season-5">tslm(formula = train.ts ~ trend + I(trend^2) + season)</h2>
</section>
<section id="section-94" class="level2">
<h2 class="anchored" data-anchor-id="section-94"></h2>
</section>
<section id="residuals-8" class="level2">
<h2 class="anchored" data-anchor-id="residuals-8">Residuals:</h2>
</section>
<section id="min-1q-median-3q-max-7" class="level2">
<h2 class="anchored" data-anchor-id="min-1q-median-3q-max-7">Min 1Q Median 3Q Max</h2>
</section>
<section id="section-95" class="level2">
<h2 class="anchored" data-anchor-id="section-95">-0.28243 -0.07537 -0.01590 0.06872 0.30900</h2>
</section>
<section id="section-96" class="level2">
<h2 class="anchored" data-anchor-id="section-96"></h2>
</section>
<section id="coefficients-9" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-9">Coefficients:</h2>
</section>
<section id="estimate-std.-error-t-value-prt-8" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-t-value-prt-8">Estimate Std. Error t value Pr(&gt;|t|)</h2>
</section>
<section id="intercept-1.937e00-3.433e-02-56.428-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="intercept-1.937e00-3.433e-02-56.428-2e-16">(Intercept) 1.937e+00 3.433e-02 56.428 &lt; 2e-16 ***</h2>
</section>
<section id="trend--3.660e-03-4.667e-04--7.842-2.04e-13" class="level2">
<h2 class="anchored" data-anchor-id="trend--3.660e-03-4.667e-04--7.842-2.04e-13">trend -3.660e-03 4.667e-04 -7.842 2.04e-13 ***</h2>
</section>
<section id="itrend2-2.217e-06-1.965e-06-1.128-0.261" class="level2">
<h2 class="anchored" data-anchor-id="itrend2-2.217e-06-1.965e-06-1.128-0.261">I(trend^2) 2.217e-06 1.965e-06 1.128 0.261</h2>
</section>
<section id="season2--1.862e-03-3.769e-02--0.049-0.961" class="level2">
<h2 class="anchored" data-anchor-id="season2--1.862e-03-3.769e-02--0.049-0.961">season2 -1.862e-03 3.769e-02 -0.049 0.961</h2>
</section>
<section id="season3--7.891e-03-3.769e-02--0.209-0.834" class="level2">
<h2 class="anchored" data-anchor-id="season3--7.891e-03-3.769e-02--0.209-0.834">season3 -7.891e-03 3.769e-02 -0.209 0.834</h2>
</section>
<section id="season4-1.260e-02-3.769e-02-0.334-0.739" class="level2">
<h2 class="anchored" data-anchor-id="season4-1.260e-02-3.769e-02-0.334-0.739">season4 1.260e-02 3.769e-02 0.334 0.739</h2>
</section>
<section id="season5-5.390e-03-3.769e-02-0.143-0.886" class="level2">
<h2 class="anchored" data-anchor-id="season5-5.390e-03-3.769e-02-0.143-0.886">season5 5.390e-03 3.769e-02 0.143 0.886</h2>
</section>
<section id="season6-5.085e-03-3.769e-02-0.135-0.893" class="level2">
<h2 class="anchored" data-anchor-id="season6-5.085e-03-3.769e-02-0.135-0.893">season6 5.085e-03 3.769e-02 0.135 0.893</h2>
</section>
<section id="season7-1.468e-02-3.770e-02-0.389-0.697" class="level2">
<h2 class="anchored" data-anchor-id="season7-1.468e-02-3.770e-02-0.389-0.697">season7 1.468e-02 3.770e-02 0.389 0.697</h2>
</section>
<section id="season8-1.776e-03-3.770e-02-0.047-0.962" class="level2">
<h2 class="anchored" data-anchor-id="season8-1.776e-03-3.770e-02-0.047-0.962">season8 1.776e-03 3.770e-02 0.047 0.962</h2>
</section>
<section id="season9--3.495e-03-3.770e-02--0.093-0.926" class="level2">
<h2 class="anchored" data-anchor-id="season9--3.495e-03-3.770e-02--0.093-0.926">season9 -3.495e-03 3.770e-02 -0.093 0.926</h2>
</section>
<section id="season10-2.450e-03-3.770e-02-0.065-0.948" class="level2">
<h2 class="anchored" data-anchor-id="season10-2.450e-03-3.770e-02-0.065-0.948">season10 2.450e-03 3.770e-02 0.065 0.948</h2>
</section>
<section id="season11-3.764e-03-3.771e-02-0.100-0.921" class="level2">
<h2 class="anchored" data-anchor-id="season11-3.764e-03-3.771e-02-0.100-0.921">season11 3.764e-03 3.771e-02 0.100 0.921</h2>
</section>
<section id="season12--6.615e-03-3.723e-02--0.178-0.859" class="level2">
<h2 class="anchored" data-anchor-id="season12--6.615e-03-3.723e-02--0.178-0.859">season12 -6.615e-03 3.723e-02 -0.178 0.859</h2>
</section>
<section id="section-97" class="level2">
<h2 class="anchored" data-anchor-id="section-97">—</h2>
</section>
<section id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-8" class="level2">
<h2 class="anchored" data-anchor-id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-8">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</h2>
</section>
<section id="section-98" class="level2">
<h2 class="anchored" data-anchor-id="section-98"></h2>
</section>
<section id="residual-standard-error-0.1162-on-215-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="residual-standard-error-0.1162-on-215-degrees-of-freedom">Residual standard error: 0.1162 on 215 degrees of freedom</h2>
</section>
<section id="multiple-r-squared-0.7743-adjusted-r-squared-0.7606" class="level2">
<h2 class="anchored" data-anchor-id="multiple-r-squared-0.7743-adjusted-r-squared-0.7606">Multiple R-squared: 0.7743, Adjusted R-squared: 0.7606</h2>
</section>
<section id="f-statistic-56.73-on-13-and-215-df-p-value-2.2e-16" class="level2">
<h2 class="anchored" data-anchor-id="f-statistic-56.73-on-13-and-215-df-p-value-2.2e-16">F-statistic: 56.73 on 13 and 215 DF, p-value: &lt; 2.2e-16</h2>
</section>
</section>
<section id="build-a-simpler-linear-model-with-only-trend-for-the-training-dataset" class="level1">
<h1>Build a simpler linear model with only trend for the training dataset</h1>
<p>train.lm.trend.season &lt;- tslm(train.ts ~ trend)</p>
</section>
<section id="display-summary-statistics-of-the-simpler-model" class="level1">
<h1>Display summary statistics of the simpler model</h1>
<p>summary(train.lm.trend.season)</p>
<section id="section-99" class="level2">
<h2 class="anchored" data-anchor-id="section-99"></h2>
</section>
<section id="call-10" class="level2">
<h2 class="anchored" data-anchor-id="call-10">Call:</h2>
</section>
<section id="tslmformula-train.ts-trend" class="level2">
<h2 class="anchored" data-anchor-id="tslmformula-train.ts-trend">tslm(formula = train.ts ~ trend)</h2>
</section>
<section id="section-100" class="level2">
<h2 class="anchored" data-anchor-id="section-100"></h2>
</section>
<section id="residuals-9" class="level2">
<h2 class="anchored" data-anchor-id="residuals-9">Residuals:</h2>
</section>
<section id="min-1q-median-3q-max-8" class="level2">
<h2 class="anchored" data-anchor-id="min-1q-median-3q-max-8">Min 1Q Median 3Q Max</h2>
</section>
<section id="section-101" class="level2">
<h2 class="anchored" data-anchor-id="section-101">-0.29007 -0.07364 -0.01599 0.05980 0.30994</h2>
</section>
<section id="section-102" class="level2">
<h2 class="anchored" data-anchor-id="section-102"></h2>
</section>
<section id="coefficients-10" class="level2">
<h2 class="anchored" data-anchor-id="coefficients-10">Coefficients:</h2>
</section>
<section id="estimate-std.-error-t-value-prt-9" class="level2">
<h2 class="anchored" data-anchor-id="estimate-std.-error-t-value-prt-9">Estimate Std. Error t value Pr(&gt;|t|)</h2>
</section>
<section id="intercept-1.9193772-0.0150599-127.45-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="intercept-1.9193772-0.0150599-127.45-2e-16">(Intercept) 1.9193772 0.0150599 127.45 &lt;2e-16 ***</h2>
</section>
<section id="trend--0.0031494-0.0001135--27.74-2e-16" class="level2">
<h2 class="anchored" data-anchor-id="trend--0.0031494-0.0001135--27.74-2e-16">trend -0.0031494 0.0001135 -27.74 &lt;2e-16 ***</h2>
</section>
<section id="section-103" class="level2">
<h2 class="anchored" data-anchor-id="section-103">—</h2>
</section>
<section id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-9" class="level2">
<h2 class="anchored" data-anchor-id="signif.-codes-0-0.001-0.01-0.05-.-0.1-1-9">Signif. codes: 0 ‘<em><strong>’ 0.001 ’</strong>’ 0.01 ’</em>’ 0.05 ‘.’ 0.1 ’ ’ 1</h2>
</section>
<section id="section-104" class="level2">
<h2 class="anchored" data-anchor-id="section-104"></h2>
</section>
<section id="residual-standard-error-0.1136-on-227-degrees-of-freedom" class="level2">
<h2 class="anchored" data-anchor-id="residual-standard-error-0.1136-on-227-degrees-of-freedom">Residual standard error: 0.1136 on 227 degrees of freedom</h2>
</section>
<section id="multiple-r-squared-0.7722-adjusted-r-squared-0.7712" class="level2">
<h2 class="anchored" data-anchor-id="multiple-r-squared-0.7722-adjusted-r-squared-0.7712">Multiple R-squared: 0.7722, Adjusted R-squared: 0.7712</h2>
</section>
<section id="f-statistic-769.5-on-1-and-227-df-p-value-2.2e-16" class="level2">
<h2 class="anchored" data-anchor-id="f-statistic-769.5-on-1-and-227-df-p-value-2.2e-16">F-statistic: 769.5 on 1 and 227 DF, p-value: &lt; 2.2e-16</h2>
</section>
</section>
<section id="predict-future-values-using-the-simpler-model" class="level1">
<h1>Predict future values using the simpler model</h1>
<p>train.lm.t.s.pred &lt;- forecast(train.lm.trend.season, h = stepsAhead, level = 0)</p>
</section>
<section id="plot-the-forecasted-values" class="level1">
<h1>Plot the forecasted values</h1>
<p>plot(train.lm.t.s.pred, ylim = c(1,2.2), ylab = “GBP/USD”, xlab = “Year”, bty = “l”, xaxt = “n”, xlim = c(2003,2025), main =“Quarterly value change”, flty = 2)</p>
</section>
<section id="add-custom-year-axis" class="level1">
<h1>Add custom year axis</h1>
<p>axis(1, at = seq(2003, 2025, 1), labels = format(seq(2003, 2025, 1)))</p>
</section>
<section id="add-lines-to-the-plot-for-the-fitted-and-actual-values" class="level1">
<h1>Add lines to the plot for the fitted and actual values</h1>
<p>lines(train.lm.t.s.pred$fitted, lwd = 2, col = “blue”) lines(valid.ts)</p>
</section>
<section id="forecast-the-next-12-time-points-and-calculate-accuracy" class="level1">
<h1>Forecast the next 12 time points and calculate accuracy</h1>
<p>fcast &lt;- forecast(train.lm.trend.season, h=12) accuracy(fcast$mean, valid.ts)</p>
<section id="me-rmse-mae-mpe-mape-acf1-theils-u-5" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-acf1-theils-u-5">ME RMSE MAE MPE MAPE ACF1 Theil’s U</h2>
</section>
<section id="test-set-0.0675716-0.07356447-0.0675716-5.38607-5.38607-0.4909296-2.734794" class="level2">
<h2 class="anchored" data-anchor-id="test-set-0.0675716-0.07356447-0.0675716-5.38607-5.38607-0.4909296-2.734794">Test set 0.0675716 0.07356447 0.0675716 5.38607 5.38607 0.4909296 2.734794</h2>
</section>
</section>
<section id="set-a-random-seed-for-reproducibility" class="level1">
<h1>Set a random seed for reproducibility</h1>
<p>set.seed(201)</p>
</section>
<section id="build-a-neural-network-model-for-time-series-forecasting" class="level1">
<h1>Build a neural network model for time series forecasting</h1>
<p>GBPUSD.nnetar &lt;- nnetar(train.ts, repeats = 20, p = 11, P = 1, size = 7)</p>
</section>
<section id="display-summary-of-the-neural-network-model" class="level1">
<h1>Display summary of the neural network model</h1>
<p>summary(GBPUSD.nnetar$model[[1]])</p>
<section id="a-12-7-1-network-with-99-weights" class="level2">
<h2 class="anchored" data-anchor-id="a-12-7-1-network-with-99-weights">a 12-7-1 network with 99 weights</h2>
</section>
<section id="options-were---linear-output-units" class="level2">
<h2 class="anchored" data-anchor-id="options-were---linear-output-units">options were - linear output units</h2>
</section>
<section id="b-h1-i1-h1-i2-h1-i3-h1-i4-h1-i5-h1-i6-h1-i7-h1-i8-h1-i9-h1" class="level2">
<h2 class="anchored" data-anchor-id="b-h1-i1-h1-i2-h1-i3-h1-i4-h1-i5-h1-i6-h1-i7-h1-i8-h1-i9-h1">b-&gt;h1 i1-&gt;h1 i2-&gt;h1 i3-&gt;h1 i4-&gt;h1 i5-&gt;h1 i6-&gt;h1 i7-&gt;h1 i8-&gt;h1 i9-&gt;h1</h2>
</section>
<section id="section-105" class="level2">
<h2 class="anchored" data-anchor-id="section-105">-0.20 -0.21 -1.60 0.43 0.53 0.31 -0.81 -0.86 -1.79 -0.34</h2>
</section>
<section id="i10-h1-i11-h1-i12-h1" class="level2">
<h2 class="anchored" data-anchor-id="i10-h1-i11-h1-i12-h1">i10-&gt;h1 i11-&gt;h1 i12-&gt;h1</h2>
</section>
<section id="section-106" class="level2">
<h2 class="anchored" data-anchor-id="section-106">2.56 1.38 0.82</h2>
</section>
<section id="b-h2-i1-h2-i2-h2-i3-h2-i4-h2-i5-h2-i6-h2-i7-h2-i8-h2-i9-h2" class="level2">
<h2 class="anchored" data-anchor-id="b-h2-i1-h2-i2-h2-i3-h2-i4-h2-i5-h2-i6-h2-i7-h2-i8-h2-i9-h2">b-&gt;h2 i1-&gt;h2 i2-&gt;h2 i3-&gt;h2 i4-&gt;h2 i5-&gt;h2 i6-&gt;h2 i7-&gt;h2 i8-&gt;h2 i9-&gt;h2</h2>
</section>
<section id="section-107" class="level2">
<h2 class="anchored" data-anchor-id="section-107">-2.55 -2.86 -3.25 0.16 -4.35 5.22 3.62 1.75 0.42 -4.16</h2>
</section>
<section id="i10-h2-i11-h2-i12-h2" class="level2">
<h2 class="anchored" data-anchor-id="i10-h2-i11-h2-i12-h2">i10-&gt;h2 i11-&gt;h2 i12-&gt;h2</h2>
</section>
<section id="section-108" class="level2">
<h2 class="anchored" data-anchor-id="section-108">0.31 -1.71 1.05</h2>
</section>
<section id="b-h3-i1-h3-i2-h3-i3-h3-i4-h3-i5-h3-i6-h3-i7-h3-i8-h3-i9-h3" class="level2">
<h2 class="anchored" data-anchor-id="b-h3-i1-h3-i2-h3-i3-h3-i4-h3-i5-h3-i6-h3-i7-h3-i8-h3-i9-h3">b-&gt;h3 i1-&gt;h3 i2-&gt;h3 i3-&gt;h3 i4-&gt;h3 i5-&gt;h3 i6-&gt;h3 i7-&gt;h3 i8-&gt;h3 i9-&gt;h3</h2>
</section>
<section id="section-109" class="level2">
<h2 class="anchored" data-anchor-id="section-109">0.39 -0.33 0.72 -0.95 0.67 -1.03 -0.41 0.02 0.38 -0.35</h2>
</section>
<section id="i10-h3-i11-h3-i12-h3" class="level2">
<h2 class="anchored" data-anchor-id="i10-h3-i11-h3-i12-h3">i10-&gt;h3 i11-&gt;h3 i12-&gt;h3</h2>
</section>
<section id="section-110" class="level2">
<h2 class="anchored" data-anchor-id="section-110">0.48 -0.58 -0.71</h2>
</section>
<section id="b-h4-i1-h4-i2-h4-i3-h4-i4-h4-i5-h4-i6-h4-i7-h4-i8-h4-i9-h4" class="level2">
<h2 class="anchored" data-anchor-id="b-h4-i1-h4-i2-h4-i3-h4-i4-h4-i5-h4-i6-h4-i7-h4-i8-h4-i9-h4">b-&gt;h4 i1-&gt;h4 i2-&gt;h4 i3-&gt;h4 i4-&gt;h4 i5-&gt;h4 i6-&gt;h4 i7-&gt;h4 i8-&gt;h4 i9-&gt;h4</h2>
</section>
<section id="section-111" class="level2">
<h2 class="anchored" data-anchor-id="section-111">0.61 0.24 2.34 -0.75 -3.61 2.74 2.16 -3.91 -1.23 0.60</h2>
</section>
<section id="i10-h4-i11-h4-i12-h4" class="level2">
<h2 class="anchored" data-anchor-id="i10-h4-i11-h4-i12-h4">i10-&gt;h4 i11-&gt;h4 i12-&gt;h4</h2>
</section>
<section id="section-112" class="level2">
<h2 class="anchored" data-anchor-id="section-112">0.65 1.43 2.42</h2>
</section>
<section id="b-h5-i1-h5-i2-h5-i3-h5-i4-h5-i5-h5-i6-h5-i7-h5-i8-h5-i9-h5" class="level2">
<h2 class="anchored" data-anchor-id="b-h5-i1-h5-i2-h5-i3-h5-i4-h5-i5-h5-i6-h5-i7-h5-i8-h5-i9-h5">b-&gt;h5 i1-&gt;h5 i2-&gt;h5 i3-&gt;h5 i4-&gt;h5 i5-&gt;h5 i6-&gt;h5 i7-&gt;h5 i8-&gt;h5 i9-&gt;h5</h2>
</section>
<section id="section-113" class="level2">
<h2 class="anchored" data-anchor-id="section-113">-0.51 -1.65 -1.27 0.91 -1.55 1.61 0.79 2.00 0.63 -0.91</h2>
</section>
<section id="i10-h5-i11-h5-i12-h5" class="level2">
<h2 class="anchored" data-anchor-id="i10-h5-i11-h5-i12-h5">i10-&gt;h5 i11-&gt;h5 i12-&gt;h5</h2>
</section>
<section id="section-114" class="level2">
<h2 class="anchored" data-anchor-id="section-114">-1.46 0.40 -0.58</h2>
</section>
<section id="b-h6-i1-h6-i2-h6-i3-h6-i4-h6-i5-h6-i6-h6-i7-h6-i8-h6-i9-h6" class="level2">
<h2 class="anchored" data-anchor-id="b-h6-i1-h6-i2-h6-i3-h6-i4-h6-i5-h6-i6-h6-i7-h6-i8-h6-i9-h6">b-&gt;h6 i1-&gt;h6 i2-&gt;h6 i3-&gt;h6 i4-&gt;h6 i5-&gt;h6 i6-&gt;h6 i7-&gt;h6 i8-&gt;h6 i9-&gt;h6</h2>
</section>
<section id="section-115" class="level2">
<h2 class="anchored" data-anchor-id="section-115">0.28 -0.55 4.71 -1.40 -0.90 -0.95 2.54 -0.73 4.05 0.77</h2>
</section>
<section id="i10-h6-i11-h6-i12-h6" class="level2">
<h2 class="anchored" data-anchor-id="i10-h6-i11-h6-i12-h6">i10-&gt;h6 i11-&gt;h6 i12-&gt;h6</h2>
</section>
<section id="section-116" class="level2">
<h2 class="anchored" data-anchor-id="section-116">-5.06 -3.66 -0.12</h2>
</section>
<section id="b-h7-i1-h7-i2-h7-i3-h7-i4-h7-i5-h7-i6-h7-i7-h7-i8-h7-i9-h7" class="level2">
<h2 class="anchored" data-anchor-id="b-h7-i1-h7-i2-h7-i3-h7-i4-h7-i5-h7-i6-h7-i7-h7-i8-h7-i9-h7">b-&gt;h7 i1-&gt;h7 i2-&gt;h7 i3-&gt;h7 i4-&gt;h7 i5-&gt;h7 i6-&gt;h7 i7-&gt;h7 i8-&gt;h7 i9-&gt;h7</h2>
</section>
<section id="section-117" class="level2">
<h2 class="anchored" data-anchor-id="section-117">3.25 -3.75 4.04 -0.45 -4.41 -1.99 2.81 -5.32 7.86 -6.64</h2>
</section>
<section id="i10-h7-i11-h7-i12-h7" class="level2">
<h2 class="anchored" data-anchor-id="i10-h7-i11-h7-i12-h7">i10-&gt;h7 i11-&gt;h7 i12-&gt;h7</h2>
</section>
<section id="section-118" class="level2">
<h2 class="anchored" data-anchor-id="section-118">2.48 -4.27 -0.53</h2>
</section>
<section id="b-o-h1-o-h2-o-h3-o-h4-o-h5-o-h6-o-h7-o" class="level2">
<h2 class="anchored" data-anchor-id="b-o-h1-o-h2-o-h3-o-h4-o-h5-o-h6-o-h7-o">b-&gt;o h1-&gt;o h2-&gt;o h3-&gt;o h4-&gt;o h5-&gt;o h6-&gt;o h7-&gt;o</h2>
</section>
<section id="section-119" class="level2">
<h2 class="anchored" data-anchor-id="section-119">4.37 -2.82 0.67 -3.29 -0.38 -2.34 -1.36 0.72</h2>
</section>
</section>
<section id="predict-future-values-using-the-neural-network-model" class="level1">
<h1>Predict future values using the neural network model</h1>
<p>GBPUSD.nnetar.pred &lt;- forecast(GBPUSD.nnetar, h = stepsAhead)</p>
</section>
<section id="calculate-accuracy-of-the-neural-network-predictions" class="level1">
<h1>Calculate accuracy of the neural network predictions</h1>
<p>accuracy(GBPUSD.nnetar.pred, valid.ts)</p>
<section id="me-rmse-mae-mpe-mape-5" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-5">ME RMSE MAE MPE MAPE</h2>
</section>
<section id="training-set-0.0001190531-0.02059234-0.0153757--0.01928677-1.026308" class="level2">
<h2 class="anchored" data-anchor-id="training-set-0.0001190531-0.02059234-0.0153757--0.01928677-1.026308">Training set 0.0001190531 0.02059234 0.0153757 -0.01928677 1.026308</h2>
</section>
<section id="test-set--0.1579077603-0.19391569-0.1580158--12.68557381-12.694344" class="level2">
<h2 class="anchored" data-anchor-id="test-set--0.1579077603-0.19391569-0.1580158--12.68557381-12.694344">Test set -0.1579077603 0.19391569 0.1580158 -12.68557381 12.694344</h2>
</section>
<section id="mase-acf1-theils-u" class="level2">
<h2 class="anchored" data-anchor-id="mase-acf1-theils-u">MASE ACF1 Theil’s U</h2>
</section>
<section id="training-set-0.1371076-0.01308142-na" class="level2">
<h2 class="anchored" data-anchor-id="training-set-0.1371076-0.01308142-na">Training set 0.1371076 0.01308142 NA</h2>
</section>
<section id="test-set-1.4090524-0.76056006-7.320825" class="level2">
<h2 class="anchored" data-anchor-id="test-set-1.4090524-0.76056006-7.320825">Test set 1.4090524 0.76056006 7.320825</h2>
</section>
</section>
<section id="plot-the-training-time-series-with-predictions" class="level1">
<h1>Plot the training time series with predictions</h1>
<p>plot(train.ts, ylim = c(1, 2.2), ylab = “GBP/USD”, xlab = “Time”, bty = “l”, xaxt = “n”, xlim = c(2003,2025), lty = 1) axis(1, at = seq(2003, 2025, 1), labels = format(seq(2003, 2025, 1))) lines(GBPUSD.nnetar.pred<span class="math inline">\(fitted, lwd = 2, col = "blue")
lines(GBPUSD.nnetar.pred\)</span>mean, lwd = 2, col = “blue”, lty = 2) lines(valid.ts)</p>
</section>
<section id="forecast-the-next-12-time-points-using-the-neural-network-model" class="level1">
<h1>Forecast the next 12 time points using the neural network model</h1>
<p>fcast &lt;- forecast(GBPUSD.nnetar, h=12)</p>
</section>
<section id="calculate-accuracy-of-the-neural-network-models-forecast" class="level1">
<h1>Calculate accuracy of the neural network model’s forecast</h1>
<p>accuracy(fcast$mean, valid.ts)</p>
<section id="me-rmse-mae-mpe-mape-acf1-theils-u-6" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-acf1-theils-u-6">ME RMSE MAE MPE MAPE ACF1 Theil’s U</h2>
</section>
<section id="test-set--0.1579078-0.1939157-0.1580158--12.68557-12.69434-0.7605601-7.320825" class="level2">
<h2 class="anchored" data-anchor-id="test-set--0.1579078-0.1939157-0.1580158--12.68557-12.69434-0.7605601-7.320825">Test set -0.1579078 0.1939157 0.1580158 -12.68557 12.69434 0.7605601 7.320825</h2>
</section>
</section>
<section id="reinitialize-the-random-seed" class="level1">
<h1>Reinitialize the random seed</h1>
<p>set.seed(201)</p>
</section>
<section id="rebuild-the-neural-network-model-using-the-entire-dataset" class="level1">
<h1>Rebuild the neural network model using the entire dataset</h1>
<p>GBPUSD.nnetar &lt;- nnetar(GBPUSD.ts, repeats = 20, p = 11, P = 1, size = 7)</p>
</section>
<section id="display-summary-of-the-neural-network-model-1" class="level1">
<h1>Display summary of the neural network model</h1>
<p>summary(GBPUSD.nnetar$model[[1]])</p>
<section id="a-12-7-1-network-with-99-weights-1" class="level2">
<h2 class="anchored" data-anchor-id="a-12-7-1-network-with-99-weights-1">a 12-7-1 network with 99 weights</h2>
</section>
<section id="options-were---linear-output-units-1" class="level2">
<h2 class="anchored" data-anchor-id="options-were---linear-output-units-1">options were - linear output units</h2>
</section>
<section id="b-h1-i1-h1-i2-h1-i3-h1-i4-h1-i5-h1-i6-h1-i7-h1-i8-h1-i9-h1-1" class="level2">
<h2 class="anchored" data-anchor-id="b-h1-i1-h1-i2-h1-i3-h1-i4-h1-i5-h1-i6-h1-i7-h1-i8-h1-i9-h1-1">b-&gt;h1 i1-&gt;h1 i2-&gt;h1 i3-&gt;h1 i4-&gt;h1 i5-&gt;h1 i6-&gt;h1 i7-&gt;h1 i8-&gt;h1 i9-&gt;h1</h2>
</section>
<section id="section-120" class="level2">
<h2 class="anchored" data-anchor-id="section-120">-2.20 -0.55 -2.93 2.61 -0.83 2.81 0.94 0.96 -4.78 1.08</h2>
</section>
<section id="i10-h1-i11-h1-i12-h1-1" class="level2">
<h2 class="anchored" data-anchor-id="i10-h1-i11-h1-i12-h1-1">i10-&gt;h1 i11-&gt;h1 i12-&gt;h1</h2>
</section>
<section id="section-121" class="level2">
<h2 class="anchored" data-anchor-id="section-121">-0.49 0.81 0.74</h2>
</section>
<section id="b-h2-i1-h2-i2-h2-i3-h2-i4-h2-i5-h2-i6-h2-i7-h2-i8-h2-i9-h2-1" class="level2">
<h2 class="anchored" data-anchor-id="b-h2-i1-h2-i2-h2-i3-h2-i4-h2-i5-h2-i6-h2-i7-h2-i8-h2-i9-h2-1">b-&gt;h2 i1-&gt;h2 i2-&gt;h2 i3-&gt;h2 i4-&gt;h2 i5-&gt;h2 i6-&gt;h2 i7-&gt;h2 i8-&gt;h2 i9-&gt;h2</h2>
</section>
<section id="section-122" class="level2">
<h2 class="anchored" data-anchor-id="section-122">0.34 -1.04 2.02 -1.51 -2.22 -3.26 -1.41 1.46 2.97 -1.69</h2>
</section>
<section id="i10-h2-i11-h2-i12-h2-1" class="level2">
<h2 class="anchored" data-anchor-id="i10-h2-i11-h2-i12-h2-1">i10-&gt;h2 i11-&gt;h2 i12-&gt;h2</h2>
</section>
<section id="section-123" class="level2">
<h2 class="anchored" data-anchor-id="section-123">-4.14 -3.26 2.62</h2>
</section>
<section id="b-h3-i1-h3-i2-h3-i3-h3-i4-h3-i5-h3-i6-h3-i7-h3-i8-h3-i9-h3-1" class="level2">
<h2 class="anchored" data-anchor-id="b-h3-i1-h3-i2-h3-i3-h3-i4-h3-i5-h3-i6-h3-i7-h3-i8-h3-i9-h3-1">b-&gt;h3 i1-&gt;h3 i2-&gt;h3 i3-&gt;h3 i4-&gt;h3 i5-&gt;h3 i6-&gt;h3 i7-&gt;h3 i8-&gt;h3 i9-&gt;h3</h2>
</section>
<section id="section-124" class="level2">
<h2 class="anchored" data-anchor-id="section-124">0.23 -0.93 1.62 -2.05 2.24 -2.08 -0.01 -0.17 -0.58 0.70</h2>
</section>
<section id="i10-h3-i11-h3-i12-h3-1" class="level2">
<h2 class="anchored" data-anchor-id="i10-h3-i11-h3-i12-h3-1">i10-&gt;h3 i11-&gt;h3 i12-&gt;h3</h2>
</section>
<section id="section-125" class="level2">
<h2 class="anchored" data-anchor-id="section-125">2.29 -1.60 -0.03</h2>
</section>
<section id="b-h4-i1-h4-i2-h4-i3-h4-i4-h4-i5-h4-i6-h4-i7-h4-i8-h4-i9-h4-1" class="level2">
<h2 class="anchored" data-anchor-id="b-h4-i1-h4-i2-h4-i3-h4-i4-h4-i5-h4-i6-h4-i7-h4-i8-h4-i9-h4-1">b-&gt;h4 i1-&gt;h4 i2-&gt;h4 i3-&gt;h4 i4-&gt;h4 i5-&gt;h4 i6-&gt;h4 i7-&gt;h4 i8-&gt;h4 i9-&gt;h4</h2>
</section>
<section id="section-126" class="level2">
<h2 class="anchored" data-anchor-id="section-126">-1.46 -1.41 0.88 -1.37 3.24 0.77 2.16 -0.62 -1.63 -0.22</h2>
</section>
<section id="i10-h4-i11-h4-i12-h4-1" class="level2">
<h2 class="anchored" data-anchor-id="i10-h4-i11-h4-i12-h4-1">i10-&gt;h4 i11-&gt;h4 i12-&gt;h4</h2>
</section>
<section id="section-127" class="level2">
<h2 class="anchored" data-anchor-id="section-127">3.79 -3.03 6.84</h2>
</section>
<section id="b-h5-i1-h5-i2-h5-i3-h5-i4-h5-i5-h5-i6-h5-i7-h5-i8-h5-i9-h5-1" class="level2">
<h2 class="anchored" data-anchor-id="b-h5-i1-h5-i2-h5-i3-h5-i4-h5-i5-h5-i6-h5-i7-h5-i8-h5-i9-h5-1">b-&gt;h5 i1-&gt;h5 i2-&gt;h5 i3-&gt;h5 i4-&gt;h5 i5-&gt;h5 i6-&gt;h5 i7-&gt;h5 i8-&gt;h5 i9-&gt;h5</h2>
</section>
<section id="section-128" class="level2">
<h2 class="anchored" data-anchor-id="section-128">-0.04 -0.39 -1.46 2.05 -2.50 1.99 -0.12 0.03 1.47 -1.07</h2>
</section>
<section id="i10-h5-i11-h5-i12-h5-1" class="level2">
<h2 class="anchored" data-anchor-id="i10-h5-i11-h5-i12-h5-1">i10-&gt;h5 i11-&gt;h5 i12-&gt;h5</h2>
</section>
<section id="section-129" class="level2">
<h2 class="anchored" data-anchor-id="section-129">-2.61 1.94 -0.02</h2>
</section>
<section id="b-h6-i1-h6-i2-h6-i3-h6-i4-h6-i5-h6-i6-h6-i7-h6-i8-h6-i9-h6-1" class="level2">
<h2 class="anchored" data-anchor-id="b-h6-i1-h6-i2-h6-i3-h6-i4-h6-i5-h6-i6-h6-i7-h6-i8-h6-i9-h6-1">b-&gt;h6 i1-&gt;h6 i2-&gt;h6 i3-&gt;h6 i4-&gt;h6 i5-&gt;h6 i6-&gt;h6 i7-&gt;h6 i8-&gt;h6 i9-&gt;h6</h2>
</section>
<section id="section-130" class="level2">
<h2 class="anchored" data-anchor-id="section-130">2.15 0.48 1.11 -1.17 -2.56 1.90 -5.83 3.64 2.07 -4.07</h2>
</section>
<section id="i10-h6-i11-h6-i12-h6-1" class="level2">
<h2 class="anchored" data-anchor-id="i10-h6-i11-h6-i12-h6-1">i10-&gt;h6 i11-&gt;h6 i12-&gt;h6</h2>
</section>
<section id="section-131" class="level2">
<h2 class="anchored" data-anchor-id="section-131">0.23 2.87 -3.71</h2>
</section>
<section id="b-h7-i1-h7-i2-h7-i3-h7-i4-h7-i5-h7-i6-h7-i7-h7-i8-h7-i9-h7-1" class="level2">
<h2 class="anchored" data-anchor-id="b-h7-i1-h7-i2-h7-i3-h7-i4-h7-i5-h7-i6-h7-i7-h7-i8-h7-i9-h7-1">b-&gt;h7 i1-&gt;h7 i2-&gt;h7 i3-&gt;h7 i4-&gt;h7 i5-&gt;h7 i6-&gt;h7 i7-&gt;h7 i8-&gt;h7 i9-&gt;h7</h2>
</section>
<section id="section-132" class="level2">
<h2 class="anchored" data-anchor-id="section-132">1.44 -2.31 2.05 -0.34 -4.69 -0.22 -5.12 2.20 5.54 -6.61</h2>
</section>
<section id="i10-h7-i11-h7-i12-h7-1" class="level2">
<h2 class="anchored" data-anchor-id="i10-h7-i11-h7-i12-h7-1">i10-&gt;h7 i11-&gt;h7 i12-&gt;h7</h2>
</section>
<section id="section-133" class="level2">
<h2 class="anchored" data-anchor-id="section-133">-1.72 -3.78 5.35</h2>
</section>
<section id="b-o-h1-o-h2-o-h3-o-h4-o-h5-o-h6-o-h7-o-1" class="level2">
<h2 class="anchored" data-anchor-id="b-o-h1-o-h2-o-h3-o-h4-o-h5-o-h6-o-h7-o-1">b-&gt;o h1-&gt;o h2-&gt;o h3-&gt;o h4-&gt;o h5-&gt;o h6-&gt;o h7-&gt;o</h2>
</section>
<section id="section-134" class="level2">
<h2 class="anchored" data-anchor-id="section-134">4.21 -1.12 -1.14 -3.19 -0.64 -2.77 -1.06 1.07</h2>
</section>
</section>
<section id="forecast-the-next-60-time-points-using-the-neural-network-model" class="level1">
<h1>Forecast the next 60 time points using the neural network model</h1>
<p>GBPUSD.nnetar.pred &lt;- forecast(GBPUSD.nnetar, h = 60)</p>
</section>
<section id="plot-the-entire-time-series-with-the-neural-network-models-predictions" class="level1">
<h1>Plot the entire time series with the neural network model’s predictions</h1>
<p>plot(GBPUSD.ts, ylim = c(1, 2.2), ylab = “GBP/USD (%)”, xlab = “Time”, bty = “l”, xaxt = “n”, xlim = c(2003,2030), lty = 1) axis(1, at = seq(2003, 2030, 1), labels = format(seq(2003, 2030, 1))) lines(GBPUSD.nnetar.pred<span class="math inline">\(fitted, lwd = 2, col = "blue")
lines(GBPUSD.nnetar.pred\)</span>mean, lwd = 2, col = “blue”, lty = 2)</p>
</section>
<section id="forecast-the-next-60-time-points-using-the-neural-network-model-and-calculate-accuracy" class="level1">
<h1>Forecast the next 60 time points using the neural network model and calculate accuracy</h1>
<p>fcast &lt;- forecast(GBPUSD.nnetar, h=60) accuracy(GBPUSD.nnetar.pred$fitted, GBPUSD.ts)</p>
<section id="me-rmse-mae-mpe-mape-acf1" class="level2">
<h2 class="anchored" data-anchor-id="me-rmse-mae-mpe-mape-acf1">ME RMSE MAE MPE MAPE ACF1</h2>
</section>
<section id="test-set--7.349151e-06-0.0210837-0.01593545--0.02976382-1.082309--0.006698643" class="level2">
<h2 class="anchored" data-anchor-id="test-set--7.349151e-06-0.0210837-0.01593545--0.02976382-1.082309--0.006698643">Test set -7.349151e-06 0.0210837 0.01593545 -0.02976382 1.082309 -0.006698643</h2>
</section>
<section id="theils-u-1" class="level2">
<h2 class="anchored" data-anchor-id="theils-u-1">Theil’s U</h2>
</section>
<section id="test-set-0.560275" class="level2">
<h2 class="anchored" data-anchor-id="test-set-0.560275">Test set 0.560275</h2>
<p>Lab 17: neural Networks II</p>
<p>(there is a R script on the notes in the slides)</p>
<p>This is the last session about analytics and Q&amp;A session about your projects.</p>
<p>PRACTICE LABS</p>
<p>Lab 13 – models with trend and seasonality</p>
<p>As in the previous labs, this week, we will cover a practical example linked to the immediate last lecture. In my youtube channel, I produced one example using European GDP; for future reference, you can review .</p>
<p>ACTIVITY ONE – Retail Sales</p>
<p>Task1. The retail sector is without doubts one of the most affected sectors during the pandemic; your first task is to read the latest report from ONS,</p>
<p>Task 2. Go to the folder ‘R Code’ in bb and download and open the file ‘Models with trend and seasonality. I wrote this R code for the excel file ‘ONS retail.xls’, the excel file is available in the folder ‘Data sets’ in bb, you shall also download the excel file and place the file any folder such as ‘Documents’; note we created a default working directory for econ2545 on a previous lab.</p>
<p>Run the entire code and check line by line to understand what you are doing, if you have questions about any line in the code, ask your lecturer during the session.</p>
<p>Task 2. The excel file Retails sales is outdated, and it would be fantastic to analyse the retail sales as this sector is very important for the UK economy. You must update the excel file using the ONS website or Refinitiv. Section 7, on the ONS link above, contains data for non seasonally adjusted retail sales, which could be better as we would like to forecast with seasonality.</p>
<p>Task 3. Know that you know how to adapt the R code to new data, its time to use the dataset you will use for your first assessment (presentation 40%). Adapt the code and ask questions to your lecturer if needed.</p>
<p>Lab 15- Foreign Exchange Rate Market</p>
<p>Activity 1. FX Top of Book</p>
<p>Task 1. In the Eikon Toolbar, search <tob>.</tob></p>
<p>Task 2. Press the icon settings in order to add new profiles (groups of currencies) or different currencies into a group.</p>
<p>Activity 2. Currency Performance/ Value Tracker</p>
<p>Using the Currency Performance/ Value Tracker application, users can compare how a specific currency performed historically and currently. While the 3 months implied volatility implies the market’s sentiments on the currency pair currently, the 3 months realised volatility is the traded volatility 3 months ago. Hence, comparing the two figures could be beneficial to an options buyer as to whether they should buy or sell an option right now.</p>
<p>Task 1. In the Eikon Toolbar, search <fxpt></fxpt></p>
<p>For example, Here, the 3M implied volatility for USDCAD is 6.75 while the 3M realised volatility is 6.57. Hence the currency pair USDCAD is currently more volatile as compared to 3M ago.</p>
<p>Have a look at the current volatiliries, what is the most volatile currency pair using both implied and realised volatility?</p>
<p>ACTIVITY 3. FX Polls / FX forecast</p>
<p>Task1. Type FX Polls or FX Forecast in the application Search box located on the top left of your screen.</p>
<p>You can also access FX Polls by going to Refinitiv Icon next to the search box and Click &gt; Markets &gt; FX Overview Guide, and clicking the FX Polls link available in the MARKET TOOLS area.</p>
<p>Task 2. Choose one of the forecast contributors and check the box ‘Show Historical Poll Data’. In your opinion, what is the best forecaster for EURUSD?</p>
<p>Activity 4. Calculating GBPUSD autocorrelation</p>
<p>Task 1. Get the time series in R.</p>
<section id="api" class="level4">
<h4 class="anchored" data-anchor-id="api">API</h4>
<p>#install.packages(“devtools”)</p>
<p>library(devtools)</p>
<p>#install_github(“ahmedmohamedali/eikonapir”, force=TRUE)</p>
<p>library(eikonapir)</p>
<p>eikonapir::set_proxy_port(9000L)</p>
<p>eikonapir::set_app_id(‘your Refinitiv Key - APPKEY’)</p>
<p>gbp &lt;- get_timeseries(“GBP=”,</p>
<p>start_date = “2013-01-01T01:00:00”,</p>
<p>end_date= paste0(Sys.Date(), “T01:00:00”),</p>
<p>raw_output = FALSE, interval = “monthly”)</p>
<p>str(gbp)</p>
<p>gbp.n &lt;- as.numeric(gbp$‘CLOSE’)</p>
<p>gbp.df &lt;-as.data.frame(gbp.n)</p>
<p>View(gbp.df)</p>
<p>Task 2. Declare the dataset as a time series and run an ACF plot to check the autocorrelation.</p>
<p>#install.packages(“forecast”)</p>
<p>library(forecast)</p>
<p>#install.packages(“zoo”)</p>
<p>library(zoo)</p>
</section>
</section>
</section>
<section id="set-as-a-time-series-and-plot-the-data-1" class="level1">
<h1>set as a time series and plot the data</h1>
<p>gbp.ts &lt;- ts(gbp.df, start = c(2013,1), end = c(2020, 12), freq = 12)</p>
<p>plot(gbp.ts)</p>
<p>#Autocorrelation ACF</p>
<p>Acf(gbp.ts, lag.max = 24, main = “ACF GBPUSD”)</p>
<p>Task 3. Generate partitions of the data</p>
<p>stepsAhead &lt;- 12</p>
<p>nTrain &lt;- length(gbp.ts) - stepsAhead</p>
<p>train.ts &lt;- window(gbp.ts, start = c(2013, 1), end = c(2013,nTrain))</p>
<p>valid.ts &lt;- window(gbp.ts, start = c(2013, nTrain + 1), end = c(2013, nTrain + stepsAhead))</p>
<p>Task 4. Estimate the training period using linear regression</p>
</section>
<section id="summary-of-output-from-fitting-additive-seasonality" class="level1">
<h1>summary of output from fitting additive seasonality</h1>
</section>
<section id="note-cuadratic-trend-and-seasonality-removed-as-no-significant" class="level1">
<h1>note: cuadratic trend and seasonality removed as no significant</h1>
<p>train.lm.trend.season &lt;- tslm(train.ts ~ trend )</p>
<p>summary (train.lm.trend.season)</p>
<p>Task 5. Is there autocorrelation in the errors?</p>
</section>
<section id="is-there-autocorrelation" class="level1">
<h1>is there autocorrelation?</h1>
<p>Acf(train.lm.trend.season$residuals, lag.max = 24, main = “Linear regression errors - ACF GBPUSD”)</p>
<p>Task 6. Fit an AR(1) model with the errors to improve.</p>
<p>train.res.arima &lt;- Arima(train.lm.trend.season$residuals, order = c(1,0,0))</p>
<p>summary(train.res.arima)</p>
<p>Acf(train.res.arima$residuals, lag.max = 24, main = “ACF GBPUSD”)</p>
<p>It’s better, but we can carry on using AR (2) to improve.</p>
<p>Lab 16 – Money Market and Bond Yield Polls <mbyp>; Why inverted yield curves are important?</mbyp></p>
<p>Activity 1. Find in Refinitiv news the concepts of inverted yield curves, and operation’ twist’.</p>
<p>Activity 2. Using linear regression Forecast the short run yields and compare your forecast with the best contributors forecast.</p>
<p>Task 1. Use the command <mbyp> to open a window with Money Market and Bond Yield polls. Choose as country ‘United States’, and in poll type select ‘Bond Yields’.</mbyp></p>
<p>Task 2. Select two specific contributors; a line representing their forecast could be added by clicking the box next to their name. Try to choose two good contributors by visualising their past forecasting performance.</p>
<p>Task 3. If you have technical problems with Mac and Refinitiv, you can download the file ‘yields.xlsx’ from bb folder datasets. Click on the excel icon and download 5-years data for your selected contributors. You must clean the file as in the picture below.</p>
<p>Task 4. Find a better forecast than the ones performed by the contributors. Following your forecast, recommend whether operation’ twist’ will be needed in the US.</p>
<p>#install.packages(“forecast”)</p>
<p>library(forecast)</p>
<p>#install.packages(“lubridate”)</p>
<p>library(lubridate)</p>
<p>library(readxl)</p>
<p>library(zoo)</p>
<p>yields &lt;- read_excel(“~/econ2545/datasets/yields.xlsx”,</p>
<p>skip = 6)</p>
<p>#View(yields)</p>
<p>yields<span class="math inline">\(date &lt;- as.Date(yields\)</span>date, format = “%d/%m/%Y”)</p>
<p>x &lt;- as.data.frame(cbind(c(NA,head(yields<span class="math inline">\(y2actual,-1)), yields\)</span>y2bbva))</p>
<p>x</p>
<p>#View(x)</p>
<p>y &lt;- yields$y2actual</p>
<p>#View(y)</p>
<p>nTotal &lt;- length(y)-4</p>
<p>nValid &lt;- 4</p>
<p>nTrain &lt;- nTotal - nValid</p>
<p>xTrain &lt;- x[1:nTrain,]</p>
<p>yTrain &lt;- y[1:nTrain]</p>
<p>#View(xTrain)</p>
<p>xValid &lt;- x[(nTrain + 1):nTotal,]</p>
<p>yValid &lt;- y[(nTrain + 1):nTotal]</p>
<p>yTrain.ts &lt;- ts(yTrain)</p>
<p>(formula &lt;- as.formula(paste(“yTrain.ts”, paste(c(““, colnames(xTrain)), collapse =”+“), sep =”~“)))</p>
<p>yields.tslm &lt;- tslm(formula, data = xTrain)</p>
<p>yields.tslm.pred &lt;- forecast(yields.tslm, newdata = xValid)</p>
<p>plot(y, ylim = c(-1, 6), xlab = “Quarters”, ylab = “Quarterly Yields”, xaxt=“n”)</p>
<p>axis(1, at = seq(1, 20, 4), labels = format(seq(2017, 2021, 1)))</p>
<p>options(scipen = 999, digits=6)</p>
<p>summary(yields.tslm)</p>
<p>#lines(y)</p>
<p>lines(yields$y2aeconomics, col=“blue”)</p>
<p>lines(yields$y2amundi, col=“orange”)</p>
<p>lines(yields$y2bbva, col=“red”)</p>
<p>lines(yields.tslm.pred$mean, col=“black”, type = “l”, lwd=5)</p>
<p>lines(yields.tslm.pred$fitted)</p>
<p>xValid2 &lt;- x[(nTrain + 1):(nTotal+4),]</p>
<p>yields.tslm2 &lt;- tslm(formula, data = xTrain, lambda = 1)</p>
<p>yields.tslm.pred2 &lt;- forecast(yields.tslm2, newdata = xValid2)</p>
<p>lines(yields.tslm.pred2$mean)</p>
<p>xValid2</p>
<p>Lab 18 – Neural Networks</p>
<p>Forecasting Australian Wine Sales: The figure shows time plots of monthly sales of six types of Australian wines (red, rose, sweet white, dry white, sparkling, and fortified) for</p>
<p>1980-1994. Data available in AustralianWines.xls. The units are thousands of liters.</p>
<p>You are hired to obtain short-term forecasts (2-3 months ahead) for each of the six series, and this task will be repeated every month.</p>
<p>Would you consider neural networks for this task? Explain why.</p>
<p>No: these series are not high frequency; they exhibit seasonality and/or trend, which should be possible to model with linear regression and/or smoothing.</p>
<p>Use neural networks to forecast fortified wine sales, as follows:</p>
<p>Partition the data using the period until December 1993 as the training period.</p>
<p>Run a neural network using R’s nnetar with 11 non-seasonal lags (i.e., p = 11). Leave all other arguments at their default</p>
<p>dat = read.csv(“AustralianWines.csv”) require(forecast)</p>
<p>require(zoo) require(caret)</p>
</section>
<section id="just-fortified-wine-dat---dat12" class="level1">
<h1>Just fortified wine dat &lt;- dat[,1:2]</h1>
</section>
<section id="create-ts-object" class="level1">
<h1>Create ts object</h1>
<p>dat.ts &lt;- ts(dat$Fortified, start = c(1980,1), end = c(1994,12), freq = 12)</p>
</section>
<section id="slice-the-sets" class="level1">
<h1>Slice the sets</h1>
<p>train.ts &lt;- window(dat.ts, start = c(1980,1), end = c(1993,12)) valid.ts &lt;- window(dat.ts, start = c(1994,1), end = c(1994,12))</p>
</section>
<section id="train-the-neural-net" class="level1">
<h1>Train the neural net</h1>
<p>train.nnetar &lt;- nnetar(train.ts,p = 11) summary(train.nnetar$model[[1]]) train.ts.pred &lt;- forecast(train.nnetar,h = 12) accuracy(train.ts.pred, valid.ts)</p>
<p>Create a time plot for the actual and forecasted series over the training period. Create also a time plot of the forecast errors for the training period. Interpret what you see in the plots.</p>
</section>
<section id="plot-results" class="level1">
<h1>plot results</h1>
<p>plot(train.ts, ylim = c(-200,5500), ylab = “Fortified”, xlab = “Time”, bty = “l”, xlim = c(1980,1994), lty = 1)</p>
<p>lines(train.ts.pred<span class="math inline">\(fitted, lwd = 1, col = "blue") lines(train.ts.pred\)</span>residuals, col = “red”) lines(train.ts.pred$mean, lwd = 1, col = “blue”, lty = 2) lines(valid.ts)</p>
<p>The fit is too good (indicating overfitting)</p>
<p>Use the neural net to forecast sales in January and February 1994.</p>
<p>Jan 1994: 1,426.92</p>
<p>Feb 1994: 1,254.17</p>
<p>Compare your neural net to an exponential smoothing model used to forecast fortified wine sales.</p>
<p>Use R’s ets function to automatically select and fit an exponential smoothing model to the training period until December 1993. Which model did ets fit?</p>
<p>The model is M,A,M: Multiplicative Error, Additive trend, Multiplicative Seasonality with alpha =</p>
<p>0.055 and beta and gamma set to near zero:</p>
<p>train.ets &lt;- ets(train.ts)</p>
<blockquote class="blockquote">
<p>summary(train.ets) ETS(M,A,M)</p>
</blockquote>
<p>Call:</p>
<p>ets(y = train.ts) Smoothing parameters: alpha = 0.0555</p>
<p>beta = 9e-04 gamma = 1e-04 Initial states:</p>
<p>l = 4040.0811</p>
<p>b = -6.7983</p>
<p>s=1.1316 1.0399 0.8877 0.9505 1.2722 1.3862 1.1463 1.1097 0.9345 0.8513 0.6996 0.5903</p>
<p>sigma: 0.0859 AIC AICc BIC</p>
<p>2755.038 2759.118 2808.145</p>
<p>Training set error measures:</p>
<p>ME RMSE MAE MPE MAPE MASE ACF1</p>
<p>Training set -25.32466 287.8687 224.6507 -1.317643 7.229271 0.8073515 0.05168201</p>
<p>Use this exponential smoothing model to forecast sales in January and February 1994.</p>
<p>train.ets.pred &lt;- forecast(train.ets, h = 2) Jan 1994: 1289.829164</p>
<p>Feb 1994: 1521.475001</p>
<p>How does this setting compare to the lagged-series setting in terms of predictive performance?</p>
<p>accuracy(train.ts.pred, valid.ts)</p>
<p>accuracy(train.ets.pred, valid.ts)</p>
<p>Accuracy of NN Model:</p>
<p>ME RMSE MAE MPE MAPE MASE ACF1 Theil’s U</p>
<p>Training set -0.18756 77.39955 59.99268 -0.22975 2.174161 0.215602 -0.07679 NA</p>
<p>Test set 200.3241 348.627 312.5818 7.559032 14.33551 1.123359 -0.25296 0.812298</p>
<p>Accuracy of ETS Model:</p>
<p>ME RMSE MAE MPE MAPE MASE ACF1 Theil’s U</p>
<p>Training set -25.3247 287.8687 224.6507 -1.31764 7.229271 0.807351 0.051682 NA</p>
<p>Test set 125.5691 328.9246 256.394 4.443793 10.85886 0.921431 -0.01106 0.714046</p>
<p>Supplementary Lab 1</p>
<p>Refinitiv training</p>
<p>Click on the question mark icon.</p>
<p>Then click on training.</p>
<p>Click on ‘Live Training’.</p>
<p>Schedule one of the courses at Refinitiv.</p>
<p>Supplementary Lab – Social, Macro Overview and Signal</p>
<p>Activity 1 - <social></social></p>
<p>Social Media Monitor The Social Media Monitor uses text mining to view trends in the markets from a social perspective over the last few days. Eikon users can choose different instruments by searching in the in-app search bar and selecting a sentiment line or bar chart to visually view a particular company’s positivity or negativity in the social media network. “social” would give you an idea about the market sentiment regarding a specific company and help predict possible stock price movements.</p>
<ol type="1">
<li><p>In the Eikon Toolbar, search to open the social monitor application</p></li>
<li><p>Select the different instruments and click on the symbol to display it on the sentiment line or bar chart.</p></li>
<li><p>The leftmost column would display the latest tweets and posts about the company of interest.</p></li>
</ol>
<p>Activity 2 – Macroeconomic Overview</p>
<p>The economic overview page allows to download historical data for each country.</p>
<p>Look at the ‘Economic Overview’ of Mexico.</p>
<p>Review GDP per capita constant prices</p>
<p>Select the maximum number of years for the historical data.</p>
<p>Review and follow the training video about ‘Macroeconomic Overview’. Training videos can be found in the icon “?” at the top of your Refinitiv workspace.</p>
<p>Supplementary Activity 3 - <signal></signal></p>
<p>Signal monitors a list of securities real-time against one or more technical criteria. It immediately alerts you in the signal panel when a security meets one or more of the conditions. In the Eikon toolbar, search to open the application.</p>
<ol type="1">
<li><p>Click the icon next to the “Add symbol or portfolio” option to customise which Portfolios, Chain RICs or Individual RICs you are interested in.</p></li>
<li><p>Click the icon next to the “Add signal” option to customise the type of signal you want to monitor.</p></li>
</ol>
<p>Supplementary Activity</p>
<p>Questions about students’ projects.</p>
<p>Supplementary Lab – Alternative investing and CBA</p>
<p>ACTIVITY 1 – Alternative investing</p>
<p>There are alternative investments to stocks, bonds and forex (foreign exchange rate market). One example is yieldstreet.com, a company that provides access to alternative investments previously reserved only for institutions and the ultra-wealthy. This company generates financial products more inclusive by creating a modern investment portfolio. We will review their site for educative purposes only as some of their projects and investments are a good example of cost-benefit analysis in the real life.</p>
<p>Go to</p>
<p>Click on the label ‘product’ and then ‘Real estate investing’.</p>
<p>Click on ‘view open offerings’ and then</p>
<p>Click on ‘Dallas-Fort Worth Multi-Family Equity I’, read to the proposal and identify the costs and benefits from the investor perspective.</p>
<p>Create or use a gmail account and click on ‘log in’</p>
<p>After log in, read the investment memorandum for more details about the investment.</p>
<p>ACTIVITY 2 – Cost Benefit questions</p>
<ol type="1">
<li><p>Requiring bicycle riders to wear helmets, Boardman et al.(2014), CH1, exercise 1, p23</p></li>
<li><p>Building a public swimming pool, Boardman et al.(2014), CH1, exercise 3, p24</p></li>
<li><p>VHS vs Beatamax, , Boardman et al.(2014), CH1, exercise 1, p48</p></li>
<li><p>Requiring bicycle riders to wear helmets, Boardman et al.(2014), CH1, exercise 1, p23</p></li>
</ol>
<p>Imagine that you live in a city that currently does not require bicycle riders to wear helmets. Furthermore, imagine that you enjoy riding your bicycle without wearing a helmet.</p>
<ol type="a">
<li><p>From your perspective, what are the major costs and benefits of a proposed city ordinance that would require all bicycle riders to wear helmets?</p></li>
<li><p>What are the categories of costs and benefits from society’s perspective?</p></li>
</ol>
<p>1.a. The most significant categories of costs to you as an individual are probably: the purchase price of a helmet, the reduced pleasure of riding your bicycle while wearing a helmet, diminished appearance when you take the helmet off (bad hair), and the inconvenience of keeping the helmet available. The most significant categories of benefits are probably: reduced risk of serious head injury (morbidity) and reduced risk of death (mortality).</p>
<p>1.b. There are a number of categories of costs and benefits that do not affect you (directly or are insignificant), but which are important in aggregate. These are:</p>
<p>program enforcement (a cost)</p>
<p>reduced health care costs (a benefit), although this may not be as high as one might expect if bicyclists ride more aggressively because they feel safer (this is called off-setting behaviour)</p>
<p>increased pollution, due to cyclists switching to cars (a cost)</p>
<p>A social cost-benefit analysis would take account of these costs and benefits in addition to your costs.</p>
<ol start="2" type="1">
<li>Building a public swimming pool, Boardman et al.(2014), CH1, exercise 3, p24</li>
</ol>
<p>(Instructor-provided spreadsheet recommended) Your county is considering building a public swimming pool. Analysts have estimated the present values of the following effects over the expected useful life of the pool:</p>
<p>PV</p>
<p>(million dollars)</p>
<p>State grant: 2.2</p>
<p>Construction and maintenance costs: 12.5</p>
<p>Personnel costs: 8.2</p>
<p>Revenue from county residents: 8.6</p>
<p>Revenue from non-residents: 2.2</p>
<p>Use value benefit to county residents: 16.6</p>
<p>Use value benefit to non-residents: 3.1</p>
<p>Scrap value: 0.8</p>
<p>The state grant is only available for this purpose. Also, the construction and maintenance will have to be done by an out-of-county firm.</p>
<ol type="a">
<li><p>Assuming national-level standing, what are the social net benefits of the project?</p></li>
<li><p>Assuming county-level standing, what are the social net benefits of the project?</p></li>
<li><p>How would a guardian in the county budget office calculate net benefits?</p></li>
<li><p>How would a spender in the county recreation department calculate net benefits?</p></li>
</ol>
<ol start="3" type="1">
<li>The spreadsheet available from the instructor web page facilitates the following estimates of net benefits (millions of dollars):</li>
</ol>
<p>We recommend that instructors delete the cell entries under these columns and distribute the spreadsheet to students. As this is a very simple use of a spreadsheet, it makes a good introduction for students who have not used them before.</p>
<p>As an alternative, instructors can distribute the spreadsheet as provided and give the students a different set of costs and benefits.</p>
<ol start="3" type="1">
<li>VHS vs Beatamax, , Boardman et al.(2014), CH1, exercise 1, p48</li>
</ol>
<p>Many experts claim that, although VHS came to dominate the video recorder market, Betamax was a superior technology. Assume that these experts are correct, so that, all other things equal, a world in which all video recorders were Betamax technology would be Pareto superior to a world in which all video recorders were VHS technology. Yet it seems implausible that a policy that forced a switch in technologies would be even potentially Pareto improving Explain.</p>
<ol type="1">
<li>Obviously, the switch itself from Betamax to VHS would be costly: the stocks of existing VHS tapes and equipment would lose their value and equipment for producing them would have to be retired earlier than would otherwise be the case. As the replacement would almost certainly occur gradually, there would be a transition period during which positive “network” externalities, the benefits from having compatible systems, would be reduced.</li>
</ol>
<p>More generally, it is important to keep in mind the distinction between Pareto efficient outcomes and Pareto efficient moves. If everyone were at least as well off, and some were better off, in some alternative to the status quo, then the alternative would be considered Pareto superior. Yet, if the move to the alternative were sufficiently costly, then it would not be Pareto improving. Only if the move were costless, the common assumption in the comparison of alternative equilibria in economic theory, would the Pareto efficiency of outcomes correspond to the Pareto efficiency of moves. In the real world, moves are rarely costless so that policy alternatives are best thought of as moves rather then as outcomes.</p>
<p>Supplementary Lab - Willingness to pay</p>
<ol start="2" type="1">
<li>Let’s explore the concept of willingness to pay with a thought experiment. Imagine a specific sporting, entertainment, or cultural event that you would very much like to attend-perhaps a World Cup match, the seventh game of the World Series, a Garth Brooks concert, or Kathleen Battle performance.</li>
</ol>
<ol type="a">
<li><p>What is the most you would be willing to pay for a ticket to the event?</p></li>
<li><p>Imagine that you won a ticket to the event in a lottery. What is the minimum amount of money that you would be willing to accept to give up the ticket?</p></li>
<li><p>Imagine that you had an income 50 percent higher than it is now, but that you didn’t win a ticket to the event. What is the most you would be willing to pay for a ticket?</p></li>
<li><p>Do you know anyone who would sufficiently dislike the event that they would not use a free ticket unless they were paid to do so?</p></li>
<li><p>Do your answers suggest any possible generalizations about willingness to pay?</p></li>
</ol>
<p>2.a. Students’ answers will vary (they should be &gt; or = 0).</p>
<p>2.b. Most people would be willing to pay less to obtain something than the amount of compensation they would require to give the same thing up willingly if they already owned it. This difference has been frequently observed and economists refer to it as “the difference between willingness to pay and willingness to accept.” Though some of the difference may be attributable to the lower wealth level of the individual in the first case than in the second case, it almost certainly also reflects the way people perceive gains and losses.</p>
<p>2.c. Willingness to pay depends on people’s wealth. If a person’s income rises, then the person is wealthier and is likely to be willing to pay more for goods such as tickets to recreational events. (Recreational events are normal goods.)</p>
<p>2.d. Different people can have very different willingness-to-pay amounts for the same good. Indeed, it is quite likely that some people would have a negative willingness to pay for a recreational event that others would be willing to pay large positive amounts to attend – tastes differ. In CBA, it is important to keep in mind that a project effect may simultaneously be viewed by some as a benefit and by others as a cost.</p>
<ol start="3" type="1">
<li>How closely do government expenditures measure opportunity cost for each of the following program inputs?</li>
</ol>
<ol type="a">
<li><p>Time of jurors in a criminal justice program that requires more trials.</p></li>
<li><p>Land to be used for a nuclear waste storage facility, which is owned by the government and located on a military base.</p></li>
<li><p>Labor for a reforestation program in a small rural community with high unemployment.</p></li>
<li><p>Labor of current government employees who are required to administer a new program.</p></li>
<li><p>Concrete that was previously poured as part of a bridge foundation.</p></li>
</ol>
<p>3.a. Most jurisdictions pay jurors a small per diem and reimburse them for commuting and meal expenses. For most jurors, these payments fall short of the opportunity costs of their time. For employed workers, a more reasonable estimate of the opportunity cost of their time would be their wage rates. Note that, from the social perspective, it makes no difference whether or not workers continue to receive their wages while on jury duty. Society is forgoing their labor, which the market values at their wage rates. For those not employed, the opportunity cost is the value they place on their forgone leisure.</p>
<p>3.b. Assume that the government does not charge itself for the use of land that it owns. As long as the land could be used for something other than a nuclear waste facility, the government’s accounting would underestimate the opportunity cost of the land. If the land could be sold to private developers, for example, then its market price would be a better reflection of its opportunity cost. If the fact that the land is on a military base precludes its sale to private developers, then the opportunity cost of the land would depend on the other uses to which it could be put by the government.</p>
<p>3.c. Government expenditures on wages would overestimate the opportunity cost if the workers would have otherwise been unemployed. The opportunity cost of the workers is the value they place on the leisure time that they are giving up.</p>
<p>3.d. As the employees are already on the government payroll, the diversion of their time to the program would not involve additional expenditures. The opportunity cost of their time depends on how they would have been using it in the absence of the program. If the government efficiently used labor, then the opportunity cost of their time would be measured by their wage rates. If the government inefficiently used labor, so that the value of output given up per hour diverted is less than their wage rate, then the opportunity cost would be less than the wage rate.</p>
<p>3.e. Once it is in place, the concrete has zero opportunity cost if it cannot be salvaged and reused, regardless of whether or not the government has yet paid the bill for it. This is the classic case of a “sunk cost.” Indeed, imagine that if the bridge project were to be cancelled. Then, for safety reasons, the concrete would have to be removed, requiring the use labor and equipment. Consequently, with respect to the bridge project, the opportunity cost of the concrete is negative – not having to remove it is a benefit of continuing the project!</p>
<ol start="4" type="1">
<li>Three mutually exclusive projects are being considered for a remote river valley: Project R, a recreational facility, has estimated benefits of $10 million and costs of $8 million; project F, a forest preserve with some recreational facilities, has estimated benefits of $13 million and costs of $10 million; project W, a wilderness area with restricted public access, has estimated benefits of $5 million and costs of $1 million. In addition, a road could be built for a cost of $4 million that would increase the benefits of project R by $8 million, increase the benefits of project F by $5 million, and reduce the benefits of project W by $1 million. Even in the absence of any of the other projects, the road has estimated benefits of $2 million.</li>
</ol>
<p>Calculate the benefit-cost ratio and net benefits for each possible alternative to the status quo. Note that there are seven possible alternatives to the status quo: R, F, and W, both with and without the road, and the road alone.</p>
<p>If only one of the seven alternatives can be selected, which should be selected according to the CBA decision rule?</p>
<p>4.a. The seven possible alternatives to the status quo have the following costs (millions), benefits (millions), benefit/cost ratios, and net benefits (millions):</p>
<p>Alternative B C B/C Ratio NB</p>
<p>Project R without road $10 $8 1.25 $2</p>
<p>Project R with road 18 12 1.50 6</p>
<p>Project F without road 13 10 1.30 3</p>
<p>Project F with road 18 14 1.38 4</p>
<p>Project W without road 5 1 5.00 4</p>
<p>Project W with road 4 5 0.80 -1</p>
<p>Road alone 2 4 0.50 -2</p>
<p>4.b. Even though Project W without the road has the largest benefit/cost ratio, Project R with the road offers the largest net benefits among the possible projects and therefore would be selected by the CBA decision rule.</p>
<p>Supplementary Lab – R Shiny</p>
<p>What is a Shiny App? R Shiny is a web application framework for R that allows you to create interactive web apps for data visualization and analysis without needing to know HTML, CSS, or JavaScript. It enables users to turn their R code into interactive dashboards, reports, or tools.</p>
<p>Let’s review an example. The idea is to look at what the package Shiny can do rather than the details of the coding. Go to the public directory for BECS 2002, open the folder R Shiny Tutorial, there is a subfolder ’01-01’, you will find there the R project ’01-01’ which is an example of what R shiny does. Double click to open the R project ’01-01’ in RStudio.</p>
<p>Double-click on server.R, ui.R and data-processing.R . Check the created tabs and install packages if necessary, look an example below, I installed the package shinycustomloader.</p>
<p>Go to the tab server.R and click on ‘Run App’.</p>
<p>Select any continent, country, indicator and click on update chart. This is an interactive web application! And it has been built entirely with R.</p>
<p>Concepts:</p>
<p>Shiny is a self contained web framework for building interactive web apps with R code.</p>
<p>An individual Shiny app in an interactive web app viewed in a web browser.</p>
<p>Shiny runs the R code on the ‘server’ not in the web browser.</p>
<p>You can deploy apps to the fully hosted shinyapps.io or self host using Shiny Server.</p>


</section>

</main> <!-- /main -->
<script>

  let textbookContent = "";



  const textFiles = [

    "labs/text001.txt",

    "labs/text002.txt",

    "labs/text003.txt",

    "labs/text004.txt",

    "labs/text005.txt",

    "labs/text006.txt"

  ];



  async function loadTextFiles() {

    const fetches = textFiles.map(file => fetch(file).then(r => r.text()));

    const contents = await Promise.all(fetches);

    textbookContent = contents.join("\n").slice(0, 3000);  // Limit context length if needed

  }



  document.addEventListener("DOMContentLoaded", async function () {

    await loadTextFiles();



    const sidebar = document.querySelector(".sidebar-navigation");

    if (!sidebar) return;



    const aiContainer = document.createElement("div");

    aiContainer.style.marginTop = "30px";

    aiContainer.style.padding = "10px";

    aiContainer.style.background = "#f8f9fa";

    aiContainer.style.borderTop = "1px solid #ccc";



    aiContainer.innerHTML = `

      <h4 style="margin-top:0;">🤖 Ask AI</h4>

      <textarea id="user-input" style="width:100%; height:60px; font-size:0.85em;" placeholder="Ask a question..."></textarea>

      <button onclick="sendToAssistant()" style="width:100%; margin-top:5px; font-size:0.85em;">Send</button>

      <div id="assistant-response" style="margin-top:10px; font-size:0.8em; max-height:150px; overflow:auto;"></div>

    `;



    sidebar.appendChild(aiContainer);

  });



  async function sendToAssistant() {

    const userInput = document.getElementById("user-input").value;

    if (!userInput) return;



    const responseBox = document.getElementById("assistant-response");

    responseBox.innerText = "Thinking...";



    try {

      const response = await fetch("https://key-openai-proxy.vercel.app/api/proxy", {

        method: "POST",

        headers: {

          "Content-Type": "application/json"

        },

        body: JSON.stringify({

          model: "gpt-3.5-turbo",

          messages: [

            {

              role: "system",

              content: `You are a helpful teaching assistant for a book titled "Econometrics and Analytics" by Camilo Calderon. Here is part of the textbook:\n\n${textbookContent}`

            },

            {

              role: "user",

              content: userInput

            }

          ],

          temperature: 0.7

        })

      });



      const data = await response.json();



      if (data.error) {

        console.error("OpenAI Error:", data.error);

        responseBox.innerText = `Error: ${data.error.message || "Unknown error from OpenAI"}`;

        return;

      }



      const reply = data.choices?.[0]?.message?.content || "No response received.";

      responseBox.innerText = reply;

    } catch (error) {

      console.error("Fetch error:", error);

      responseBox.innerText = "Error talking to AI: " + error.message;

    }

  }

</script>

<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>